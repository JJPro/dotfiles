{
  "version": 3,
  "sources": ["../node_modules/defer-to-connect/dist/source/index.js", "../node_modules/get-stream/buffer-stream.js", "../node_modules/get-stream/index.js", "../node_modules/http-cache-semantics/index.js", "../node_modules/json-buffer/index.js", "../node_modules/keyv/src/index.js", "../node_modules/decompress-response/node_modules/mimic-response/index.js", "../node_modules/decompress-response/index.js", "../node_modules/quick-lru/index.js", "../node_modules/http2-wrapper/source/utils/delay-async-destroy.js", "../node_modules/http2-wrapper/source/agent.js", "../node_modules/http2-wrapper/source/incoming-message.js", "../node_modules/http2-wrapper/source/utils/proxy-events.js", "../node_modules/http2-wrapper/source/utils/errors.js", "../node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js", "../node_modules/http2-wrapper/source/utils/validate-header-name.js", "../node_modules/http2-wrapper/source/utils/validate-header-value.js", "../node_modules/http2-wrapper/source/utils/proxy-socket-handler.js", "../node_modules/http2-wrapper/source/client-request.js", "../node_modules/resolve-alpn/index.js", "../node_modules/http2-wrapper/source/utils/calculate-server-name.js", "../node_modules/http2-wrapper/source/auto.js", "../node_modules/http2-wrapper/source/utils/js-stream-socket.js", "../node_modules/http2-wrapper/source/proxies/unexpected-status-code-error.js", "../node_modules/http2-wrapper/source/utils/check-type.js", "../node_modules/http2-wrapper/source/proxies/initialize.js", "../node_modules/http2-wrapper/source/proxies/get-auth-headers.js", "../node_modules/http2-wrapper/source/proxies/h1-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-hx.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h2.js", "../node_modules/http2-wrapper/source/proxies/h2-over-h1.js", "../node_modules/http2-wrapper/source/index.js", "../node_modules/qrcode/lib/can-promise.js", "../node_modules/qrcode/lib/core/utils.js", "../node_modules/qrcode/lib/core/error-correction-level.js", "../node_modules/qrcode/lib/core/bit-buffer.js", "../node_modules/qrcode/lib/core/bit-matrix.js", "../node_modules/qrcode/lib/core/alignment-pattern.js", "../node_modules/qrcode/lib/core/finder-pattern.js", "../node_modules/qrcode/lib/core/mask-pattern.js", "../node_modules/qrcode/lib/core/error-correction-code.js", "../node_modules/qrcode/lib/core/galois-field.js", "../node_modules/qrcode/lib/core/polynomial.js", "../node_modules/qrcode/lib/core/reed-solomon-encoder.js", "../node_modules/qrcode/lib/core/version-check.js", "../node_modules/qrcode/lib/core/regex.js", "../node_modules/qrcode/lib/core/mode.js", "../node_modules/qrcode/lib/core/version.js", "../node_modules/qrcode/lib/core/format-info.js", "../node_modules/qrcode/lib/core/numeric-data.js", "../node_modules/qrcode/lib/core/alphanumeric-data.js", "../node_modules/encode-utf8/index.js", "../node_modules/qrcode/lib/core/byte-data.js", "../node_modules/qrcode/lib/core/kanji-data.js", "../node_modules/dijkstrajs/dijkstra.js", "../node_modules/qrcode/lib/core/segments.js", "../node_modules/qrcode/lib/core/qrcode.js", "../node_modules/pngjs/lib/chunkstream.js", "../node_modules/pngjs/lib/interlace.js", "../node_modules/pngjs/lib/paeth-predictor.js", "../node_modules/pngjs/lib/filter-parse.js", "../node_modules/pngjs/lib/filter-parse-async.js", "../node_modules/pngjs/lib/constants.js", "../node_modules/pngjs/lib/crc.js", "../node_modules/pngjs/lib/parser.js", "../node_modules/pngjs/lib/bitmapper.js", "../node_modules/pngjs/lib/format-normaliser.js", "../node_modules/pngjs/lib/parser-async.js", "../node_modules/pngjs/lib/bitpacker.js", "../node_modules/pngjs/lib/filter-pack.js", "../node_modules/pngjs/lib/packer.js", "../node_modules/pngjs/lib/packer-async.js", "../node_modules/pngjs/lib/sync-inflate.js", "../node_modules/pngjs/lib/sync-reader.js", "../node_modules/pngjs/lib/filter-parse-sync.js", "../node_modules/pngjs/lib/parser-sync.js", "../node_modules/pngjs/lib/packer-sync.js", "../node_modules/pngjs/lib/png-sync.js", "../node_modules/pngjs/lib/png.js", "../node_modules/qrcode/lib/renderer/utils.js", "../node_modules/qrcode/lib/renderer/png.js", "../node_modules/qrcode/lib/renderer/utf8.js", "../node_modules/qrcode/lib/renderer/terminal/terminal.js", "../node_modules/qrcode/lib/renderer/terminal/terminal-small.js", "../node_modules/qrcode/lib/renderer/terminal.js", "../node_modules/qrcode/lib/renderer/svg-tag.js", "../node_modules/qrcode/lib/renderer/svg.js", "../node_modules/qrcode/lib/renderer/canvas.js", "../node_modules/qrcode/lib/browser.js", "../node_modules/qrcode/lib/server.js", "../node_modules/qrcode/lib/index.js", "../node_modules/isexe/windows.js", "../node_modules/isexe/mode.js", "../node_modules/isexe/index.js", "../node_modules/which/which.js", "../node_modules/path-key/index.js", "../node_modules/cross-spawn/lib/util/resolveCommand.js", "../node_modules/cross-spawn/lib/util/escape.js", "../node_modules/shebang-regex/index.js", "../node_modules/shebang-command/index.js", "../node_modules/cross-spawn/lib/util/readShebang.js", "../node_modules/cross-spawn/lib/parse.js", "../node_modules/cross-spawn/lib/enoent.js", "../node_modules/cross-spawn/index.js", "../node_modules/strip-final-newline/index.js", "../node_modules/npm-run-path/index.js", "../node_modules/mimic-fn/index.js", "../node_modules/onetime/index.js", "../node_modules/human-signals/src/core.js", "../node_modules/human-signals/src/realtime.js", "../node_modules/human-signals/src/signals.js", "../node_modules/human-signals/src/main.js", "../node_modules/execa/lib/error.js", "../node_modules/execa/lib/stdio.js", "../node_modules/execa/node_modules/signal-exit/signals.js", "../node_modules/execa/node_modules/signal-exit/index.js", "../node_modules/execa/lib/kill.js", "../node_modules/is-stream/index.js", "../node_modules/merge-stream/index.js", "../node_modules/execa/lib/stream.js", "../node_modules/execa/lib/promise.js", "../node_modules/execa/lib/command.js", "../node_modules/execa/index.js", "../src/notifications.tsx", "../src/utils/tools.ts", "../node_modules/@sindresorhus/is/dist/index.js", "../node_modules/got/dist/source/as-promise/index.js", "../node_modules/p-cancelable/index.js", "../node_modules/got/dist/source/core/errors.js", "../node_modules/got/dist/source/core/index.js", "../node_modules/@szmarczak/http-timer/dist/source/index.js", "../node_modules/cacheable-request/src/index.ts", "../node_modules/normalize-url/index.js", "../node_modules/responselike/index.js", "../node_modules/lowercase-keys/index.js", "../node_modules/mimic-response/index.js", "../node_modules/cacheable-request/src/types.ts", "../node_modules/form-data-encoder/lib/util/isFunction.js", "../node_modules/form-data-encoder/lib/util/getStreamIterator.js", "../node_modules/form-data-encoder/lib/util/createBoundary.js", "../node_modules/form-data-encoder/lib/util/normalizeValue.js", "../node_modules/form-data-encoder/lib/util/isPlainObject.js", "../node_modules/form-data-encoder/lib/util/proxyHeaders.js", "../node_modules/form-data-encoder/lib/util/isFormData.js", "../node_modules/form-data-encoder/lib/util/escapeName.js", "../node_modules/form-data-encoder/lib/util/isFile.js", "../node_modules/form-data-encoder/lib/FormDataEncoder.js", "../node_modules/got/dist/source/core/utils/get-body-size.js", "../node_modules/got/dist/source/core/utils/is-form-data.js", "../node_modules/got/dist/source/core/utils/proxy-events.js", "../node_modules/got/dist/source/core/timed-out.js", "../node_modules/got/dist/source/core/utils/unhandle.js", "../node_modules/got/dist/source/core/utils/url-to-options.js", "../node_modules/got/dist/source/core/utils/weakable-map.js", "../node_modules/got/dist/source/core/calculate-retry-delay.js", "../node_modules/got/dist/source/core/options.js", "../node_modules/cacheable-lookup/source/index.js", "../node_modules/got/dist/source/core/parse-link-header.js", "../node_modules/got/dist/source/core/response.js", "../node_modules/got/dist/source/core/utils/is-client-request.js", "../node_modules/got/dist/source/core/utils/is-unix-socket-url.js", "../node_modules/got/dist/source/as-promise/types.js", "../node_modules/got/dist/source/create.js", "../node_modules/got/dist/source/index.js", "../src/utils/encWbi.ts", "../src/apis/api.ts", "../src/apis/logout.ts", "../src/apis/getRcmd.ts", "../src/apis/checkLogin.ts", "../src/apis/getPlayUrl.ts", "../src/apis/getConclsion.ts", "../src/apis/getVideoInfo.ts", "../src/apis/postHeartbeat.ts", "../src/apis/getDynamicFeed.ts", "../src/apis/gennerateQRCode.ts", "../src/apis/getSearchVideos.ts", "../node_modules/run-applescript/index.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isTLSSocket(socket) {\n    return socket.encrypted;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTLSSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else if (!socket.authorizationError) {\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        listeners.close(socket._hadError);\n    }\n};\nexports.default = deferToConnect;\n// For CommonJS default export support\nmodule.exports = deferToConnect;\nmodule.exports.default = deferToConnect;\n", "'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n", "'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst stream = require('stream');\nconst {promisify} = require('util');\nconst bufferStream = require('./buffer-stream');\n\nconst streamPipelinePromisified = promisify(stream.pipeline);\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\tthrow new Error('Expected a stream');\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\tconst stream = bufferStream(options);\n\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tawait streamPipelinePromisified(inputStream, stream);\n\t\t\t\tresolve();\n\t\t\t} catch (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t}\n\t\t})();\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n", "'use strict';\n// rfc7231 6.1\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n// This implementation does not understand partial responses (206)\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503, \n    504,\n]);\n\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n// RFC 5861\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if(!response) {\n        return true\n    }\n    return errorStatusCodes.has(response.status);\n}\n\nfunction parseCacheControl(header) {\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/,/);\n    for (const part of parts) {\n        const [k, v] = part.split(/=/, 2);\n        cc[k.trim()] = v === undefined ? true : v.trim().replace(/^\"|\"$/g, '');\n    }\n\n    return cc;\n}\n\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        this._responseTime = this.now();\n        this._isShared = shared !== false;\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        this._status = 'status' in res ? res.status : 200;\n        this._resHeaders = res.headers;\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        this._method = 'method' in req ? req.method : 'GET';\n        this._url = req.url;\n        this._host = req.headers.host;\n        this._noAuthorization = !req.headers.authorization;\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    now() {\n        return Date.now();\n    }\n\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return (\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    satisfiesWithoutRevalidation(req) {\n        this._assertRequestHasHeaders(req);\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return false;\n        }\n\n        if (requestCC['max-age'] && this.age() > requestCC['max-age']) {\n            return false;\n        }\n\n        if (\n            requestCC['min-fresh'] &&\n            this.timeToLive() < 1000 * requestCC['min-fresh']\n        ) {\n            return false;\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            const allowsStale =\n                requestCC['max-stale'] &&\n                !this._rescc['must-revalidate'] &&\n                (true === requestCC['max-stale'] ||\n                    requestCC['max-stale'] > this.age() - this.maxAge());\n            if (!allowsStale) {\n                return false;\n            }\n        }\n\n        return this._requestMatches(req, false);\n    }\n\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return (\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    _allowsStoringAuthenticated() {\n        //  following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return (\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Value of the Date response header or current time if Date was invalid\n     * @return timestamp\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     *\n     * @return Number\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Value of applicable max-age (or heuristic equivalent) in seconds. This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * @return Number\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000;\n    }\n\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    useStaleWhileRevalidate() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-while-revalidate']) > this.age();\n    }\n\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @return {Object} {policy: CachePolicy, modified: Boolean}\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n        if(this._useStaleIfError() && isErrorResponse(response)) {  // I consider the revalidation request unsuccessful\n          return {\n            modified: false,\n            matches: false,\n            policy: this,\n          };\n        }\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, {\n                shared: this._isShared,\n                cacheHeuristic: this._cacheHeuristic,\n                immutableMinTimeToLive: this._immutableMinTtl,\n            }),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n", "//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = await this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\treturn data.map((row, index) => {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key[index]).then(() => undefined);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? row : row.value;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n", "'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set(Object.keys(fromStream).concat(knownProperties));\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n};\n", "'use strict';\nconst {Transform, PassThrough} = require('stream');\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\n\tif (!['gzip', 'deflate', 'br'].includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\t// TODO: Remove this when targeting Node.js 12.\n\tconst isBrotli = contentEncoding === 'br';\n\tif (isBrotli && typeof zlib.createBrotliDecompress !== 'function') {\n\t\tresponse.destroy(new Error('Brotli is not supported on Node.js < 12'));\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\tconst checker = new Transform({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tisEmpty = false;\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n\n\tconst finalStream = new PassThrough({\n\t\tautoDestroy: false,\n\t\tdestroy(error, callback) {\n\t\t\tresponse.destroy();\n\n\t\t\tcallback(error);\n\t\t}\n\t});\n\n\tconst decompressStream = isBrotli ? zlib.createBrotliDecompress() : zlib.createUnzip();\n\n\tdecompressStream.once('error', error => {\n\t\tif (isEmpty && !response.readable) {\n\t\t\tfinalStream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tfinalStream.destroy(error);\n\t});\n\n\tmimicResponse(response, finalStream);\n\tresponse.pipe(checker).pipe(decompressStream).pipe(finalStream);\n\n\treturn finalStream;\n};\n", "'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n", "'use strict';\n\nmodule.exports = stream => {\n\tif (stream.listenerCount('error') !== 0) {\n\t\treturn stream;\n\t}\n\n\tstream.__destroy = stream._destroy;\n\tstream._destroy = (...args) => {\n\t\tconst callback = args.pop();\n\n\t\tstream.__destroy(...args, async error => {\n\t\t\tawait Promise.resolve();\n\t\t\tcallback(error);\n\t\t});\n\t};\n\n\tconst onError = error => {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tPromise.resolve().then(() => {\n\t\t\tstream.emit('error', error);\n\t\t});\n\t};\n\n\tstream.once('error', onError);\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tPromise.resolve().then(() => {\n\t\tstream.off('error', onError);\n\t});\n\n\treturn stream;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst kCurrentStreamCount = Symbol('currentStreamCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\nconst kLength = Symbol('length');\n\nconst nameKeys = [\n\t// Not an Agent option actually\n\t'createConnection',\n\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSettings',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\t'peerMaxConcurrentStreams',\n\t'settings',\n\n\t// `tls.connect()` source options\n\t'family',\n\t'localAddress',\n\t'rejectUnauthorized',\n\n\t// `tls.connect()` secure context options\n\t'pskCallback',\n\t'minDHSize',\n\n\t// `tls.connect()` destination options\n\t// - `servername` is automatically validated, skip it\n\t// - `host` and `port` just describe the destination server,\n\t'path',\n\t'socket',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'sigalgs',\n\t'ciphers',\n\t'clientCertEngine',\n\t'crl',\n\t'dhparam',\n\t'ecdhCurve',\n\t'honorCipherOrder',\n\t'key',\n\t'privateKeyEngine',\n\t'privateKeyIdentifier',\n\t'maxVersion',\n\t'minVersion',\n\t'pfx',\n\t'secureOptions',\n\t'secureProtocol',\n\t'sessionIdContext',\n\t'ticketKeys'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\tif (compare(array[mid], value)) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst coveredSession = where[index];\n\n\t\tif (\n\t\t\t// Unfortunately `.every()` returns true for an empty array\n\t\t\tcoveredSession[kOriginSet].length > 0\n\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst session = where[index];\n\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length > 0\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 0, maxSessions = Number.POSITIVE_INFINITY, maxEmptySessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// It's faster when there are many origins. If there's only one, then QUEUE[`${options}:${origin}`] is faster.\n\t\t// I guess object creation / deletion is causing the slowdown.\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max empty sessions in total\n\t\tthis.maxEmptySessions = maxEmptySessions;\n\n\t\tthis._emptySessionCount = 0;\n\t\tthis._sessionCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false,\n\t\t\tinitialWindowSize: 1024 * 1024 * 32 // 32MB, see https://github.com/nodejs/node/issues/38426\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tget protocol() {\n\t\treturn 'https:';\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tfor (let index = 0; index < nameKeys.length; index++) {\n\t\t\tconst key = nameKeys[index];\n\n\t\t\tnormalized += ':';\n\n\t\t\tif (options && options[key] !== undefined) {\n\t\t\t\tnormalized += options[key];\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_processQueue() {\n\t\tif (this._sessionCount >= this.maxSessions) {\n\t\t\tthis.closeEmptySessions(this.maxSessions - this._sessionCount + 1);\n\t\t\treturn;\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in this.queue) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t// The entry function can be run only once.\n\t\t\t\tif (!item.completed) {\n\t\t\t\t\titem.completed = true;\n\n\t\t\t\t\titem();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_isBetterSession(thisStreamCount, thatStreamCount) {\n\t\treturn thisStreamCount > thatStreamCount;\n\t}\n\n\t_accept(session, listeners, normalizedOrigin, options) {\n\t\tlet index = 0;\n\n\t\twhile (index < listeners.length && session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams) {\n\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t// otherwise the session will get overloaded.\n\t\t\tlisteners[index].resolve(session);\n\n\t\t\tindex++;\n\t\t}\n\n\t\tlisteners.splice(0, index);\n\n\t\tif (listeners.length > 0) {\n\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\tlisteners.length = 0;\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners) && listeners.length > 0) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Parse origin\n\t\t\t\tif (typeof origin === 'string') {\n\t\t\t\t\torigin = new URL(origin);\n\t\t\t\t} else if (!(origin instanceof URL)) {\n\t\t\t\t\tthrow new TypeError('The `origin` argument needs to be a string or an URL object');\n\t\t\t\t}\n\n\t\t\t\tif (options) {\n\t\t\t\t\t// Validate servername\n\t\t\t\t\tconst {servername} = options;\n\t\t\t\t\tconst {hostname} = origin;\n\t\t\t\t\tif (servername && hostname !== servername) {\n\t\t\t\t\t\tthrow new Error(`Origin ${hostname} differs from servername ${servername}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = origin.origin;\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\t//\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t// | Session: A | | Session: B | | Session: C | | Session: D |\n\t\t\t\t// | Pending: 5 |-| Pending: 8 |-| Pending: 9 |-| Pending: 4 |\n\t\t\t\t// | Max:    10 | | Max:    10 | | Max:     9 | | Max:     5 |\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t//                     ^\n\t\t\t\t//                     |\n\t\t\t\t//     pick this one  --\n\t\t\t\t//\n\t\t\t\tfor (let index = 0; index < sessions.length; index++) {\n\t\t\t\t\tconst session = sessions[index];\n\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamCount];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams\n\t\t\t\t\t\t|| session[kGracefullyClosing]\n\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t|| session.destroyed\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need set this once.\n\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Either get the session which has biggest current stream count or the lowest.\n\t\t\t\t\tif (this._isBetterSession(sessionCurrentStreamsCount, currentStreamsCount)) {\n\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\tthis._accept(optimalSession, listeners, normalizedOrigin, options);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {\n\t\t\t\t\t[kLength]: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (--this.queue[normalizedOptions][kLength] === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = async () => {\n\t\t\t\tthis._sessionCount++;\n\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\t\t\t\tlet socket;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst computedOptions = {...options};\n\n\t\t\t\t\tif (computedOptions.settings === undefined) {\n\t\t\t\t\t\tcomputedOptions.settings = this.settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (computedOptions.session === undefined) {\n\t\t\t\t\t\tcomputedOptions.session = this.tlsSessionCache.get(name);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst createConnection = computedOptions.createConnection || this.createConnection;\n\n\t\t\t\t\t// A hacky workaround to enable async `createConnection`\n\t\t\t\t\tsocket = await createConnection.call(this, origin, computedOptions);\n\t\t\t\t\tcomputedOptions.createConnection = () => socket;\n\n\t\t\t\t\tconst session = http2.connect(origin, computedOptions);\n\t\t\t\t\tsession[kCurrentStreamCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\t// Node.js return https://false:443 instead of https://1.1.1.1:443\n\t\t\t\t\tconst getOriginSet = () => {\n\t\t\t\t\t\tconst {socket} = session;\n\n\t\t\t\t\t\tlet originSet;\n\t\t\t\t\t\tif (socket.servername === false) {\n\t\t\t\t\t\t\tsocket.servername = socket.remoteAddress;\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t\tsocket.servername = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn originSet;\n\t\t\t\t\t};\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// Assumes session `close` is emitted after request `close`\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\n\t\t\t\t\t\t\tif (where.length === 1) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tconst queue = this.queue[normalizedOptions];\n\t\t\t\t\t\tif (!queue) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst originSet = session[kOriginSet];\n\n\t\t\t\t\t\tfor (let index = 0; index < originSet.length; index++) {\n\t\t\t\t\t\t\tconst origin = originSet[index];\n\n\t\t\t\t\t\t\tif (origin in queue) {\n\t\t\t\t\t\t\t\tconst {listeners, completed} = queue[origin];\n\n\t\t\t\t\t\t\t\tlet index = 0;\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (index < listeners.length && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners[index].resolve(session);\n\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tqueue[origin].listeners.splice(0, index);\n\n\t\t\t\t\t\t\t\tif (queue[origin].listeners.length === 0 && !completed) {\n\t\t\t\t\t\t\t\t\tdelete queue[origin];\n\n\t\t\t\t\t\t\t\t\tif (--queue[kLength] === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\t\t\t\t\t\tsession[kGracefullyClosing] = false;\n\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\tif (session[kGracefullyClosing] || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// See https://github.com/nodejs/node/issues/38426\n\t\t\t\t\t\tif (session.setLocalWindowSize) {\n\t\t\t\t\t\t\tsession.setLocalWindowSize(1024 * 1024 * 4); // 4 MB\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\n\t\t\t\t\t\tif (session.socket.encrypted) {\n\t\t\t\t\t\t\tconst mainOrigin = session[kOriginSet][0];\n\t\t\t\t\t\t\tif (mainOrigin !== normalizedOrigin) {\n\t\t\t\t\t\t\t\tconst error = new Error(`Requested origin ${normalizedOrigin} does not match server ${mainOrigin}`);\n\n\t\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treceivedSettings = true;\n\t\t\t\t\t\tthis._emptySessionCount++;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\t\t\t\t\t\tthis._accept(session, listeners, normalizedOrigin, options);\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0 && this._emptySessionCount > this.maxEmptySessions) {\n\t\t\t\t\t\t\tthis.closeEmptySessions(this._emptySessionCount - this.maxEmptySessions);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount]++ === 0) {\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\tif (--session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\tthis._emptySessionCount++;\n\t\t\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\t\t\tif (this._emptySessionCount > this.maxEmptySessions || session[kGracefullyClosing]) {\n\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (session.destroyed || session.closed) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isFree() && !closeSessionIfCovered(this.sessions[normalizedOptions], session)) {\n\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis.queue[normalizedOptions][kLength]++;\n\t\t\tthis._processQueue();\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst stream = session.request(headers, streamOptions);\n\n\t\t\t\t\t\t// Do not throw before `request(...)` has been awaited\n\t\t\t\t\t\tdelayAsyncDestroy(stream);\n\n\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tasync createConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\tconst socket = tls.connect(port, host, options);\n\n\t\tif (options.socket) {\n\t\t\tsocket._peername = {\n\t\t\t\tfamily: undefined,\n\t\t\t\taddress: undefined,\n\t\t\t\tport\n\t\t\t};\n\t\t}\n\n\t\treturn socket;\n\t}\n\n\tcloseEmptySessions(maxCount = Number.POSITIVE_INFINITY) {\n\t\tlet closedCount = 0;\n\n\t\tconst {sessions} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tconst session = thisSessions[index];\n\n\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\tclosedCount++;\n\t\t\t\t\tsession.close();\n\n\t\t\t\t\tif (closedCount >= maxCount) {\n\t\t\t\t\t\treturn closedCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn closedCount;\n\t}\n\n\tdestroy(reason) {\n\t\tconst {sessions, queue} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tthisSessions[index].destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in queue) {\n\t\t\tconst entries = queue[normalizedOptions];\n\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in entries) {\n\t\t\t\tentries[normalizedOrigin].destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t\tthis.tlsSessionCache.clear();\n\t}\n\n\tget emptySessionCount() {\n\t\treturn this._emptySessionCount;\n\t}\n\n\tget pendingSessionCount() {\n\t\treturn this._sessionCount - this._emptySessionCount;\n\t}\n\n\tget sessionCount() {\n\t\treturn this._sessionCount;\n\t}\n}\n\nAgent.kCurrentStreamCount = kCurrentStreamCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n", "'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\temitClose: false,\n\t\t\tautoDestroy: true,\n\t\t\thighWaterMark\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (!this.readableEnded) {\n\t\t\tthis.aborted = true;\n\t\t}\n\n\t\t// See https://github.com/nodejs/node/issues/35303\n\t\tcallback();\n\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n", "'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args =>\n\t`Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`\n);\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args =>\n\t`Cannot ${args[0]} headers after they are sent to the client`\n);\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args =>\n\t`${args[0]} must be a valid HTTP token [${args[1]}]`\n);\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args =>\n\t`Invalid value \"${args[0]} for header \"${args[1]}\"`\n);\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args =>\n\t`Invalid character in ${args[0]} [${args[1]}]`\n);\n\nmakeError(\n\tError,\n\t'ERR_HTTP2_NO_SOCKET_MANIPULATION',\n\t'HTTP/2 sockets should not be directly manipulated (e.g. read and written)'\n);\n", "'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n", "'use strict';\nconst {ERR_INVALID_HTTP_TOKEN} = require('./errors.js');\nconst isRequestPseudoHeader = require('./is-request-pseudo-header.js');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\n\nmodule.exports = name => {\n\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t}\n};\n", "'use strict';\nconst {\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./errors.js');\n\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nmodule.exports = (name, value) => {\n\tif (typeof value === 'undefined') {\n\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t}\n\n\tif (isInvalidHeaderValue.test(value)) {\n\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t}\n};\n", "'use strict';\nconst {ERR_HTTP2_NO_SOCKET_MANIPULATION} = require('./errors.js');\n\n/* istanbul ignore file */\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\nconst proxySocketHandler = {\n\thas(stream, property) {\n\t\t// Replaced [kSocket] with .socket\n\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\treturn (property in stream) || (property in reference);\n\t},\n\n\tget(stream, property) {\n\t\tswitch (property) {\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\treturn stream[property].bind(stream);\n\t\t\tcase 'writable':\n\t\t\tcase 'destroyed':\n\t\t\t\treturn stream[property];\n\t\t\tcase 'readable':\n\t\t\t\tif (stream.destroyed) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn stream.readable;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session !== undefined) {\n\t\t\t\t\treturn session.setTimeout.bind(session);\n\t\t\t\t}\n\n\t\t\t\treturn stream.setTimeout.bind(stream);\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\tconst value = reference[property];\n\n\t\t\t\treturn typeof value === 'function' ? value.bind(reference) : value;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPrototypeOf(stream) {\n\t\tif (stream.session !== undefined) {\n\t\t\t// Replaced [kSocket] with .socket\n\t\t\treturn Reflect.getPrototypeOf(stream.session.socket);\n\t\t}\n\n\t\treturn Reflect.getPrototypeOf(stream);\n\t},\n\n\tset(stream, property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'writable':\n\t\t\tcase 'readable':\n\t\t\tcase 'destroyed':\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\tstream[property] = value;\n\t\t\t\treturn true;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session === undefined) {\n\t\t\t\t\tstream.setTimeout = value;\n\t\t\t\t} else {\n\t\t\t\t\tsession.setTimeout = value;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\treference[property] = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nmodule.exports = proxySocketHandler;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst proxyEvents = require('./utils/proxy-events.js');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT\n} = require('./utils/errors.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\nconst proxySocketHandler = require('./utils/proxy-socket-handler.js');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_HEADER_AUTHORITY,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\nconst kPendingAgentPromise = Symbol('pendingAgentPromise');\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false,\n\t\t\temitClose: false\n\t\t});\n\n\t\tif (typeof input === 'string') {\n\t\t\tinput = urlToHttpOptions(new URL(input));\n\t\t} else if (input instanceof URL) {\n\t\t\tinput = urlToHttpOptions(input);\n\t\t} else {\n\t\t\tinput = {...input};\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = input;\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = Object.assign(input, options);\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\n\t\t\tif (this[kSession].destroyed) {\n\t\t\t\tthrow new Error('The session has been closed already');\n\t\t\t}\n\n\t\t\tthis.protocol = this[kSession].socket.encrypted ? 'https:' : 'http:';\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxEmptySessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tthis.agent = globalAgent;\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['http2wrapper.Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (this.agent) {\n\t\t\tthis.protocol = this.agent.protocol;\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== this.protocol) {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, this.protocol);\n\t\t}\n\n\t\tif (!options.port) {\n\t\t\toptions.port = options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\t}\n\n\t\toptions.host = options.hostname || options.host || 'localhost';\n\n\t\t// Unused\n\t\tdelete options.hostname;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis[kPendingAgentPromise] = undefined;\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\n\t\tif (!(this.method === 'CONNECT' && (options.path === '/' || options.path === undefined))) {\n\t\t\tthis.path = options.path;\n\t\t}\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tconst {headers} = options;\n\t\tif (headers) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const header in headers) {\n\t\t\t\tthis.setHeader(header, headers[header]);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tthis[kOrigin] = new URL(`${this.protocol}//${options.servername || options.host}:${options.port}`);\n\n\t\t// A socket is being reused\n\t\tconst reuseSocket = options._reuseSocket;\n\t\tif (reuseSocket) {\n\t\t\toptions.createConnection = (...args) => {\n\t\t\t\tif (reuseSocket.destroyed) {\n\t\t\t\t\treturn this.agent.createConnection(...args);\n\t\t\t\t}\n\n\t\t\t\treturn reuseSocket;\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\tthis.agent.getSession(this[kOrigin], this[kOptions]).catch(() => {});\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\treturn this[kHeaders][header];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\t\tthis[kHeaders][header] = value;\n\t\t}\n\t}\n\n\tget host() {\n\t\treturn this[kOrigin].hostname;\n\t}\n\n\tset host(_value) {\n\t\t// Do nothing as this is read only.\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE and CONNECT\n\t\t\tif (this._mustNotHaveABody || this.method === 'CONNECT') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\tasync _destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t} else {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tawait this[kPendingAgentPromise];\n\t\t} catch (internalError) {\n\t\t\tif (this.aborted) {\n\t\t\t\terror = internalError;\n\t\t\t}\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\t// TODO: Should we proxy `close` here?\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue']);\n\t\t\t}\n\n\t\t\tstream.once('error', error => {\n\t\t\t\tthis.destroy(error);\n\t\t\t});\n\n\t\t\tstream.once('aborted', () => {\n\t\t\t\tconst {res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tres.aborted = true;\n\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\tres.destroy();\n\t\t\t\t} else {\n\t\t\t\t\tthis.destroy(new Error('The server aborted the HTTP/2 stream'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst onResponse = (headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\t// Undocumented, but it is used by `cacheable-request`\n\t\t\t\tresponse.url = `${this[kOrigin].origin}${this.path}`;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\tresponse.connection = null;\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tif (!this.aborted) {\n\t\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', onResponse);\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', headers => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]}));\n\n\t\t\tstream.once('trailers', (trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// https://github.com/nodejs/node/issues/41251\n\t\t\t\tif (res === null) {\n\t\t\t\t\tonResponse(trailers, flags, rawTrailers);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t});\n\n\t\t\tstream.once('close', () => {\n\t\t\t\tconst {aborted, res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tif (aborted) {\n\t\t\t\t\t\tres.aborted = true;\n\t\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\t\tres.destroy();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst finish = () => {\n\t\t\t\t\t\tres.emit('close');\n\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t};\n\n\t\t\t\t\tif (res.readable) {\n\t\t\t\t\t\tres.once('end', finish);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinish();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this.destroyed) {\n\t\t\t\t\tthis.destroy(new Error('The HTTP/2 stream has been early terminated'));\n\t\t\t\t\tthis.emit('close');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\n\t\t\tthis.socket = new Proxy(stream, proxySocketHandler);\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis[kJobs].length = 0;\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\tif (!(HTTP2_HEADER_AUTHORITY in this[kHeaders]) && !isConnectMethod) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = this[kOrigin].host;\n\t\t}\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tconst promise = this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]);\n\t\t\t\tthis[kPendingAgentPromise] = promise;\n\n\t\t\t\tonStream(await promise);\n\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\tgetHeaderNames() {\n\t\treturn Object.keys(this[kHeaders]);\n\t}\n\n\thasHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn Boolean(this[kHeaders][name.toLowerCase()]);\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tvalidateHeaderName(name);\n\t\tvalidateHeaderValue(name, value);\n\n\t\tconst lowercased = name.toLowerCase();\n\n\t\tif (lowercased === 'connection') {\n\t\t\tif (value.toLowerCase() === 'keep-alive') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new Error(`Invalid 'connection' header: ${value}`);\n\t\t}\n\n\t\tif (lowercased === 'host' && this.method === 'CONNECT') {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = value;\n\t\t} else {\n\t\t\tthis[kHeaders][lowercased] = value;\n\t\t}\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n", "'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n", "'use strict';\nconst {isIP} = require('net');\nconst assert = require('assert');\n\nconst getHost = host => {\n\tif (host[0] === '[') {\n\t\tconst idx = host.indexOf(']');\n\n\t\tassert(idx !== -1);\n\t\treturn host.slice(1, idx);\n\t}\n\n\tconst idx = host.indexOf(':');\n\tif (idx === -1) {\n\t\treturn host;\n\t}\n\n\treturn host.slice(0, idx);\n};\n\nmodule.exports = host => {\n\tconst servername = getHost(host);\n\n\tif (isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst {Agent, globalAgent} = require('./agent.js');\nconst Http2ClientRequest = require('./client-request.js');\nconst calculateServerName = require('./utils/calculate-server-name.js');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onTimeout = () => {\n\t\tconst {freeSockets} = agent;\n\n\t\tfor (const sockets of Object.values(freeSockets)) {\n\t\t\tif (sockets.includes(socket)) {\n\t\t\t\tsocket.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n\n\tsocket.on('timeout', onTimeout);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst createResolveProtocol = (cache, queue = new Map(), connect = undefined) => {\n\treturn async options => {\n\t\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\t\tif (!cache.has(name)) {\n\t\t\tif (queue.has(name)) {\n\t\t\t\tconst result = await queue.get(name);\n\t\t\t\treturn {alpnProtocol: result.alpnProtocol};\n\t\t\t}\n\n\t\t\tconst {path} = options;\n\t\t\toptions.path = options.socketPath;\n\n\t\t\tconst resultPromise = resolveALPN(options, connect);\n\t\t\tqueue.set(name, resultPromise);\n\n\t\t\ttry {\n\t\t\t\tconst result = await resultPromise;\n\n\t\t\t\tcache.set(name, result.alpnProtocol);\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\treturn result;\n\t\t\t} catch (error) {\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {alpnProtocol: cache.get(name)};\n\t};\n};\n\nconst defaultResolveProtocol = createResolveProtocol(cache, queue);\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string') {\n\t\tinput = urlToHttpOptions(new URL(input));\n\t} else if (input instanceof URL) {\n\t\tinput = urlToHttpOptions(input);\n\t} else {\n\t\tinput = {...input};\n\t}\n\n\tif (typeof options === 'function' || options === undefined) {\n\t\t// (options, callback)\n\t\tcallback = options;\n\t\toptions = input;\n\t} else {\n\t\t// (input, options, callback)\n\t\toptions = Object.assign(input, options);\n\t}\n\n\toptions.ALPNProtocols = options.ALPNProtocols || ['h2', 'http/1.1'];\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName((options.headers && options.headers.host) || options.host);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst resolveProtocol = options.resolveProtocol || defaultResolveProtocol;\n\n\t// Note: We don't support `h2session` here\n\n\tlet {agent} = options;\n\tif (agent !== undefined && agent !== false && agent.constructor.name !== 'Object') {\n\t\tthrow new Error('The `options.agent` can be only an object `http`, `https` or `http2` properties');\n\t}\n\n\tif (isHttps) {\n\t\toptions.resolveSocket = true;\n\n\t\tlet {socket, alpnProtocol, timeout} = await resolveProtocol(options);\n\n\t\tif (timeout) {\n\t\t\tif (socket) {\n\t\t\t\tsocket.destroy();\n\t\t\t}\n\n\t\t\tconst error = new Error(`Timed out resolving ALPN: ${options.timeout} ms`);\n\t\t\terror.code = 'ETIMEDOUT';\n\t\t\terror.ms = options.timeout;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\t// We can't accept custom `createConnection` because the API is different for HTTP/2\n\t\tif (socket && options.createConnection) {\n\t\t\tsocket.destroy();\n\t\t\tsocket = undefined;\n\t\t}\n\n\t\tdelete options.resolveSocket;\n\n\t\tconst isHttp2 = alpnProtocol === 'h2';\n\n\t\tif (agent) {\n\t\t\tagent = isHttp2 ? agent.http2 : agent.https;\n\t\t\toptions.agent = agent;\n\t\t}\n\n\t\tif (agent === undefined) {\n\t\t\tagent = isHttp2 ? globalAgent : https.globalAgent;\n\t\t}\n\n\t\tif (socket) {\n\t\t\tif (agent === false) {\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst defaultCreateConnection = (isHttp2 ? Agent : https.Agent).prototype.createConnection;\n\n\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tif (isHttp2) {\n\t\t\t\t\t\toptions._reuseSocket = socket;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (isHttp2) {\n\t\t\treturn delayAsyncDestroy(new Http2ClientRequest(options, callback));\n\t\t}\n\t} else if (agent) {\n\t\toptions.agent = agent.http;\n\t}\n\n\t// If we're sending HTTP/1.1, handle any explicitly set H2 headers in the options:\n\tif (options.headers) {\n\t\toptions.headers = {...options.headers};\n\n\t\t// :authority is equivalent to the HTTP/1.1 host header\n\t\tif (options.headers[':authority']) {\n\t\t\tif (!options.headers.host) {\n\t\t\t\toptions.headers.host = options.headers[':authority'];\n\t\t\t}\n\n\t\t\tdelete options.headers[':authority'];\n\t\t}\n\n\t\t// Remove other HTTP/2 headers as they have their counterparts in the options\n\t\tdelete options.headers[':method'];\n\t\tdelete options.headers[':scheme'];\n\t\tdelete options.headers[':path'];\n\t}\n\n\treturn delayAsyncDestroy(http.request(options, callback));\n};\n\nmodule.exports.protocolCache = cache;\nmodule.exports.resolveProtocol = defaultResolveProtocol;\nmodule.exports.createResolveProtocol = createResolveProtocol;\n", "'use strict';\nconst stream = require('stream');\nconst tls = require('tls');\n\n// Really awesome hack.\nconst JSStreamSocket = (new tls.TLSSocket(new stream.PassThrough()))._handle._parentWrap.constructor;\n\nmodule.exports = JSStreamSocket;\n", "'use strict';\n\nclass UnexpectedStatusCodeError extends Error {\n\tconstructor(statusCode, statusMessage = '') {\n\t\tsuper(`The proxy server rejected the request with status code ${statusCode} (${statusMessage || 'empty status message'})`);\n\t\tthis.statusCode = statusCode;\n\t\tthis.statusMessage = statusMessage;\n\t}\n}\n\nmodule.exports = UnexpectedStatusCodeError;\n", "'use strict';\n\nconst checkType = (name, value, types) => {\n\tconst valid = types.some(type => {\n\t\tconst typeofType = typeof type;\n\t\tif (typeofType === 'string') {\n\t\t\treturn typeof value === type;\n\t\t}\n\n\t\treturn value instanceof type;\n\t});\n\n\tif (!valid) {\n\t\tconst names = types.map(type => typeof type === 'string' ? type : type.name);\n\n\t\tthrow new TypeError(`Expected '${name}' to be a type of ${names.join(' or ')}, got ${typeof value}`);\n\t}\n};\n\nmodule.exports = checkType;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst checkType = require('../utils/check-type.js');\n\nmodule.exports = (self, proxyOptions) => {\n\tcheckType('proxyOptions', proxyOptions, ['object']);\n\tcheckType('proxyOptions.headers', proxyOptions.headers, ['object', 'undefined']);\n\tcheckType('proxyOptions.raw', proxyOptions.raw, ['boolean', 'undefined']);\n\tcheckType('proxyOptions.url', proxyOptions.url, [URL, 'string']);\n\n\tconst url = new URL(proxyOptions.url);\n\n\tself.proxyOptions = {\n\t\traw: true,\n\t\t...proxyOptions,\n\t\theaders: {...proxyOptions.headers},\n\t\turl\n\t};\n};\n", "'use strict';\n\nmodule.exports = self => {\n\tconst {username, password} = self.proxyOptions.url;\n\n\tif (username || password) {\n\t\tconst data = `${username}:${password}`;\n\t\tconst authorization = `Basic ${Buffer.from(data).toString('base64')}`;\n\n\t\treturn {\n\t\t\t'proxy-authorization': authorization,\n\t\t\tauthorization\n\t\t};\n\t}\n\n\treturn {};\n};\n", "'use strict';\nconst tls = require('tls');\nconst http = require('http');\nconst https = require('https');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst {globalAgent} = require('../agent.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst createConnection = (self, options, callback) => {\n\t(async () => {\n\t\ttry {\n\t\t\tconst {proxyOptions} = self;\n\t\t\tconst {url, headers, raw} = proxyOptions;\n\n\t\t\tconst stream = await globalAgent.request(url, proxyOptions, {\n\t\t\t\t...getAuthorizationHeaders(self),\n\t\t\t\t...headers,\n\t\t\t\t':method': 'CONNECT',\n\t\t\t\t':authority': `${options.host}:${options.port}`\n\t\t\t});\n\n\t\t\tstream.once('error', callback);\n\t\t\tstream.once('response', headers => {\n\t\t\t\tconst statusCode = headers[':status'];\n\n\t\t\t\tif (statusCode !== 200) {\n\t\t\t\t\tcallback(new UnexpectedStatusCodeError(statusCode, ''));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst encrypted = self instanceof https.Agent;\n\n\t\t\t\tif (raw && encrypted) {\n\t\t\t\t\toptions.socket = stream;\n\t\t\t\t\tconst secureStream = tls.connect(options);\n\n\t\t\t\t\tsecureStream.once('close', () => {\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback(null, secureStream);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\t\tsocket.encrypted = false;\n\t\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\t\tout.family = undefined;\n\t\t\t\t\tout.address = undefined;\n\t\t\t\t\tout.port = undefined;\n\t\t\t\t};\n\n\t\t\t\tcallback(null, socket);\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tcallback(error);\n\t\t}\n\t})();\n};\n\nclass HttpOverHttp2 extends http.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nclass HttpsOverHttp2 extends https.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nmodule.exports = {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n};\n", "'use strict';\nconst {Agent} = require('../agent.js');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\n\nclass Http2OverHttpX extends Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tasync createConnection(origin, options) {\n\t\tconst authority = `${origin.hostname}:${origin.port || 443}`;\n\n\t\tconst [stream, statusCode, statusMessage] = await this._getProxyStream(authority);\n\t\tif (statusCode !== 200) {\n\t\t\tthrow new UnexpectedStatusCodeError(statusCode, statusMessage);\n\t\t}\n\n\t\tif (this.proxyOptions.raw) {\n\t\t\toptions.socket = stream;\n\t\t} else {\n\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\tsocket.encrypted = false;\n\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\tout.family = undefined;\n\t\t\t\tout.address = undefined;\n\t\t\t\tout.port = undefined;\n\t\t\t};\n\n\t\t\treturn socket;\n\t\t}\n\n\t\treturn super.createConnection(origin, options);\n\t}\n}\n\nmodule.exports = Http2OverHttpX;\n", "'use strict';\nconst {globalAgent} = require('../agent.js');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStatusCode = stream => new Promise((resolve, reject) => {\n\tstream.once('error', reject);\n\tstream.once('response', headers => {\n\t\tstream.off('error', reject);\n\t\tresolve(headers[':status']);\n\t});\n});\n\nclass Http2OverHttp2 extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\n\t\tconst headers = {\n\t\t\t...getAuthorizationHeaders(this),\n\t\t\t...proxyOptions.headers,\n\t\t\t':method': 'CONNECT',\n\t\t\t':authority': authority\n\t\t};\n\n\t\tconst stream = await globalAgent.request(proxyOptions.url, proxyOptions, headers);\n\t\tconst statusCode = await getStatusCode(stream);\n\n\t\treturn [stream, statusCode, ''];\n\t}\n}\n\nmodule.exports = Http2OverHttp2;\n", "'use strict';\nconst http = require('http');\nconst https = require('https');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStream = request => new Promise((resolve, reject) => {\n\tconst onConnect = (response, socket, head) => {\n\t\tsocket.unshift(head);\n\n\t\trequest.off('error', reject);\n\t\tresolve([socket, response.statusCode, response.statusMessage]);\n\t};\n\n\trequest.once('error', reject);\n\trequest.once('connect', onConnect);\n});\n\nclass Http2OverHttp extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\t\tconst {url, headers} = this.proxyOptions;\n\n\t\tconst network = url.protocol === 'https:' ? https : http;\n\n\t\t// `new URL('https://localhost/httpbin.org:443')` results in\n\t\t// a `/httpbin.org:443` path, which has an invalid leading slash.\n\t\tconst request = network.request({\n\t\t\t...proxyOptions,\n\t\t\thostname: url.hostname,\n\t\t\tport: url.port,\n\t\t\tpath: authority,\n\t\t\theaders: {\n\t\t\t\t...getAuthorizationHeaders(this),\n\t\t\t\t...headers,\n\t\t\t\thost: authority\n\t\t\t},\n\t\t\tmethod: 'CONNECT'\n\t\t}).end();\n\n\t\treturn getStream(request);\n\t}\n}\n\nmodule.exports = {\n\tHttp2OverHttp,\n\tHttp2OverHttps: Http2OverHttp\n};\n", "'use strict';\nconst http2 = require('http2');\nconst {\n\tAgent,\n\tglobalAgent\n} = require('./agent.js');\nconst ClientRequest = require('./client-request.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst auto = require('./auto.js');\nconst {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n} = require('./proxies/h1-over-h2.js');\nconst Http2OverHttp2 = require('./proxies/h2-over-h2.js');\nconst {\n\tHttp2OverHttp,\n\tHttp2OverHttps\n} = require('./proxies/h2-over-h1.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\n\nconst request = (url, options, callback) => new ClientRequest(url, options, callback);\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\tAgent,\n\tglobalAgent,\n\trequest,\n\tget,\n\tauto,\n\tproxies: {\n\t\tHttpOverHttp2,\n\t\tHttpsOverHttp2,\n\t\tHttp2OverHttp2,\n\t\tHttp2OverHttp,\n\t\tHttp2OverHttps\n\t},\n\tvalidateHeaderName,\n\tvalidateHeaderValue\n};\n", "// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nmodule.exports = function () {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then\n}\n", "let toSJISFunction\nconst CODEWORDS_COUNT = [\n  0, // Not used\n  26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n  404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n  1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n  2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n]\n\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nexports.getSymbolSize = function getSymbolSize (version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined')\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40')\n  return version * 4 + 17\n}\n\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nexports.getSymbolTotalCodewords = function getSymbolTotalCodewords (version) {\n  return CODEWORDS_COUNT[version]\n}\n\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nexports.getBCHDigit = function (data) {\n  let digit = 0\n\n  while (data !== 0) {\n    digit++\n    data >>>= 1\n  }\n\n  return digit\n}\n\nexports.setToSJISFunction = function setToSJISFunction (f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.')\n  }\n\n  toSJISFunction = f\n}\n\nexports.isKanjiModeEnabled = function () {\n  return typeof toSJISFunction !== 'undefined'\n}\n\nexports.toSJIS = function toSJIS (kanji) {\n  return toSJISFunction(kanji)\n}\n", "exports.L = { bit: 1 }\nexports.M = { bit: 0 }\nexports.Q = { bit: 3 }\nexports.H = { bit: 2 }\n\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'l':\n    case 'low':\n      return exports.L\n\n    case 'm':\n    case 'medium':\n      return exports.M\n\n    case 'q':\n    case 'quartile':\n      return exports.Q\n\n    case 'h':\n    case 'high':\n      return exports.H\n\n    default:\n      throw new Error('Unknown EC Level: ' + string)\n  }\n}\n\nexports.isValid = function isValid (level) {\n  return level && typeof level.bit !== 'undefined' &&\n    level.bit >= 0 && level.bit < 4\n}\n\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n", "function BitBuffer () {\n  this.buffer = []\n  this.length = 0\n}\n\nBitBuffer.prototype = {\n\n  get: function (index) {\n    const bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1\n  },\n\n  put: function (num, length) {\n    for (let i = 0; i < length; i++) {\n      this.putBit(((num >>> (length - i - 1)) & 1) === 1)\n    }\n  },\n\n  getLengthInBits: function () {\n    return this.length\n  },\n\n  putBit: function (bit) {\n    const bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0)\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n    }\n\n    this.length++\n  }\n}\n\nmodule.exports = BitBuffer\n", "/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix (size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0')\n  }\n\n  this.size = size\n  this.data = new Uint8Array(size * size)\n  this.reservedBit = new Uint8Array(size * size)\n}\n\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  const index = row * this.size + col\n  this.data[index] = value\n  if (reserved) this.reservedBit[index] = true\n}\n\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col]\n}\n\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value\n}\n\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col]\n}\n\nmodule.exports = BitMatrix\n", "/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nconst getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  const posCount = Math.floor(version / 7) + 2\n  const size = getSymbolSize(version)\n  const intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  const positions = [size - 7] // Last coord is always (size - 7)\n\n  for (let i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * let pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const coords = []\n  const pos = exports.getRowColCoords(version)\n  const posLength = pos.length\n\n  for (let i = 0; i < posLength; i++) {\n    for (let j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) || // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n", "const getSymbolSize = require('./utils').getSymbolSize\nconst FINDER_PATTERN_SIZE = 7\n\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  const size = getSymbolSize(version)\n\n  return [\n    // top-left\n    [0, 0],\n    // top-right\n    [size - FINDER_PATTERN_SIZE, 0],\n    // bottom-left\n    [0, size - FINDER_PATTERN_SIZE]\n  ]\n}\n", "/**\n * Data mask pattern reference\n * @type {Object}\n */\nexports.Patterns = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\n\n/**\n * Weighted penalty scores for the undesirable features\n * @type {Object}\n */\nconst PenaltyScores = {\n  N1: 3,\n  N2: 3,\n  N3: 40,\n  N4: 10\n}\n\n/**\n * Check if mask pattern value is valid\n *\n * @param  {Number}  mask    Mask pattern\n * @return {Boolean}         true if valid, false otherwise\n */\nexports.isValid = function isValid (mask) {\n  return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7\n}\n\n/**\n * Returns mask pattern from a value.\n * If value is not valid, returns undefined\n *\n * @param  {Number|String} value        Mask pattern value\n * @return {Number}                     Valid mask pattern or undefined\n */\nexports.from = function from (value) {\n  return exports.isValid(value) ? parseInt(value, 10) : undefined\n}\n\n/**\n* Find adjacent modules in row/column with the same color\n* and assign a penalty value.\n*\n* Points: N1 + i\n* i is the amount by which the number of adjacent modules of the same color exceeds 5\n*/\nexports.getPenaltyN1 = function getPenaltyN1 (data) {\n  const size = data.size\n  let points = 0\n  let sameCountCol = 0\n  let sameCountRow = 0\n  let lastCol = null\n  let lastRow = null\n\n  for (let row = 0; row < size; row++) {\n    sameCountCol = sameCountRow = 0\n    lastCol = lastRow = null\n\n    for (let col = 0; col < size; col++) {\n      let module = data.get(row, col)\n      if (module === lastCol) {\n        sameCountCol++\n      } else {\n        if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n        lastCol = module\n        sameCountCol = 1\n      }\n\n      module = data.get(col, row)\n      if (module === lastRow) {\n        sameCountRow++\n      } else {\n        if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n        lastRow = module\n        sameCountRow = 1\n      }\n    }\n\n    if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5)\n    if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5)\n  }\n\n  return points\n}\n\n/**\n * Find 2x2 blocks with the same color and assign a penalty value\n *\n * Points: N2 * (m - 1) * (n - 1)\n */\nexports.getPenaltyN2 = function getPenaltyN2 (data) {\n  const size = data.size\n  let points = 0\n\n  for (let row = 0; row < size - 1; row++) {\n    for (let col = 0; col < size - 1; col++) {\n      const last = data.get(row, col) +\n        data.get(row, col + 1) +\n        data.get(row + 1, col) +\n        data.get(row + 1, col + 1)\n\n      if (last === 4 || last === 0) points++\n    }\n  }\n\n  return points * PenaltyScores.N2\n}\n\n/**\n * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n * preceded or followed by light area 4 modules wide\n *\n * Points: N3 * number of pattern found\n */\nexports.getPenaltyN3 = function getPenaltyN3 (data) {\n  const size = data.size\n  let points = 0\n  let bitsCol = 0\n  let bitsRow = 0\n\n  for (let row = 0; row < size; row++) {\n    bitsCol = bitsRow = 0\n    for (let col = 0; col < size; col++) {\n      bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col)\n      if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++\n\n      bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row)\n      if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++\n    }\n  }\n\n  return points * PenaltyScores.N3\n}\n\n/**\n * Calculate proportion of dark modules in entire symbol\n *\n * Points: N4 * k\n *\n * k is the rating of the deviation of the proportion of dark modules\n * in the symbol from 50% in steps of 5%\n */\nexports.getPenaltyN4 = function getPenaltyN4 (data) {\n  let darkCount = 0\n  const modulesCount = data.data.length\n\n  for (let i = 0; i < modulesCount; i++) darkCount += data.data[i]\n\n  const k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10)\n\n  return k * PenaltyScores.N4\n}\n\n/**\n * Return mask value at given position\n *\n * @param  {Number} maskPattern Pattern reference value\n * @param  {Number} i           Row\n * @param  {Number} j           Column\n * @return {Boolean}            Mask value\n */\nfunction getMaskAt (maskPattern, i, j) {\n  switch (maskPattern) {\n    case exports.Patterns.PATTERN000: return (i + j) % 2 === 0\n    case exports.Patterns.PATTERN001: return i % 2 === 0\n    case exports.Patterns.PATTERN010: return j % 3 === 0\n    case exports.Patterns.PATTERN011: return (i + j) % 3 === 0\n    case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0\n    case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0\n    case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0\n    case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0\n\n    default: throw new Error('bad maskPattern:' + maskPattern)\n  }\n}\n\n/**\n * Apply a mask pattern to a BitMatrix\n *\n * @param  {Number}    pattern Pattern reference number\n * @param  {BitMatrix} data    BitMatrix data\n */\nexports.applyMask = function applyMask (pattern, data) {\n  const size = data.size\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      if (data.isReserved(row, col)) continue\n      data.xor(row, col, getMaskAt(pattern, row, col))\n    }\n  }\n}\n\n/**\n * Returns the best mask pattern for data\n *\n * @param  {BitMatrix} data\n * @return {Number} Mask pattern reference number\n */\nexports.getBestMask = function getBestMask (data, setupFormatFunc) {\n  const numPatterns = Object.keys(exports.Patterns).length\n  let bestPattern = 0\n  let lowerPenalty = Infinity\n\n  for (let p = 0; p < numPatterns; p++) {\n    setupFormatFunc(p)\n    exports.applyMask(p, data)\n\n    // Calculate penalty\n    const penalty =\n      exports.getPenaltyN1(data) +\n      exports.getPenaltyN2(data) +\n      exports.getPenaltyN3(data) +\n      exports.getPenaltyN4(data)\n\n    // Undo previously applied mask\n    exports.applyMask(p, data)\n\n    if (penalty < lowerPenalty) {\n      lowerPenalty = penalty\n      bestPattern = p\n    }\n  }\n\n  return bestPattern\n}\n", "const ECLevel = require('./error-correction-level')\r\n\r\nconst EC_BLOCKS_TABLE = [\r\n// L  M  Q  H\r\n  1, 1, 1, 1,\r\n  1, 1, 1, 1,\r\n  1, 1, 2, 2,\r\n  1, 2, 2, 4,\r\n  1, 2, 4, 4,\r\n  2, 4, 4, 4,\r\n  2, 4, 6, 5,\r\n  2, 4, 6, 6,\r\n  2, 5, 8, 8,\r\n  4, 5, 8, 8,\r\n  4, 5, 8, 11,\r\n  4, 8, 10, 11,\r\n  4, 9, 12, 16,\r\n  4, 9, 16, 16,\r\n  6, 10, 12, 18,\r\n  6, 10, 17, 16,\r\n  6, 11, 16, 19,\r\n  6, 13, 18, 21,\r\n  7, 14, 21, 25,\r\n  8, 16, 20, 25,\r\n  8, 17, 23, 25,\r\n  9, 17, 23, 34,\r\n  9, 18, 25, 30,\r\n  10, 20, 27, 32,\r\n  12, 21, 29, 35,\r\n  12, 23, 34, 37,\r\n  12, 25, 34, 40,\r\n  13, 26, 35, 42,\r\n  14, 28, 38, 45,\r\n  15, 29, 40, 48,\r\n  16, 31, 43, 51,\r\n  17, 33, 45, 54,\r\n  18, 35, 48, 57,\r\n  19, 37, 51, 60,\r\n  19, 38, 53, 63,\r\n  20, 40, 56, 66,\r\n  21, 43, 59, 70,\r\n  22, 45, 62, 74,\r\n  24, 47, 65, 77,\r\n  25, 49, 68, 81\r\n]\r\n\r\nconst EC_CODEWORDS_TABLE = [\r\n// L  M  Q  H\r\n  7, 10, 13, 17,\r\n  10, 16, 22, 28,\r\n  15, 26, 36, 44,\r\n  20, 36, 52, 64,\r\n  26, 48, 72, 88,\r\n  36, 64, 96, 112,\r\n  40, 72, 108, 130,\r\n  48, 88, 132, 156,\r\n  60, 110, 160, 192,\r\n  72, 130, 192, 224,\r\n  80, 150, 224, 264,\r\n  96, 176, 260, 308,\r\n  104, 198, 288, 352,\r\n  120, 216, 320, 384,\r\n  132, 240, 360, 432,\r\n  144, 280, 408, 480,\r\n  168, 308, 448, 532,\r\n  180, 338, 504, 588,\r\n  196, 364, 546, 650,\r\n  224, 416, 600, 700,\r\n  224, 442, 644, 750,\r\n  252, 476, 690, 816,\r\n  270, 504, 750, 900,\r\n  300, 560, 810, 960,\r\n  312, 588, 870, 1050,\r\n  336, 644, 952, 1110,\r\n  360, 700, 1020, 1200,\r\n  390, 728, 1050, 1260,\r\n  420, 784, 1140, 1350,\r\n  450, 812, 1200, 1440,\r\n  480, 868, 1290, 1530,\r\n  510, 924, 1350, 1620,\r\n  540, 980, 1440, 1710,\r\n  570, 1036, 1530, 1800,\r\n  570, 1064, 1590, 1890,\r\n  600, 1120, 1680, 1980,\r\n  630, 1204, 1770, 2100,\r\n  660, 1260, 1860, 2220,\r\n  720, 1316, 1950, 2310,\r\n  750, 1372, 2040, 2430\r\n]\r\n\r\n/**\r\n * Returns the number of error correction block that the QR Code should contain\r\n * for the specified version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction blocks\r\n */\r\nexports.getBlocksCount = function getBlocksCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the number of error correction codewords to use for the specified\r\n * version and error correction level.\r\n *\r\n * @param  {Number} version              QR Code version\r\n * @param  {Number} errorCorrectionLevel Error correction level\r\n * @return {Number}                      Number of error correction codewords\r\n */\r\nexports.getTotalCodewordsCount = function getTotalCodewordsCount (version, errorCorrectionLevel) {\r\n  switch (errorCorrectionLevel) {\r\n    case ECLevel.L:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0]\r\n    case ECLevel.M:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1]\r\n    case ECLevel.Q:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2]\r\n    case ECLevel.H:\r\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3]\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n", "const EXP_TABLE = new Uint8Array(512)\nconst LOG_TABLE = new Uint8Array(256)\n/**\n * Precompute the log and anti-log tables for faster computation later\n *\n * For each possible value in the galois field 2^8, we will pre-compute\n * the logarithm and anti-logarithm (exponential) of this value\n *\n * ref {@link https://en.wikiversity.org/wiki/Reed%E2%80%93Solomon_codes_for_coders#Introduction_to_mathematical_fields}\n */\n;(function initTables () {\n  let x = 1\n  for (let i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x\n    LOG_TABLE[x] = i\n\n    x <<= 1 // multiply by 2\n\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n    if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D\n    }\n  }\n\n  // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n  for (let i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255]\n  }\n}())\n\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.log = function log (n) {\n  if (n < 1) throw new Error('log(' + n + ')')\n  return LOG_TABLE[n]\n}\n\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nexports.exp = function exp (n) {\n  return EXP_TABLE[n]\n}\n\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nexports.mul = function mul (x, y) {\n  if (x === 0 || y === 0) return 0\n\n  // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]]\n}\n", "const GF = require('./galois-field')\n\n/**\n * Multiplies two polynomials inside Galois Field\n *\n * @param  {Uint8Array} p1 Polynomial\n * @param  {Uint8Array} p2 Polynomial\n * @return {Uint8Array}    Product of p1 and p2\n */\nexports.mul = function mul (p1, p2) {\n  const coeff = new Uint8Array(p1.length + p2.length - 1)\n\n  for (let i = 0; i < p1.length; i++) {\n    for (let j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\n    }\n  }\n\n  return coeff\n}\n\n/**\n * Calculate the remainder of polynomials division\n *\n * @param  {Uint8Array} divident Polynomial\n * @param  {Uint8Array} divisor  Polynomial\n * @return {Uint8Array}          Remainder\n */\nexports.mod = function mod (divident, divisor) {\n  let result = new Uint8Array(divident)\n\n  while ((result.length - divisor.length) >= 0) {\n    const coeff = result[0]\n\n    for (let i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff)\n    }\n\n    // remove all zeros from buffer head\n    let offset = 0\n    while (offset < result.length && result[offset] === 0) offset++\n    result = result.slice(offset)\n  }\n\n  return result\n}\n\n/**\n * Generate an irreducible generator polynomial of specified degree\n * (used by Reed-Solomon encoder)\n *\n * @param  {Number} degree Degree of the generator polynomial\n * @return {Uint8Array}    Buffer containing polynomial coefficients\n */\nexports.generateECPolynomial = function generateECPolynomial (degree) {\n  let poly = new Uint8Array([1])\n  for (let i = 0; i < degree; i++) {\n    poly = exports.mul(poly, new Uint8Array([1, GF.exp(i)]))\n  }\n\n  return poly\n}\n", "const Polynomial = require('./polynomial')\n\nfunction ReedSolomonEncoder (degree) {\n  this.genPoly = undefined\n  this.degree = degree\n\n  if (this.degree) this.initialize(this.degree)\n}\n\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize (degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree\n  this.genPoly = Polynomial.generateECPolynomial(this.degree)\n}\n\n/**\n * Encodes a chunk of data\n *\n * @param  {Uint8Array} data Buffer containing input data\n * @return {Uint8Array}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode (data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized')\n  }\n\n  // Calculate EC for this data block\n  // extends data size to data+genPoly size\n  const paddedData = new Uint8Array(data.length + this.degree)\n  paddedData.set(data)\n\n  // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n  const remainder = Polynomial.mod(paddedData, this.genPoly)\n\n  // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n  const start = this.degree - remainder.length\n  if (start > 0) {\n    const buff = new Uint8Array(this.degree)\n    buff.set(remainder, start)\n\n    return buff\n  }\n\n  return remainder\n}\n\nmodule.exports = ReedSolomonEncoder\n", "/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nexports.isValid = function isValid (version) {\n  return !isNaN(version) && version >= 1 && version <= 40\n}\n", "const numeric = '[0-9]+'\nconst alphanumeric = '[A-Z $%*+\\\\-./:]+'\nlet kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n  '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n  '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n  '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+'\nkanji = kanji.replace(/u/g, '\\\\u')\n\nconst byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+'\n\nexports.KANJI = new RegExp(kanji, 'g')\nexports.BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g')\nexports.BYTE = new RegExp(byte, 'g')\nexports.NUMERIC = new RegExp(numeric, 'g')\nexports.ALPHANUMERIC = new RegExp(alphanumeric, 'g')\n\nconst TEST_KANJI = new RegExp('^' + kanji + '$')\nconst TEST_NUMERIC = new RegExp('^' + numeric + '$')\nconst TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$')\n\nexports.testKanji = function testKanji (str) {\n  return TEST_KANJI.test(str)\n}\n\nexports.testNumeric = function testNumeric (str) {\n  return TEST_NUMERIC.test(str)\n}\n\nexports.testAlphanumeric = function testAlphanumeric (str) {\n  return TEST_ALPHANUMERIC.test(str)\n}\n", "const VersionCheck = require('./version-check')\nconst Regex = require('./regex')\n\n/**\n * Numeric mode encodes data from the decimal digit set (0 - 9)\n * (byte values 30HEX to 39HEX).\n * Normally, 3 data characters are represented by 10 bits.\n *\n * @type {Object}\n */\nexports.NUMERIC = {\n  id: 'Numeric',\n  bit: 1 << 0,\n  ccBits: [10, 12, 14]\n}\n\n/**\n * Alphanumeric mode encodes data from a set of 45 characters,\n * i.e. 10 numeric digits (0 - 9),\n *      26 alphabetic characters (A - Z),\n *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n * Normally, two input characters are represented by 11 bits.\n *\n * @type {Object}\n */\nexports.ALPHANUMERIC = {\n  id: 'Alphanumeric',\n  bit: 1 << 1,\n  ccBits: [9, 11, 13]\n}\n\n/**\n * In byte mode, data is encoded at 8 bits per character.\n *\n * @type {Object}\n */\nexports.BYTE = {\n  id: 'Byte',\n  bit: 1 << 2,\n  ccBits: [8, 16, 16]\n}\n\n/**\n * The Kanji mode efficiently encodes Kanji characters in accordance with\n * the Shift JIS system based on JIS X 0208.\n * The Shift JIS values are shifted from the JIS X 0208 values.\n * JIS X 0208 gives details of the shift coded representation.\n * Each two-byte character value is compacted to a 13-bit binary codeword.\n *\n * @type {Object}\n */\nexports.KANJI = {\n  id: 'Kanji',\n  bit: 1 << 3,\n  ccBits: [8, 10, 12]\n}\n\n/**\n * Mixed mode will contain a sequences of data in a combination of any of\n * the modes described above\n *\n * @type {Object}\n */\nexports.MIXED = {\n  bit: -1\n}\n\n/**\n * Returns the number of bits needed to store the data length\n * according to QR Code specifications.\n *\n * @param  {Mode}   mode    Data mode\n * @param  {Number} version QR Code version\n * @return {Number}         Number of bits\n */\nexports.getCharCountIndicator = function getCharCountIndicator (mode, version) {\n  if (!mode.ccBits) throw new Error('Invalid mode: ' + mode)\n\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid version: ' + version)\n  }\n\n  if (version >= 1 && version < 10) return mode.ccBits[0]\n  else if (version < 27) return mode.ccBits[1]\n  return mode.ccBits[2]\n}\n\n/**\n * Returns the most efficient mode to store the specified data\n *\n * @param  {String} dataStr Input data string\n * @return {Mode}           Best mode\n */\nexports.getBestModeForData = function getBestModeForData (dataStr) {\n  if (Regex.testNumeric(dataStr)) return exports.NUMERIC\n  else if (Regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC\n  else if (Regex.testKanji(dataStr)) return exports.KANJI\n  else return exports.BYTE\n}\n\n/**\n * Return mode name as string\n *\n * @param {Mode} mode Mode object\n * @returns {String}  Mode name\n */\nexports.toString = function toString (mode) {\n  if (mode && mode.id) return mode.id\n  throw new Error('Invalid mode')\n}\n\n/**\n * Check if input param is a valid mode object\n *\n * @param   {Mode}    mode Mode object\n * @returns {Boolean} True if valid mode, false otherwise\n */\nexports.isValid = function isValid (mode) {\n  return mode && mode.bit && mode.ccBits\n}\n\n/**\n * Get mode object from its name\n *\n * @param   {String} string Mode name\n * @returns {Mode}          Mode object\n */\nfunction fromString (string) {\n  if (typeof string !== 'string') {\n    throw new Error('Param is not a string')\n  }\n\n  const lcStr = string.toLowerCase()\n\n  switch (lcStr) {\n    case 'numeric':\n      return exports.NUMERIC\n    case 'alphanumeric':\n      return exports.ALPHANUMERIC\n    case 'kanji':\n      return exports.KANJI\n    case 'byte':\n      return exports.BYTE\n    default:\n      throw new Error('Unknown mode: ' + string)\n  }\n}\n\n/**\n * Returns mode from a value.\n * If value is not a valid mode, returns defaultValue\n *\n * @param  {Mode|String} value        Encoding mode\n * @param  {Mode}        defaultValue Fallback value\n * @return {Mode}                     Encoding mode\n */\nexports.from = function from (value, defaultValue) {\n  if (exports.isValid(value)) {\n    return value\n  }\n\n  try {\n    return fromString(value)\n  } catch (e) {\n    return defaultValue\n  }\n}\n", "const Utils = require('./utils')\nconst ECCode = require('./error-correction-code')\nconst ECLevel = require('./error-correction-level')\nconst Mode = require('./mode')\nconst VersionCheck = require('./version-check')\n\n// Generator polynomial used to encode version information\nconst G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0)\nconst G18_BCH = Utils.getBCHDigit(G18)\n\nfunction getBestVersionForDataLength (mode, length, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\nfunction getReservedBitsCount (mode, version) {\n  // Character count indicator + mode indicator bits\n  return Mode.getCharCountIndicator(mode, version) + 4\n}\n\nfunction getTotalBitsFromDataArray (segments, version) {\n  let totalBits = 0\n\n  segments.forEach(function (data) {\n    const reservedBits = getReservedBitsCount(data.mode, version)\n    totalBits += reservedBits + data.getBitsLength()\n  })\n\n  return totalBits\n}\n\nfunction getBestVersionForMixedData (segments, errorCorrectionLevel) {\n  for (let currentVersion = 1; currentVersion <= 40; currentVersion++) {\n    const length = getTotalBitsFromDataArray(segments, currentVersion)\n    if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, Mode.MIXED)) {\n      return currentVersion\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Returns version number from a value.\n * If value is not a valid version, returns defaultValue\n *\n * @param  {Number|String} value        QR Code version\n * @param  {Number}        defaultValue Fallback value\n * @return {Number}                     QR Code version number\n */\nexports.from = function from (value, defaultValue) {\n  if (VersionCheck.isValid(value)) {\n    return parseInt(value, 10)\n  }\n\n  return defaultValue\n}\n\n/**\n * Returns how much data can be stored with the specified QR code version\n * and error correction level\n *\n * @param  {Number} version              QR Code version (1-40)\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Mode}   mode                 Data mode\n * @return {Number}                      Quantity of storable data\n */\nexports.getCapacity = function getCapacity (version, errorCorrectionLevel, mode) {\n  if (!VersionCheck.isValid(version)) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  // Use Byte mode as default\n  if (typeof mode === 'undefined') mode = Mode.BYTE\n\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  if (mode === Mode.MIXED) return dataTotalCodewordsBits\n\n  const usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode, version)\n\n  // Return max number of storable codewords\n  switch (mode) {\n    case Mode.NUMERIC:\n      return Math.floor((usableBits / 10) * 3)\n\n    case Mode.ALPHANUMERIC:\n      return Math.floor((usableBits / 11) * 2)\n\n    case Mode.KANJI:\n      return Math.floor(usableBits / 13)\n\n    case Mode.BYTE:\n    default:\n      return Math.floor(usableBits / 8)\n  }\n}\n\n/**\n * Returns the minimum version needed to contain the amount of data\n *\n * @param  {Segment} data                    Segment of data\n * @param  {Number} [errorCorrectionLevel=H] Error correction level\n * @param  {Mode} mode                       Data mode\n * @return {Number}                          QR Code version\n */\nexports.getBestVersionForData = function getBestVersionForData (data, errorCorrectionLevel) {\n  let seg\n\n  const ecl = ECLevel.from(errorCorrectionLevel, ECLevel.M)\n\n  if (Array.isArray(data)) {\n    if (data.length > 1) {\n      return getBestVersionForMixedData(data, ecl)\n    }\n\n    if (data.length === 0) {\n      return 1\n    }\n\n    seg = data[0]\n  } else {\n    seg = data\n  }\n\n  return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl)\n}\n\n/**\n * Returns version information with relative error correction bits\n *\n * The version information is included in QR Code symbols of version 7 or larger.\n * It consists of an 18-bit sequence containing 6 data bits,\n * with 12 error correction bits calculated using the (18, 6) Golay code.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Encoded version info bits\n */\nexports.getEncodedBits = function getEncodedBits (version) {\n  if (!VersionCheck.isValid(version) || version < 7) {\n    throw new Error('Invalid QR Code version')\n  }\n\n  let d = version << 12\n\n  while (Utils.getBCHDigit(d) - G18_BCH >= 0) {\n    d ^= (G18 << (Utils.getBCHDigit(d) - G18_BCH))\n  }\n\n  return (version << 12) | d\n}\n", "const Utils = require('./utils')\n\nconst G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0)\nconst G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1)\nconst G15_BCH = Utils.getBCHDigit(G15)\n\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nexports.getEncodedBits = function getEncodedBits (errorCorrectionLevel, mask) {\n  const data = ((errorCorrectionLevel.bit << 3) | mask)\n  let d = data << 10\n\n  while (Utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= (G15 << (Utils.getBCHDigit(d) - G15_BCH))\n  }\n\n  // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n  return ((data << 10) | d) ^ G15_MASK\n}\n", "const Mode = require('./mode')\n\nfunction NumericData (data) {\n  this.mode = Mode.NUMERIC\n  this.data = data.toString()\n}\n\nNumericData.getBitsLength = function getBitsLength (length) {\n  return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0)\n}\n\nNumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nNumericData.prototype.getBitsLength = function getBitsLength () {\n  return NumericData.getBitsLength(this.data.length)\n}\n\nNumericData.prototype.write = function write (bitBuffer) {\n  let i, group, value\n\n  // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, 10)\n  }\n\n  // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n  const remainingNum = this.data.length - i\n  if (remainingNum > 0) {\n    group = this.data.substr(i)\n    value = parseInt(group, 10)\n\n    bitBuffer.put(value, remainingNum * 3 + 1)\n  }\n}\n\nmodule.exports = NumericData\n", "const Mode = require('./mode')\n\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nconst ALPHA_NUM_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n  'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n  'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n  ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n]\n\nfunction AlphanumericData (data) {\n  this.mode = Mode.ALPHANUMERIC\n  this.data = data\n}\n\nAlphanumericData.getBitsLength = function getBitsLength (length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2)\n}\n\nAlphanumericData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength () {\n  return AlphanumericData.getBitsLength(this.data.length)\n}\n\nAlphanumericData.prototype.write = function write (bitBuffer) {\n  let i\n\n  // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    let value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45\n\n    // The character value of the second digit is added to the product\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1])\n\n    // The sum is then stored as 11-bit binary number\n    bitBuffer.put(value, 11)\n  }\n\n  // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6)\n  }\n}\n\nmodule.exports = AlphanumericData\n", "'use strict'\n\nmodule.exports = function encodeUtf8 (input) {\n  var result = []\n  var size = input.length\n\n  for (var index = 0; index < size; index++) {\n    var point = input.charCodeAt(index)\n\n    if (point >= 0xD800 && point <= 0xDBFF && size > index + 1) {\n      var second = input.charCodeAt(index + 1)\n\n      if (second >= 0xDC00 && second <= 0xDFFF) {\n        // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        point = (point - 0xD800) * 0x400 + second - 0xDC00 + 0x10000\n        index += 1\n      }\n    }\n\n    // US-ASCII\n    if (point < 0x80) {\n      result.push(point)\n      continue\n    }\n\n    // 2-byte UTF-8\n    if (point < 0x800) {\n      result.push((point >> 6) | 192)\n      result.push((point & 63) | 128)\n      continue\n    }\n\n    // 3-byte UTF-8\n    if (point < 0xD800 || (point >= 0xE000 && point < 0x10000)) {\n      result.push((point >> 12) | 224)\n      result.push(((point >> 6) & 63) | 128)\n      result.push((point & 63) | 128)\n      continue\n    }\n\n    // 4-byte UTF-8\n    if (point >= 0x10000 && point <= 0x10FFFF) {\n      result.push((point >> 18) | 240)\n      result.push(((point >> 12) & 63) | 128)\n      result.push(((point >> 6) & 63) | 128)\n      result.push((point & 63) | 128)\n      continue\n    }\n\n    // Invalid character\n    result.push(0xEF, 0xBF, 0xBD)\n  }\n\n  return new Uint8Array(result).buffer\n}\n", "const encodeUtf8 = require('encode-utf8')\nconst Mode = require('./mode')\n\nfunction ByteData (data) {\n  this.mode = Mode.BYTE\n  if (typeof (data) === 'string') {\n    data = encodeUtf8(data)\n  }\n  this.data = new Uint8Array(data)\n}\n\nByteData.getBitsLength = function getBitsLength (length) {\n  return length * 8\n}\n\nByteData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nByteData.prototype.getBitsLength = function getBitsLength () {\n  return ByteData.getBitsLength(this.data.length)\n}\n\nByteData.prototype.write = function (bitBuffer) {\n  for (let i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8)\n  }\n}\n\nmodule.exports = ByteData\n", "const Mode = require('./mode')\nconst Utils = require('./utils')\n\nfunction KanjiData (data) {\n  this.mode = Mode.KANJI\n  this.data = data\n}\n\nKanjiData.getBitsLength = function getBitsLength (length) {\n  return length * 13\n}\n\nKanjiData.prototype.getLength = function getLength () {\n  return this.data.length\n}\n\nKanjiData.prototype.getBitsLength = function getBitsLength () {\n  return KanjiData.getBitsLength(this.data.length)\n}\n\nKanjiData.prototype.write = function (bitBuffer) {\n  let i\n\n  // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n  for (i = 0; i < this.data.length; i++) {\n    let value = Utils.toSJIS(this.data[i])\n\n    // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140\n\n    // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140\n    } else {\n      throw new Error(\n        'Invalid SJIS character: ' + this.data[i] + '\\n' +\n        'Make sure your charset is UTF-8')\n    }\n\n    // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n    value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff)\n\n    // Convert result to a 13-bit binary string\n    bitBuffer.put(value, 13)\n  }\n}\n\nmodule.exports = KanjiData\n", "'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n", "const Mode = require('./mode')\nconst NumericData = require('./numeric-data')\nconst AlphanumericData = require('./alphanumeric-data')\nconst ByteData = require('./byte-data')\nconst KanjiData = require('./kanji-data')\nconst Regex = require('./regex')\nconst Utils = require('./utils')\nconst dijkstra = require('dijkstrajs')\n\n/**\n * Returns UTF8 byte length\n *\n * @param  {String} str Input string\n * @return {Number}     Number of byte\n */\nfunction getStringByteLength (str) {\n  return unescape(encodeURIComponent(str)).length\n}\n\n/**\n * Get a list of segments of the specified mode\n * from a string\n *\n * @param  {Mode}   mode Segment mode\n * @param  {String} str  String to process\n * @return {Array}       Array of object with segments data\n */\nfunction getSegments (regex, mode, str) {\n  const segments = []\n  let result\n\n  while ((result = regex.exec(str)) !== null) {\n    segments.push({\n      data: result[0],\n      index: result.index,\n      mode: mode,\n      length: result[0].length\n    })\n  }\n\n  return segments\n}\n\n/**\n * Extracts a series of segments with the appropriate\n * modes from a string\n *\n * @param  {String} dataStr Input string\n * @return {Array}          Array of object with segments data\n */\nfunction getSegmentsFromString (dataStr) {\n  const numSegs = getSegments(Regex.NUMERIC, Mode.NUMERIC, dataStr)\n  const alphaNumSegs = getSegments(Regex.ALPHANUMERIC, Mode.ALPHANUMERIC, dataStr)\n  let byteSegs\n  let kanjiSegs\n\n  if (Utils.isKanjiModeEnabled()) {\n    byteSegs = getSegments(Regex.BYTE, Mode.BYTE, dataStr)\n    kanjiSegs = getSegments(Regex.KANJI, Mode.KANJI, dataStr)\n  } else {\n    byteSegs = getSegments(Regex.BYTE_KANJI, Mode.BYTE, dataStr)\n    kanjiSegs = []\n  }\n\n  const segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs)\n\n  return segs\n    .sort(function (s1, s2) {\n      return s1.index - s2.index\n    })\n    .map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      }\n    })\n}\n\n/**\n * Returns how many bits are needed to encode a string of\n * specified length with the specified mode\n *\n * @param  {Number} length String length\n * @param  {Mode} mode     Segment mode\n * @return {Number}        Bit length\n */\nfunction getSegmentBitsLength (length, mode) {\n  switch (mode) {\n    case Mode.NUMERIC:\n      return NumericData.getBitsLength(length)\n    case Mode.ALPHANUMERIC:\n      return AlphanumericData.getBitsLength(length)\n    case Mode.KANJI:\n      return KanjiData.getBitsLength(length)\n    case Mode.BYTE:\n      return ByteData.getBitsLength(length)\n  }\n}\n\n/**\n * Merges adjacent segments which have the same mode\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction mergeSegments (segs) {\n  return segs.reduce(function (acc, curr) {\n    const prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null\n    if (prevSeg && prevSeg.mode === curr.mode) {\n      acc[acc.length - 1].data += curr.data\n      return acc\n    }\n\n    acc.push(curr)\n    return acc\n  }, [])\n}\n\n/**\n * Generates a list of all possible nodes combination which\n * will be used to build a segments graph.\n *\n * Nodes are divided by groups. Each group will contain a list of all the modes\n * in which is possible to encode the given text.\n *\n * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n * The group for '12345' will contain then 3 objects, one for each\n * possible encoding mode.\n *\n * Each node represents a possible segment.\n *\n * @param  {Array} segs Array of object with segments data\n * @return {Array}      Array of object with segments data\n */\nfunction buildNodes (segs) {\n  const nodes = []\n  for (let i = 0; i < segs.length; i++) {\n    const seg = segs[i]\n\n    switch (seg.mode) {\n      case Mode.NUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.ALPHANUMERIC, length: seg.length },\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.ALPHANUMERIC:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: seg.length }\n        ])\n        break\n      case Mode.KANJI:\n        nodes.push([seg,\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n        break\n      case Mode.BYTE:\n        nodes.push([\n          { data: seg.data, mode: Mode.BYTE, length: getStringByteLength(seg.data) }\n        ])\n    }\n  }\n\n  return nodes\n}\n\n/**\n * Builds a graph from a list of nodes.\n * All segments in each node group will be connected with all the segments of\n * the next group and so on.\n *\n * At each connection will be assigned a weight depending on the\n * segment's byte length.\n *\n * @param  {Array} nodes    Array of object with segments data\n * @param  {Number} version QR Code version\n * @return {Object}         Graph of all possible segments\n */\nfunction buildGraph (nodes, version) {\n  const table = {}\n  const graph = { start: {} }\n  let prevNodeIds = ['start']\n\n  for (let i = 0; i < nodes.length; i++) {\n    const nodeGroup = nodes[i]\n    const currentNodeIds = []\n\n    for (let j = 0; j < nodeGroup.length; j++) {\n      const node = nodeGroup[j]\n      const key = '' + i + j\n\n      currentNodeIds.push(key)\n      table[key] = { node: node, lastCount: 0 }\n      graph[key] = {}\n\n      for (let n = 0; n < prevNodeIds.length; n++) {\n        const prevNodeId = prevNodeIds[n]\n\n        if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n          graph[prevNodeId][key] =\n            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n            getSegmentBitsLength(table[prevNodeId].lastCount, node.mode)\n\n          table[prevNodeId].lastCount += node.length\n        } else {\n          if (table[prevNodeId]) table[prevNodeId].lastCount = node.length\n\n          graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n            4 + Mode.getCharCountIndicator(node.mode, version) // switch cost\n        }\n      }\n    }\n\n    prevNodeIds = currentNodeIds\n  }\n\n  for (let n = 0; n < prevNodeIds.length; n++) {\n    graph[prevNodeIds[n]].end = 0\n  }\n\n  return { map: graph, table: table }\n}\n\n/**\n * Builds a segment from a specified data and mode.\n * If a mode is not specified, the more suitable will be used.\n *\n * @param  {String} data             Input data\n * @param  {Mode | String} modesHint Data mode\n * @return {Segment}                 Segment\n */\nfunction buildSingleSegment (data, modesHint) {\n  let mode\n  const bestMode = Mode.getBestModeForData(data)\n\n  mode = Mode.from(modesHint, bestMode)\n\n  // Make sure data can be encoded\n  if (mode !== Mode.BYTE && mode.bit < bestMode.bit) {\n    throw new Error('\"' + data + '\"' +\n      ' cannot be encoded with mode ' + Mode.toString(mode) +\n      '.\\n Suggested mode is: ' + Mode.toString(bestMode))\n  }\n\n  // Use Mode.BYTE if Kanji support is disabled\n  if (mode === Mode.KANJI && !Utils.isKanjiModeEnabled()) {\n    mode = Mode.BYTE\n  }\n\n  switch (mode) {\n    case Mode.NUMERIC:\n      return new NumericData(data)\n\n    case Mode.ALPHANUMERIC:\n      return new AlphanumericData(data)\n\n    case Mode.KANJI:\n      return new KanjiData(data)\n\n    case Mode.BYTE:\n      return new ByteData(data)\n  }\n}\n\n/**\n * Builds a list of segments from an array.\n * Array can contain Strings or Objects with segment's info.\n *\n * For each item which is a string, will be generated a segment with the given\n * string and the more appropriate encoding mode.\n *\n * For each item which is an object, will be generated a segment with the given\n * data and mode.\n * Objects must contain at least the property \"data\".\n * If property \"mode\" is not present, the more suitable mode will be used.\n *\n * @param  {Array} array Array of objects with segments data\n * @return {Array}       Array of Segments\n */\nexports.fromArray = function fromArray (array) {\n  return array.reduce(function (acc, seg) {\n    if (typeof seg === 'string') {\n      acc.push(buildSingleSegment(seg, null))\n    } else if (seg.data) {\n      acc.push(buildSingleSegment(seg.data, seg.mode))\n    }\n\n    return acc\n  }, [])\n}\n\n/**\n * Builds an optimized sequence of segments from a string,\n * which will produce the shortest possible bitstream.\n *\n * @param  {String} data    Input string\n * @param  {Number} version QR Code version\n * @return {Array}          Array of segments\n */\nexports.fromString = function fromString (data, version) {\n  const segs = getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n\n  const nodes = buildNodes(segs)\n  const graph = buildGraph(nodes, version)\n  const path = dijkstra.find_path(graph.map, 'start', 'end')\n\n  const optimizedSegs = []\n  for (let i = 1; i < path.length - 1; i++) {\n    optimizedSegs.push(graph.table[path[i]].node)\n  }\n\n  return exports.fromArray(mergeSegments(optimizedSegs))\n}\n\n/**\n * Splits a string in various segments with the modes which\n * best represent their content.\n * The produced segments are far from being optimized.\n * The output of this function is only used to estimate a QR Code version\n * which may contain the data.\n *\n * @param  {string} data Input string\n * @return {Array}       Array of segments\n */\nexports.rawSplit = function rawSplit (data) {\n  return exports.fromArray(\n    getSegmentsFromString(data, Utils.isKanjiModeEnabled())\n  )\n}\n", "const Utils = require('./utils')\nconst ECLevel = require('./error-correction-level')\nconst BitBuffer = require('./bit-buffer')\nconst BitMatrix = require('./bit-matrix')\nconst AlignmentPattern = require('./alignment-pattern')\nconst FinderPattern = require('./finder-pattern')\nconst MaskPattern = require('./mask-pattern')\nconst ECCode = require('./error-correction-code')\nconst ReedSolomonEncoder = require('./reed-solomon-encoder')\nconst Version = require('./version')\nconst FormatInfo = require('./format-info')\nconst Mode = require('./mode')\nconst Segments = require('./segments')\n\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern (matrix, version) {\n  const size = matrix.size\n  const pos = FinderPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue\n\n      for (let c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue\n\n        if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n          (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n          (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern (matrix) {\n  const size = matrix.size\n\n  for (let r = 8; r < size - 8; r++) {\n    const value = r % 2 === 0\n    matrix.set(r, 6, value, true)\n    matrix.set(6, r, value, true)\n  }\n}\n\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern (matrix, version) {\n  const pos = AlignmentPattern.getPositions(version)\n\n  for (let i = 0; i < pos.length; i++) {\n    const row = pos[i][0]\n    const col = pos[i][1]\n\n    for (let r = -2; r <= 2; r++) {\n      for (let c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 ||\n          (r === 0 && c === 0)) {\n          matrix.set(row + r, col + c, true, true)\n        } else {\n          matrix.set(row + r, col + c, false, true)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo (matrix, version) {\n  const size = matrix.size\n  const bits = Version.getEncodedBits(version)\n  let row, col, mod\n\n  for (let i = 0; i < 18; i++) {\n    row = Math.floor(i / 3)\n    col = i % 3 + size - 8 - 3\n    mod = ((bits >> i) & 1) === 1\n\n    matrix.set(row, col, mod, true)\n    matrix.set(col, row, mod, true)\n  }\n}\n\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo (matrix, errorCorrectionLevel, maskPattern) {\n  const size = matrix.size\n  const bits = FormatInfo.getEncodedBits(errorCorrectionLevel, maskPattern)\n  let i, mod\n\n  for (i = 0; i < 15; i++) {\n    mod = ((bits >> i) & 1) === 1\n\n    // vertical\n    if (i < 6) {\n      matrix.set(i, 8, mod, true)\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true)\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true)\n    }\n\n    // horizontal\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true)\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true)\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true)\n    }\n  }\n\n  // fixed module\n  matrix.set(size - 8, 8, 1, true)\n}\n\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix}  matrix Modules matrix\n * @param  {Uint8Array} data   Data codewords\n */\nfunction setupData (matrix, data) {\n  const size = matrix.size\n  let inc = -1\n  let row = size - 1\n  let bitIndex = 7\n  let byteIndex = 0\n\n  for (let col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--\n\n    while (true) {\n      for (let c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          let dark = false\n\n          if (byteIndex < data.length) {\n            dark = (((data[byteIndex] >>> bitIndex) & 1) === 1)\n          }\n\n          matrix.set(row, col - c, dark)\n          bitIndex--\n\n          if (bitIndex === -1) {\n            byteIndex++\n            bitIndex = 7\n          }\n        }\n      }\n\n      row += inc\n\n      if (row < 0 || size <= row) {\n        row -= inc\n        inc = -inc\n        break\n      }\n    }\n  }\n}\n\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Uint8Array}                    Buffer containing encoded codewords\n */\nfunction createData (version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  const buffer = new BitBuffer()\n\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4)\n\n    // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n    buffer.put(data.getLength(), Mode.getCharCountIndicator(data.mode, version))\n\n    // add binary data sequence to buffer\n    data.write(buffer)\n  })\n\n  // Calculate required number of bits\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n  const dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8\n\n  // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4)\n  }\n\n  // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0)\n  }\n\n  // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n  const remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8\n  for (let i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8)\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel)\n}\n\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Uint8Array}                     Buffer containing encoded codewords\n */\nfunction createCodewords (bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  const totalCodewords = Utils.getSymbolTotalCodewords(version)\n\n  // Total number of error correction codewords\n  const ecTotalCodewords = ECCode.getTotalCodewordsCount(version, errorCorrectionLevel)\n\n  // Total number of data codewords\n  const dataTotalCodewords = totalCodewords - ecTotalCodewords\n\n  // Total number of blocks\n  const ecTotalBlocks = ECCode.getBlocksCount(version, errorCorrectionLevel)\n\n  // Calculate how many blocks each group should contain\n  const blocksInGroup2 = totalCodewords % ecTotalBlocks\n  const blocksInGroup1 = ecTotalBlocks - blocksInGroup2\n\n  const totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks)\n\n  const dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks)\n  const dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1\n\n  // Number of EC codewords is the same for both groups\n  const ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1\n\n  // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n  const rs = new ReedSolomonEncoder(ecCount)\n\n  let offset = 0\n  const dcData = new Array(ecTotalBlocks)\n  const ecData = new Array(ecTotalBlocks)\n  let maxDataSize = 0\n  const buffer = new Uint8Array(bitBuffer.buffer)\n\n  // Divide the buffer into the required number of blocks\n  for (let b = 0; b < ecTotalBlocks; b++) {\n    const dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2\n\n    // extract a block of data from buffer\n    dcData[b] = buffer.slice(offset, offset + dataSize)\n\n    // Calculate EC codewords for this data block\n    ecData[b] = rs.encode(dcData[b])\n\n    offset += dataSize\n    maxDataSize = Math.max(maxDataSize, dataSize)\n  }\n\n  // Create final data\n  // Interleave the data and error correction codewords from each block\n  const data = new Uint8Array(totalCodewords)\n  let index = 0\n  let i, r\n\n  // Add data codewords\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i]\n      }\n    }\n  }\n\n  // Apped EC codewords\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i]\n    }\n  }\n\n  return data\n}\n\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol (data, version, errorCorrectionLevel, maskPattern) {\n  let segments\n\n  if (Array.isArray(data)) {\n    segments = Segments.fromArray(data)\n  } else if (typeof data === 'string') {\n    let estimatedVersion = version\n\n    if (!estimatedVersion) {\n      const rawSegments = Segments.rawSplit(data)\n\n      // Estimate best version that can contain raw splitted segments\n      estimatedVersion = Version.getBestVersionForData(rawSegments, errorCorrectionLevel)\n    }\n\n    // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n    segments = Segments.fromString(data, estimatedVersion || 40)\n  } else {\n    throw new Error('Invalid data')\n  }\n\n  // Get the min version that can contain data\n  const bestVersion = Version.getBestVersionForData(segments, errorCorrectionLevel)\n\n  // If no version is found, data cannot be stored\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code')\n  }\n\n  // If not specified, use min version as default\n  if (!version) {\n    version = bestVersion\n\n  // Check if the specified version can contain the data\n  } else if (version < bestVersion) {\n    throw new Error('\\n' +\n      'The chosen QR Code version cannot contain this amount of data.\\n' +\n      'Minimum version required to store current data is: ' + bestVersion + '.\\n'\n    )\n  }\n\n  const dataBits = createData(version, errorCorrectionLevel, segments)\n\n  // Allocate matrix buffer\n  const moduleCount = Utils.getSymbolSize(version)\n  const modules = new BitMatrix(moduleCount)\n\n  // Add function modules\n  setupFinderPattern(modules, version)\n  setupTimingPattern(modules)\n  setupAlignmentPattern(modules, version)\n\n  // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n  setupFormatInfo(modules, errorCorrectionLevel, 0)\n\n  if (version >= 7) {\n    setupVersionInfo(modules, version)\n  }\n\n  // Add data codewords\n  setupData(modules, dataBits)\n\n  if (isNaN(maskPattern)) {\n    // Find best mask pattern\n    maskPattern = MaskPattern.getBestMask(modules,\n      setupFormatInfo.bind(null, modules, errorCorrectionLevel))\n  }\n\n  // Apply mask pattern\n  MaskPattern.applyMask(maskPattern, modules)\n\n  // Replace format info bits with correct values\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern)\n\n  return {\n    modules: modules,\n    version: version,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern,\n    segments: segments\n  }\n}\n\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nexports.create = function create (data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text')\n  }\n\n  let errorCorrectionLevel = ECLevel.M\n  let version\n  let mask\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel = ECLevel.from(options.errorCorrectionLevel, ECLevel.M)\n    version = Version.from(options.version)\n    mask = MaskPattern.from(options.maskPattern)\n\n    if (options.toSJISFunc) {\n      Utils.setToSJISFunction(options.toSJISFunc)\n    }\n  }\n\n  return createSymbol(data, version, errorCorrectionLevel, mask)\n}\n", "\"use strict\";\n\nlet util = require(\"util\");\nlet Stream = require(\"stream\");\n\nlet ChunkStream = (module.exports = function () {\n  Stream.call(this);\n\n  this._buffers = [];\n  this._buffered = 0;\n\n  this._reads = [];\n  this._paused = false;\n\n  this._encoding = \"utf8\";\n  this.writable = true;\n});\nutil.inherits(ChunkStream, Stream);\n\nChunkStream.prototype.read = function (length, callback) {\n  this._reads.push({\n    length: Math.abs(length), // if length < 0 then at most this length\n    allowLess: length < 0,\n    func: callback,\n  });\n\n  process.nextTick(\n    function () {\n      this._process();\n\n      // its paused and there is not enought data then ask for more\n      if (this._paused && this._reads && this._reads.length > 0) {\n        this._paused = false;\n\n        this.emit(\"drain\");\n      }\n    }.bind(this)\n  );\n};\n\nChunkStream.prototype.write = function (data, encoding) {\n  if (!this.writable) {\n    this.emit(\"error\", new Error(\"Stream not writable\"));\n    return false;\n  }\n\n  let dataBuffer;\n  if (Buffer.isBuffer(data)) {\n    dataBuffer = data;\n  } else {\n    dataBuffer = Buffer.from(data, encoding || this._encoding);\n  }\n\n  this._buffers.push(dataBuffer);\n  this._buffered += dataBuffer.length;\n\n  this._process();\n\n  // ok if there are no more read requests\n  if (this._reads && this._reads.length === 0) {\n    this._paused = true;\n  }\n\n  return this.writable && !this._paused;\n};\n\nChunkStream.prototype.end = function (data, encoding) {\n  if (data) {\n    this.write(data, encoding);\n  }\n\n  this.writable = false;\n\n  // already destroyed\n  if (!this._buffers) {\n    return;\n  }\n\n  // enqueue or handle end\n  if (this._buffers.length === 0) {\n    this._end();\n  } else {\n    this._buffers.push(null);\n    this._process();\n  }\n};\n\nChunkStream.prototype.destroySoon = ChunkStream.prototype.end;\n\nChunkStream.prototype._end = function () {\n  if (this._reads.length > 0) {\n    this.emit(\"error\", new Error(\"Unexpected end of input\"));\n  }\n\n  this.destroy();\n};\n\nChunkStream.prototype.destroy = function () {\n  if (!this._buffers) {\n    return;\n  }\n\n  this.writable = false;\n  this._reads = null;\n  this._buffers = null;\n\n  this.emit(\"close\");\n};\n\nChunkStream.prototype._processReadAllowingLess = function (read) {\n  // ok there is any data so that we can satisfy this request\n  this._reads.shift(); // == read\n\n  // first we need to peek into first buffer\n  let smallerBuf = this._buffers[0];\n\n  // ok there is more data than we need\n  if (smallerBuf.length > read.length) {\n    this._buffered -= read.length;\n    this._buffers[0] = smallerBuf.slice(read.length);\n\n    read.func.call(this, smallerBuf.slice(0, read.length));\n  } else {\n    // ok this is less than maximum length so use it all\n    this._buffered -= smallerBuf.length;\n    this._buffers.shift(); // == smallerBuf\n\n    read.func.call(this, smallerBuf);\n  }\n};\n\nChunkStream.prototype._processRead = function (read) {\n  this._reads.shift(); // == read\n\n  let pos = 0;\n  let count = 0;\n  let data = Buffer.alloc(read.length);\n\n  // create buffer for all data\n  while (pos < read.length) {\n    let buf = this._buffers[count++];\n    let len = Math.min(buf.length, read.length - pos);\n\n    buf.copy(data, pos, 0, len);\n    pos += len;\n\n    // last buffer wasn't used all so just slice it and leave\n    if (len !== buf.length) {\n      this._buffers[--count] = buf.slice(len);\n    }\n  }\n\n  // remove all used buffers\n  if (count > 0) {\n    this._buffers.splice(0, count);\n  }\n\n  this._buffered -= read.length;\n\n  read.func.call(this, data);\n};\n\nChunkStream.prototype._process = function () {\n  try {\n    // as long as there is any data and read requests\n    while (this._buffered > 0 && this._reads && this._reads.length > 0) {\n      let read = this._reads[0];\n\n      // read any data (but no more than length)\n      if (read.allowLess) {\n        this._processReadAllowingLess(read);\n      } else if (this._buffered >= read.length) {\n        // ok we can meet some expectations\n\n        this._processRead(read);\n      } else {\n        // not enought data to satisfy first request in queue\n        // so we need to wait for more\n        break;\n      }\n    }\n\n    if (this._buffers && !this.writable) {\n      this._end();\n    }\n  } catch (ex) {\n    this.emit(\"error\", ex);\n  }\n};\n", "\"use strict\";\n\n// Adam 7\n//   0 1 2 3 4 5 6 7\n// 0 x 6 4 6 x 6 4 6\n// 1 7 7 7 7 7 7 7 7\n// 2 5 6 5 6 5 6 5 6\n// 3 7 7 7 7 7 7 7 7\n// 4 3 6 4 6 3 6 4 6\n// 5 7 7 7 7 7 7 7 7\n// 6 5 6 5 6 5 6 5 6\n// 7 7 7 7 7 7 7 7 7\n\nlet imagePasses = [\n  {\n    // pass 1 - 1px\n    x: [0],\n    y: [0],\n  },\n  {\n    // pass 2 - 1px\n    x: [4],\n    y: [0],\n  },\n  {\n    // pass 3 - 2px\n    x: [0, 4],\n    y: [4],\n  },\n  {\n    // pass 4 - 4px\n    x: [2, 6],\n    y: [0, 4],\n  },\n  {\n    // pass 5 - 8px\n    x: [0, 2, 4, 6],\n    y: [2, 6],\n  },\n  {\n    // pass 6 - 16px\n    x: [1, 3, 5, 7],\n    y: [0, 2, 4, 6],\n  },\n  {\n    // pass 7 - 32px\n    x: [0, 1, 2, 3, 4, 5, 6, 7],\n    y: [1, 3, 5, 7],\n  },\n];\n\nexports.getImagePasses = function (width, height) {\n  let images = [];\n  let xLeftOver = width % 8;\n  let yLeftOver = height % 8;\n  let xRepeats = (width - xLeftOver) / 8;\n  let yRepeats = (height - yLeftOver) / 8;\n  for (let i = 0; i < imagePasses.length; i++) {\n    let pass = imagePasses[i];\n    let passWidth = xRepeats * pass.x.length;\n    let passHeight = yRepeats * pass.y.length;\n    for (let j = 0; j < pass.x.length; j++) {\n      if (pass.x[j] < xLeftOver) {\n        passWidth++;\n      } else {\n        break;\n      }\n    }\n    for (let j = 0; j < pass.y.length; j++) {\n      if (pass.y[j] < yLeftOver) {\n        passHeight++;\n      } else {\n        break;\n      }\n    }\n    if (passWidth > 0 && passHeight > 0) {\n      images.push({ width: passWidth, height: passHeight, index: i });\n    }\n  }\n  return images;\n};\n\nexports.getInterlaceIterator = function (width) {\n  return function (x, y, pass) {\n    let outerXLeftOver = x % imagePasses[pass].x.length;\n    let outerX =\n      ((x - outerXLeftOver) / imagePasses[pass].x.length) * 8 +\n      imagePasses[pass].x[outerXLeftOver];\n    let outerYLeftOver = y % imagePasses[pass].y.length;\n    let outerY =\n      ((y - outerYLeftOver) / imagePasses[pass].y.length) * 8 +\n      imagePasses[pass].y[outerYLeftOver];\n    return outerX * 4 + outerY * width * 4;\n  };\n};\n", "\"use strict\";\n\nmodule.exports = function paethPredictor(left, above, upLeft) {\n  let paeth = left + above - upLeft;\n  let pLeft = Math.abs(paeth - left);\n  let pAbove = Math.abs(paeth - above);\n  let pUpLeft = Math.abs(paeth - upLeft);\n\n  if (pLeft <= pAbove && pLeft <= pUpLeft) {\n    return left;\n  }\n  if (pAbove <= pUpLeft) {\n    return above;\n  }\n  return upLeft;\n};\n", "\"use strict\";\n\nlet interlaceUtils = require(\"./interlace\");\nlet paethPredictor = require(\"./paeth-predictor\");\n\nfunction getByteWidth(width, bpp, depth) {\n  let byteWidth = width * bpp;\n  if (depth !== 8) {\n    byteWidth = Math.ceil(byteWidth / (8 / depth));\n  }\n  return byteWidth;\n}\n\nlet Filter = (module.exports = function (bitmapInfo, dependencies) {\n  let width = bitmapInfo.width;\n  let height = bitmapInfo.height;\n  let interlace = bitmapInfo.interlace;\n  let bpp = bitmapInfo.bpp;\n  let depth = bitmapInfo.depth;\n\n  this.read = dependencies.read;\n  this.write = dependencies.write;\n  this.complete = dependencies.complete;\n\n  this._imageIndex = 0;\n  this._images = [];\n  if (interlace) {\n    let passes = interlaceUtils.getImagePasses(width, height);\n    for (let i = 0; i < passes.length; i++) {\n      this._images.push({\n        byteWidth: getByteWidth(passes[i].width, bpp, depth),\n        height: passes[i].height,\n        lineIndex: 0,\n      });\n    }\n  } else {\n    this._images.push({\n      byteWidth: getByteWidth(width, bpp, depth),\n      height: height,\n      lineIndex: 0,\n    });\n  }\n\n  // when filtering the line we look at the pixel to the left\n  // the spec also says it is done on a byte level regardless of the number of pixels\n  // so if the depth is byte compatible (8 or 16) we subtract the bpp in order to compare back\n  // a pixel rather than just a different byte part. However if we are sub byte, we ignore.\n  if (depth === 8) {\n    this._xComparison = bpp;\n  } else if (depth === 16) {\n    this._xComparison = bpp * 2;\n  } else {\n    this._xComparison = 1;\n  }\n});\n\nFilter.prototype.start = function () {\n  this.read(\n    this._images[this._imageIndex].byteWidth + 1,\n    this._reverseFilterLine.bind(this)\n  );\n};\n\nFilter.prototype._unFilterType1 = function (\n  rawData,\n  unfilteredLine,\n  byteWidth\n) {\n  let xComparison = this._xComparison;\n  let xBiggerThan = xComparison - 1;\n\n  for (let x = 0; x < byteWidth; x++) {\n    let rawByte = rawData[1 + x];\n    let f1Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    unfilteredLine[x] = rawByte + f1Left;\n  }\n};\n\nFilter.prototype._unFilterType2 = function (\n  rawData,\n  unfilteredLine,\n  byteWidth\n) {\n  let lastLine = this._lastLine;\n\n  for (let x = 0; x < byteWidth; x++) {\n    let rawByte = rawData[1 + x];\n    let f2Up = lastLine ? lastLine[x] : 0;\n    unfilteredLine[x] = rawByte + f2Up;\n  }\n};\n\nFilter.prototype._unFilterType3 = function (\n  rawData,\n  unfilteredLine,\n  byteWidth\n) {\n  let xComparison = this._xComparison;\n  let xBiggerThan = xComparison - 1;\n  let lastLine = this._lastLine;\n\n  for (let x = 0; x < byteWidth; x++) {\n    let rawByte = rawData[1 + x];\n    let f3Up = lastLine ? lastLine[x] : 0;\n    let f3Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    let f3Add = Math.floor((f3Left + f3Up) / 2);\n    unfilteredLine[x] = rawByte + f3Add;\n  }\n};\n\nFilter.prototype._unFilterType4 = function (\n  rawData,\n  unfilteredLine,\n  byteWidth\n) {\n  let xComparison = this._xComparison;\n  let xBiggerThan = xComparison - 1;\n  let lastLine = this._lastLine;\n\n  for (let x = 0; x < byteWidth; x++) {\n    let rawByte = rawData[1 + x];\n    let f4Up = lastLine ? lastLine[x] : 0;\n    let f4Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    let f4UpLeft = x > xBiggerThan && lastLine ? lastLine[x - xComparison] : 0;\n    let f4Add = paethPredictor(f4Left, f4Up, f4UpLeft);\n    unfilteredLine[x] = rawByte + f4Add;\n  }\n};\n\nFilter.prototype._reverseFilterLine = function (rawData) {\n  let filter = rawData[0];\n  let unfilteredLine;\n  let currentImage = this._images[this._imageIndex];\n  let byteWidth = currentImage.byteWidth;\n\n  if (filter === 0) {\n    unfilteredLine = rawData.slice(1, byteWidth + 1);\n  } else {\n    unfilteredLine = Buffer.alloc(byteWidth);\n\n    switch (filter) {\n      case 1:\n        this._unFilterType1(rawData, unfilteredLine, byteWidth);\n        break;\n      case 2:\n        this._unFilterType2(rawData, unfilteredLine, byteWidth);\n        break;\n      case 3:\n        this._unFilterType3(rawData, unfilteredLine, byteWidth);\n        break;\n      case 4:\n        this._unFilterType4(rawData, unfilteredLine, byteWidth);\n        break;\n      default:\n        throw new Error(\"Unrecognised filter type - \" + filter);\n    }\n  }\n\n  this.write(unfilteredLine);\n\n  currentImage.lineIndex++;\n  if (currentImage.lineIndex >= currentImage.height) {\n    this._lastLine = null;\n    this._imageIndex++;\n    currentImage = this._images[this._imageIndex];\n  } else {\n    this._lastLine = unfilteredLine;\n  }\n\n  if (currentImage) {\n    // read, using the byte width that may be from the new current image\n    this.read(currentImage.byteWidth + 1, this._reverseFilterLine.bind(this));\n  } else {\n    this._lastLine = null;\n    this.complete();\n  }\n};\n", "\"use strict\";\n\nlet util = require(\"util\");\nlet ChunkStream = require(\"./chunkstream\");\nlet Filter = require(\"./filter-parse\");\n\nlet FilterAsync = (module.exports = function (bitmapInfo) {\n  ChunkStream.call(this);\n\n  let buffers = [];\n  let that = this;\n  this._filter = new Filter(bitmapInfo, {\n    read: this.read.bind(this),\n    write: function (buffer) {\n      buffers.push(buffer);\n    },\n    complete: function () {\n      that.emit(\"complete\", Buffer.concat(buffers));\n    },\n  });\n\n  this._filter.start();\n});\nutil.inherits(FilterAsync, ChunkStream);\n", "\"use strict\";\n\nmodule.exports = {\n  PNG_SIGNATURE: [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a],\n\n  TYPE_IHDR: 0x49484452,\n  TYPE_IEND: 0x49454e44,\n  TYPE_IDAT: 0x49444154,\n  TYPE_PLTE: 0x504c5445,\n  TYPE_tRNS: 0x74524e53, // eslint-disable-line camelcase\n  TYPE_gAMA: 0x67414d41, // eslint-disable-line camelcase\n\n  // color-type bits\n  COLORTYPE_GRAYSCALE: 0,\n  COLORTYPE_PALETTE: 1,\n  COLORTYPE_COLOR: 2,\n  COLORTYPE_ALPHA: 4, // e.g. grayscale and alpha\n\n  // color-type combinations\n  COLORTYPE_PALETTE_COLOR: 3,\n  COLORTYPE_COLOR_ALPHA: 6,\n\n  COLORTYPE_TO_BPP_MAP: {\n    0: 1,\n    2: 3,\n    3: 1,\n    4: 2,\n    6: 4,\n  },\n\n  GAMMA_DIVISION: 100000,\n};\n", "\"use strict\";\n\nlet crcTable = [];\n\n(function () {\n  for (let i = 0; i < 256; i++) {\n    let currentCrc = i;\n    for (let j = 0; j < 8; j++) {\n      if (currentCrc & 1) {\n        currentCrc = 0xedb88320 ^ (currentCrc >>> 1);\n      } else {\n        currentCrc = currentCrc >>> 1;\n      }\n    }\n    crcTable[i] = currentCrc;\n  }\n})();\n\nlet CrcCalculator = (module.exports = function () {\n  this._crc = -1;\n});\n\nCrcCalculator.prototype.write = function (data) {\n  for (let i = 0; i < data.length; i++) {\n    this._crc = crcTable[(this._crc ^ data[i]) & 0xff] ^ (this._crc >>> 8);\n  }\n  return true;\n};\n\nCrcCalculator.prototype.crc32 = function () {\n  return this._crc ^ -1;\n};\n\nCrcCalculator.crc32 = function (buf) {\n  let crc = -1;\n  for (let i = 0; i < buf.length; i++) {\n    crc = crcTable[(crc ^ buf[i]) & 0xff] ^ (crc >>> 8);\n  }\n  return crc ^ -1;\n};\n", "\"use strict\";\n\nlet constants = require(\"./constants\");\nlet CrcCalculator = require(\"./crc\");\n\nlet Parser = (module.exports = function (options, dependencies) {\n  this._options = options;\n  options.checkCRC = options.checkCRC !== false;\n\n  this._hasIHDR = false;\n  this._hasIEND = false;\n  this._emittedHeadersFinished = false;\n\n  // input flags/metadata\n  this._palette = [];\n  this._colorType = 0;\n\n  this._chunks = {};\n  this._chunks[constants.TYPE_IHDR] = this._handleIHDR.bind(this);\n  this._chunks[constants.TYPE_IEND] = this._handleIEND.bind(this);\n  this._chunks[constants.TYPE_IDAT] = this._handleIDAT.bind(this);\n  this._chunks[constants.TYPE_PLTE] = this._handlePLTE.bind(this);\n  this._chunks[constants.TYPE_tRNS] = this._handleTRNS.bind(this);\n  this._chunks[constants.TYPE_gAMA] = this._handleGAMA.bind(this);\n\n  this.read = dependencies.read;\n  this.error = dependencies.error;\n  this.metadata = dependencies.metadata;\n  this.gamma = dependencies.gamma;\n  this.transColor = dependencies.transColor;\n  this.palette = dependencies.palette;\n  this.parsed = dependencies.parsed;\n  this.inflateData = dependencies.inflateData;\n  this.finished = dependencies.finished;\n  this.simpleTransparency = dependencies.simpleTransparency;\n  this.headersFinished = dependencies.headersFinished || function () {};\n});\n\nParser.prototype.start = function () {\n  this.read(constants.PNG_SIGNATURE.length, this._parseSignature.bind(this));\n};\n\nParser.prototype._parseSignature = function (data) {\n  let signature = constants.PNG_SIGNATURE;\n\n  for (let i = 0; i < signature.length; i++) {\n    if (data[i] !== signature[i]) {\n      this.error(new Error(\"Invalid file signature\"));\n      return;\n    }\n  }\n  this.read(8, this._parseChunkBegin.bind(this));\n};\n\nParser.prototype._parseChunkBegin = function (data) {\n  // chunk content length\n  let length = data.readUInt32BE(0);\n\n  // chunk type\n  let type = data.readUInt32BE(4);\n  let name = \"\";\n  for (let i = 4; i < 8; i++) {\n    name += String.fromCharCode(data[i]);\n  }\n\n  //console.log('chunk ', name, length);\n\n  // chunk flags\n  let ancillary = Boolean(data[4] & 0x20); // or critical\n  //    priv = Boolean(data[5] & 0x20), // or public\n  //    safeToCopy = Boolean(data[7] & 0x20); // or unsafe\n\n  if (!this._hasIHDR && type !== constants.TYPE_IHDR) {\n    this.error(new Error(\"Expected IHDR on beggining\"));\n    return;\n  }\n\n  this._crc = new CrcCalculator();\n  this._crc.write(Buffer.from(name));\n\n  if (this._chunks[type]) {\n    return this._chunks[type](length);\n  }\n\n  if (!ancillary) {\n    this.error(new Error(\"Unsupported critical chunk type \" + name));\n    return;\n  }\n\n  this.read(length + 4, this._skipChunk.bind(this));\n};\n\nParser.prototype._skipChunk = function (/*data*/) {\n  this.read(8, this._parseChunkBegin.bind(this));\n};\n\nParser.prototype._handleChunkEnd = function () {\n  this.read(4, this._parseChunkEnd.bind(this));\n};\n\nParser.prototype._parseChunkEnd = function (data) {\n  let fileCrc = data.readInt32BE(0);\n  let calcCrc = this._crc.crc32();\n\n  // check CRC\n  if (this._options.checkCRC && calcCrc !== fileCrc) {\n    this.error(new Error(\"Crc error - \" + fileCrc + \" - \" + calcCrc));\n    return;\n  }\n\n  if (!this._hasIEND) {\n    this.read(8, this._parseChunkBegin.bind(this));\n  }\n};\n\nParser.prototype._handleIHDR = function (length) {\n  this.read(length, this._parseIHDR.bind(this));\n};\nParser.prototype._parseIHDR = function (data) {\n  this._crc.write(data);\n\n  let width = data.readUInt32BE(0);\n  let height = data.readUInt32BE(4);\n  let depth = data[8];\n  let colorType = data[9]; // bits: 1 palette, 2 color, 4 alpha\n  let compr = data[10];\n  let filter = data[11];\n  let interlace = data[12];\n\n  // console.log('    width', width, 'height', height,\n  //     'depth', depth, 'colorType', colorType,\n  //     'compr', compr, 'filter', filter, 'interlace', interlace\n  // );\n\n  if (\n    depth !== 8 &&\n    depth !== 4 &&\n    depth !== 2 &&\n    depth !== 1 &&\n    depth !== 16\n  ) {\n    this.error(new Error(\"Unsupported bit depth \" + depth));\n    return;\n  }\n  if (!(colorType in constants.COLORTYPE_TO_BPP_MAP)) {\n    this.error(new Error(\"Unsupported color type\"));\n    return;\n  }\n  if (compr !== 0) {\n    this.error(new Error(\"Unsupported compression method\"));\n    return;\n  }\n  if (filter !== 0) {\n    this.error(new Error(\"Unsupported filter method\"));\n    return;\n  }\n  if (interlace !== 0 && interlace !== 1) {\n    this.error(new Error(\"Unsupported interlace method\"));\n    return;\n  }\n\n  this._colorType = colorType;\n\n  let bpp = constants.COLORTYPE_TO_BPP_MAP[this._colorType];\n\n  this._hasIHDR = true;\n\n  this.metadata({\n    width: width,\n    height: height,\n    depth: depth,\n    interlace: Boolean(interlace),\n    palette: Boolean(colorType & constants.COLORTYPE_PALETTE),\n    color: Boolean(colorType & constants.COLORTYPE_COLOR),\n    alpha: Boolean(colorType & constants.COLORTYPE_ALPHA),\n    bpp: bpp,\n    colorType: colorType,\n  });\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handlePLTE = function (length) {\n  this.read(length, this._parsePLTE.bind(this));\n};\nParser.prototype._parsePLTE = function (data) {\n  this._crc.write(data);\n\n  let entries = Math.floor(data.length / 3);\n  // console.log('Palette:', entries);\n\n  for (let i = 0; i < entries; i++) {\n    this._palette.push([data[i * 3], data[i * 3 + 1], data[i * 3 + 2], 0xff]);\n  }\n\n  this.palette(this._palette);\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleTRNS = function (length) {\n  this.simpleTransparency();\n  this.read(length, this._parseTRNS.bind(this));\n};\nParser.prototype._parseTRNS = function (data) {\n  this._crc.write(data);\n\n  // palette\n  if (this._colorType === constants.COLORTYPE_PALETTE_COLOR) {\n    if (this._palette.length === 0) {\n      this.error(new Error(\"Transparency chunk must be after palette\"));\n      return;\n    }\n    if (data.length > this._palette.length) {\n      this.error(new Error(\"More transparent colors than palette size\"));\n      return;\n    }\n    for (let i = 0; i < data.length; i++) {\n      this._palette[i][3] = data[i];\n    }\n    this.palette(this._palette);\n  }\n\n  // for colorType 0 (grayscale) and 2 (rgb)\n  // there might be one gray/color defined as transparent\n  if (this._colorType === constants.COLORTYPE_GRAYSCALE) {\n    // grey, 2 bytes\n    this.transColor([data.readUInt16BE(0)]);\n  }\n  if (this._colorType === constants.COLORTYPE_COLOR) {\n    this.transColor([\n      data.readUInt16BE(0),\n      data.readUInt16BE(2),\n      data.readUInt16BE(4),\n    ]);\n  }\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleGAMA = function (length) {\n  this.read(length, this._parseGAMA.bind(this));\n};\nParser.prototype._parseGAMA = function (data) {\n  this._crc.write(data);\n  this.gamma(data.readUInt32BE(0) / constants.GAMMA_DIVISION);\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleIDAT = function (length) {\n  if (!this._emittedHeadersFinished) {\n    this._emittedHeadersFinished = true;\n    this.headersFinished();\n  }\n  this.read(-length, this._parseIDAT.bind(this, length));\n};\nParser.prototype._parseIDAT = function (length, data) {\n  this._crc.write(data);\n\n  if (\n    this._colorType === constants.COLORTYPE_PALETTE_COLOR &&\n    this._palette.length === 0\n  ) {\n    throw new Error(\"Expected palette not found\");\n  }\n\n  this.inflateData(data);\n  let leftOverLength = length - data.length;\n\n  if (leftOverLength > 0) {\n    this._handleIDAT(leftOverLength);\n  } else {\n    this._handleChunkEnd();\n  }\n};\n\nParser.prototype._handleIEND = function (length) {\n  this.read(length, this._parseIEND.bind(this));\n};\nParser.prototype._parseIEND = function (data) {\n  this._crc.write(data);\n\n  this._hasIEND = true;\n  this._handleChunkEnd();\n\n  if (this.finished) {\n    this.finished();\n  }\n};\n", "\"use strict\";\n\nlet interlaceUtils = require(\"./interlace\");\n\nlet pixelBppMapper = [\n  // 0 - dummy entry\n  function () {},\n\n  // 1 - L\n  // 0: 0, 1: 0, 2: 0, 3: 0xff\n  function (pxData, data, pxPos, rawPos) {\n    if (rawPos === data.length) {\n      throw new Error(\"Ran out of data\");\n    }\n\n    let pixel = data[rawPos];\n    pxData[pxPos] = pixel;\n    pxData[pxPos + 1] = pixel;\n    pxData[pxPos + 2] = pixel;\n    pxData[pxPos + 3] = 0xff;\n  },\n\n  // 2 - LA\n  // 0: 0, 1: 0, 2: 0, 3: 1\n  function (pxData, data, pxPos, rawPos) {\n    if (rawPos + 1 >= data.length) {\n      throw new Error(\"Ran out of data\");\n    }\n\n    let pixel = data[rawPos];\n    pxData[pxPos] = pixel;\n    pxData[pxPos + 1] = pixel;\n    pxData[pxPos + 2] = pixel;\n    pxData[pxPos + 3] = data[rawPos + 1];\n  },\n\n  // 3 - RGB\n  // 0: 0, 1: 1, 2: 2, 3: 0xff\n  function (pxData, data, pxPos, rawPos) {\n    if (rawPos + 2 >= data.length) {\n      throw new Error(\"Ran out of data\");\n    }\n\n    pxData[pxPos] = data[rawPos];\n    pxData[pxPos + 1] = data[rawPos + 1];\n    pxData[pxPos + 2] = data[rawPos + 2];\n    pxData[pxPos + 3] = 0xff;\n  },\n\n  // 4 - RGBA\n  // 0: 0, 1: 1, 2: 2, 3: 3\n  function (pxData, data, pxPos, rawPos) {\n    if (rawPos + 3 >= data.length) {\n      throw new Error(\"Ran out of data\");\n    }\n\n    pxData[pxPos] = data[rawPos];\n    pxData[pxPos + 1] = data[rawPos + 1];\n    pxData[pxPos + 2] = data[rawPos + 2];\n    pxData[pxPos + 3] = data[rawPos + 3];\n  },\n];\n\nlet pixelBppCustomMapper = [\n  // 0 - dummy entry\n  function () {},\n\n  // 1 - L\n  // 0: 0, 1: 0, 2: 0, 3: 0xff\n  function (pxData, pixelData, pxPos, maxBit) {\n    let pixel = pixelData[0];\n    pxData[pxPos] = pixel;\n    pxData[pxPos + 1] = pixel;\n    pxData[pxPos + 2] = pixel;\n    pxData[pxPos + 3] = maxBit;\n  },\n\n  // 2 - LA\n  // 0: 0, 1: 0, 2: 0, 3: 1\n  function (pxData, pixelData, pxPos) {\n    let pixel = pixelData[0];\n    pxData[pxPos] = pixel;\n    pxData[pxPos + 1] = pixel;\n    pxData[pxPos + 2] = pixel;\n    pxData[pxPos + 3] = pixelData[1];\n  },\n\n  // 3 - RGB\n  // 0: 0, 1: 1, 2: 2, 3: 0xff\n  function (pxData, pixelData, pxPos, maxBit) {\n    pxData[pxPos] = pixelData[0];\n    pxData[pxPos + 1] = pixelData[1];\n    pxData[pxPos + 2] = pixelData[2];\n    pxData[pxPos + 3] = maxBit;\n  },\n\n  // 4 - RGBA\n  // 0: 0, 1: 1, 2: 2, 3: 3\n  function (pxData, pixelData, pxPos) {\n    pxData[pxPos] = pixelData[0];\n    pxData[pxPos + 1] = pixelData[1];\n    pxData[pxPos + 2] = pixelData[2];\n    pxData[pxPos + 3] = pixelData[3];\n  },\n];\n\nfunction bitRetriever(data, depth) {\n  let leftOver = [];\n  let i = 0;\n\n  function split() {\n    if (i === data.length) {\n      throw new Error(\"Ran out of data\");\n    }\n    let byte = data[i];\n    i++;\n    let byte8, byte7, byte6, byte5, byte4, byte3, byte2, byte1;\n    switch (depth) {\n      default:\n        throw new Error(\"unrecognised depth\");\n      case 16:\n        byte2 = data[i];\n        i++;\n        leftOver.push((byte << 8) + byte2);\n        break;\n      case 4:\n        byte2 = byte & 0x0f;\n        byte1 = byte >> 4;\n        leftOver.push(byte1, byte2);\n        break;\n      case 2:\n        byte4 = byte & 3;\n        byte3 = (byte >> 2) & 3;\n        byte2 = (byte >> 4) & 3;\n        byte1 = (byte >> 6) & 3;\n        leftOver.push(byte1, byte2, byte3, byte4);\n        break;\n      case 1:\n        byte8 = byte & 1;\n        byte7 = (byte >> 1) & 1;\n        byte6 = (byte >> 2) & 1;\n        byte5 = (byte >> 3) & 1;\n        byte4 = (byte >> 4) & 1;\n        byte3 = (byte >> 5) & 1;\n        byte2 = (byte >> 6) & 1;\n        byte1 = (byte >> 7) & 1;\n        leftOver.push(byte1, byte2, byte3, byte4, byte5, byte6, byte7, byte8);\n        break;\n    }\n  }\n\n  return {\n    get: function (count) {\n      while (leftOver.length < count) {\n        split();\n      }\n      let returner = leftOver.slice(0, count);\n      leftOver = leftOver.slice(count);\n      return returner;\n    },\n    resetAfterLine: function () {\n      leftOver.length = 0;\n    },\n    end: function () {\n      if (i !== data.length) {\n        throw new Error(\"extra data found\");\n      }\n    },\n  };\n}\n\nfunction mapImage8Bit(image, pxData, getPxPos, bpp, data, rawPos) {\n  // eslint-disable-line max-params\n  let imageWidth = image.width;\n  let imageHeight = image.height;\n  let imagePass = image.index;\n  for (let y = 0; y < imageHeight; y++) {\n    for (let x = 0; x < imageWidth; x++) {\n      let pxPos = getPxPos(x, y, imagePass);\n      pixelBppMapper[bpp](pxData, data, pxPos, rawPos);\n      rawPos += bpp; //eslint-disable-line no-param-reassign\n    }\n  }\n  return rawPos;\n}\n\nfunction mapImageCustomBit(image, pxData, getPxPos, bpp, bits, maxBit) {\n  // eslint-disable-line max-params\n  let imageWidth = image.width;\n  let imageHeight = image.height;\n  let imagePass = image.index;\n  for (let y = 0; y < imageHeight; y++) {\n    for (let x = 0; x < imageWidth; x++) {\n      let pixelData = bits.get(bpp);\n      let pxPos = getPxPos(x, y, imagePass);\n      pixelBppCustomMapper[bpp](pxData, pixelData, pxPos, maxBit);\n    }\n    bits.resetAfterLine();\n  }\n}\n\nexports.dataToBitMap = function (data, bitmapInfo) {\n  let width = bitmapInfo.width;\n  let height = bitmapInfo.height;\n  let depth = bitmapInfo.depth;\n  let bpp = bitmapInfo.bpp;\n  let interlace = bitmapInfo.interlace;\n  let bits;\n\n  if (depth !== 8) {\n    bits = bitRetriever(data, depth);\n  }\n  let pxData;\n  if (depth <= 8) {\n    pxData = Buffer.alloc(width * height * 4);\n  } else {\n    pxData = new Uint16Array(width * height * 4);\n  }\n  let maxBit = Math.pow(2, depth) - 1;\n  let rawPos = 0;\n  let images;\n  let getPxPos;\n\n  if (interlace) {\n    images = interlaceUtils.getImagePasses(width, height);\n    getPxPos = interlaceUtils.getInterlaceIterator(width, height);\n  } else {\n    let nonInterlacedPxPos = 0;\n    getPxPos = function () {\n      let returner = nonInterlacedPxPos;\n      nonInterlacedPxPos += 4;\n      return returner;\n    };\n    images = [{ width: width, height: height }];\n  }\n\n  for (let imageIndex = 0; imageIndex < images.length; imageIndex++) {\n    if (depth === 8) {\n      rawPos = mapImage8Bit(\n        images[imageIndex],\n        pxData,\n        getPxPos,\n        bpp,\n        data,\n        rawPos\n      );\n    } else {\n      mapImageCustomBit(\n        images[imageIndex],\n        pxData,\n        getPxPos,\n        bpp,\n        bits,\n        maxBit\n      );\n    }\n  }\n  if (depth === 8) {\n    if (rawPos !== data.length) {\n      throw new Error(\"extra data found\");\n    }\n  } else {\n    bits.end();\n  }\n\n  return pxData;\n};\n", "\"use strict\";\n\nfunction dePalette(indata, outdata, width, height, palette) {\n  let pxPos = 0;\n  // use values from palette\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let color = palette[indata[pxPos]];\n\n      if (!color) {\n        throw new Error(\"index \" + indata[pxPos] + \" not in palette\");\n      }\n\n      for (let i = 0; i < 4; i++) {\n        outdata[pxPos + i] = color[i];\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction replaceTransparentColor(indata, outdata, width, height, transColor) {\n  let pxPos = 0;\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let makeTrans = false;\n\n      if (transColor.length === 1) {\n        if (transColor[0] === indata[pxPos]) {\n          makeTrans = true;\n        }\n      } else if (\n        transColor[0] === indata[pxPos] &&\n        transColor[1] === indata[pxPos + 1] &&\n        transColor[2] === indata[pxPos + 2]\n      ) {\n        makeTrans = true;\n      }\n      if (makeTrans) {\n        for (let i = 0; i < 4; i++) {\n          outdata[pxPos + i] = 0;\n        }\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction scaleDepth(indata, outdata, width, height, depth) {\n  let maxOutSample = 255;\n  let maxInSample = Math.pow(2, depth) - 1;\n  let pxPos = 0;\n\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      for (let i = 0; i < 4; i++) {\n        outdata[pxPos + i] = Math.floor(\n          (indata[pxPos + i] * maxOutSample) / maxInSample + 0.5\n        );\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nmodule.exports = function (indata, imageData) {\n  let depth = imageData.depth;\n  let width = imageData.width;\n  let height = imageData.height;\n  let colorType = imageData.colorType;\n  let transColor = imageData.transColor;\n  let palette = imageData.palette;\n\n  let outdata = indata; // only different for 16 bits\n\n  if (colorType === 3) {\n    // paletted\n    dePalette(indata, outdata, width, height, palette);\n  } else {\n    if (transColor) {\n      replaceTransparentColor(indata, outdata, width, height, transColor);\n    }\n    // if it needs scaling\n    if (depth !== 8) {\n      // if we need to change the buffer size\n      if (depth === 16) {\n        outdata = Buffer.alloc(width * height * 4);\n      }\n      scaleDepth(indata, outdata, width, height, depth);\n    }\n  }\n  return outdata;\n};\n", "\"use strict\";\n\nlet util = require(\"util\");\nlet zlib = require(\"zlib\");\nlet ChunkStream = require(\"./chunkstream\");\nlet FilterAsync = require(\"./filter-parse-async\");\nlet Parser = require(\"./parser\");\nlet bitmapper = require(\"./bitmapper\");\nlet formatNormaliser = require(\"./format-normaliser\");\n\nlet ParserAsync = (module.exports = function (options) {\n  ChunkStream.call(this);\n\n  this._parser = new Parser(options, {\n    read: this.read.bind(this),\n    error: this._handleError.bind(this),\n    metadata: this._handleMetaData.bind(this),\n    gamma: this.emit.bind(this, \"gamma\"),\n    palette: this._handlePalette.bind(this),\n    transColor: this._handleTransColor.bind(this),\n    finished: this._finished.bind(this),\n    inflateData: this._inflateData.bind(this),\n    simpleTransparency: this._simpleTransparency.bind(this),\n    headersFinished: this._headersFinished.bind(this),\n  });\n  this._options = options;\n  this.writable = true;\n\n  this._parser.start();\n});\nutil.inherits(ParserAsync, ChunkStream);\n\nParserAsync.prototype._handleError = function (err) {\n  this.emit(\"error\", err);\n\n  this.writable = false;\n\n  this.destroy();\n\n  if (this._inflate && this._inflate.destroy) {\n    this._inflate.destroy();\n  }\n\n  if (this._filter) {\n    this._filter.destroy();\n    // For backward compatibility with Node 7 and below.\n    // Suppress errors due to _inflate calling write() even after\n    // it's destroy()'ed.\n    this._filter.on(\"error\", function () {});\n  }\n\n  this.errord = true;\n};\n\nParserAsync.prototype._inflateData = function (data) {\n  if (!this._inflate) {\n    if (this._bitmapInfo.interlace) {\n      this._inflate = zlib.createInflate();\n\n      this._inflate.on(\"error\", this.emit.bind(this, \"error\"));\n      this._filter.on(\"complete\", this._complete.bind(this));\n\n      this._inflate.pipe(this._filter);\n    } else {\n      let rowSize =\n        ((this._bitmapInfo.width *\n          this._bitmapInfo.bpp *\n          this._bitmapInfo.depth +\n          7) >>\n          3) +\n        1;\n      let imageSize = rowSize * this._bitmapInfo.height;\n      let chunkSize = Math.max(imageSize, zlib.Z_MIN_CHUNK);\n\n      this._inflate = zlib.createInflate({ chunkSize: chunkSize });\n      let leftToInflate = imageSize;\n\n      let emitError = this.emit.bind(this, \"error\");\n      this._inflate.on(\"error\", function (err) {\n        if (!leftToInflate) {\n          return;\n        }\n\n        emitError(err);\n      });\n      this._filter.on(\"complete\", this._complete.bind(this));\n\n      let filterWrite = this._filter.write.bind(this._filter);\n      this._inflate.on(\"data\", function (chunk) {\n        if (!leftToInflate) {\n          return;\n        }\n\n        if (chunk.length > leftToInflate) {\n          chunk = chunk.slice(0, leftToInflate);\n        }\n\n        leftToInflate -= chunk.length;\n\n        filterWrite(chunk);\n      });\n\n      this._inflate.on(\"end\", this._filter.end.bind(this._filter));\n    }\n  }\n  this._inflate.write(data);\n};\n\nParserAsync.prototype._handleMetaData = function (metaData) {\n  this._metaData = metaData;\n  this._bitmapInfo = Object.create(metaData);\n\n  this._filter = new FilterAsync(this._bitmapInfo);\n};\n\nParserAsync.prototype._handleTransColor = function (transColor) {\n  this._bitmapInfo.transColor = transColor;\n};\n\nParserAsync.prototype._handlePalette = function (palette) {\n  this._bitmapInfo.palette = palette;\n};\n\nParserAsync.prototype._simpleTransparency = function () {\n  this._metaData.alpha = true;\n};\n\nParserAsync.prototype._headersFinished = function () {\n  // Up until this point, we don't know if we have a tRNS chunk (alpha)\n  // so we can't emit metadata any earlier\n  this.emit(\"metadata\", this._metaData);\n};\n\nParserAsync.prototype._finished = function () {\n  if (this.errord) {\n    return;\n  }\n\n  if (!this._inflate) {\n    this.emit(\"error\", \"No Inflate block\");\n  } else {\n    // no more data to inflate\n    this._inflate.end();\n  }\n};\n\nParserAsync.prototype._complete = function (filteredData) {\n  if (this.errord) {\n    return;\n  }\n\n  let normalisedBitmapData;\n\n  try {\n    let bitmapData = bitmapper.dataToBitMap(filteredData, this._bitmapInfo);\n\n    normalisedBitmapData = formatNormaliser(bitmapData, this._bitmapInfo);\n    bitmapData = null;\n  } catch (ex) {\n    this._handleError(ex);\n    return;\n  }\n\n  this.emit(\"parsed\", normalisedBitmapData);\n};\n", "\"use strict\";\n\nlet constants = require(\"./constants\");\n\nmodule.exports = function (dataIn, width, height, options) {\n  let outHasAlpha =\n    [constants.COLORTYPE_COLOR_ALPHA, constants.COLORTYPE_ALPHA].indexOf(\n      options.colorType\n    ) !== -1;\n  if (options.colorType === options.inputColorType) {\n    let bigEndian = (function () {\n      let buffer = new ArrayBuffer(2);\n      new DataView(buffer).setInt16(0, 256, true /* littleEndian */);\n      // Int16Array uses the platform's endianness.\n      return new Int16Array(buffer)[0] !== 256;\n    })();\n    // If no need to convert to grayscale and alpha is present/absent in both, take a fast route\n    if (options.bitDepth === 8 || (options.bitDepth === 16 && bigEndian)) {\n      return dataIn;\n    }\n  }\n\n  // map to a UInt16 array if data is 16bit, fix endianness below\n  let data = options.bitDepth !== 16 ? dataIn : new Uint16Array(dataIn.buffer);\n\n  let maxValue = 255;\n  let inBpp = constants.COLORTYPE_TO_BPP_MAP[options.inputColorType];\n  if (inBpp === 4 && !options.inputHasAlpha) {\n    inBpp = 3;\n  }\n  let outBpp = constants.COLORTYPE_TO_BPP_MAP[options.colorType];\n  if (options.bitDepth === 16) {\n    maxValue = 65535;\n    outBpp *= 2;\n  }\n  let outData = Buffer.alloc(width * height * outBpp);\n\n  let inIndex = 0;\n  let outIndex = 0;\n\n  let bgColor = options.bgColor || {};\n  if (bgColor.red === undefined) {\n    bgColor.red = maxValue;\n  }\n  if (bgColor.green === undefined) {\n    bgColor.green = maxValue;\n  }\n  if (bgColor.blue === undefined) {\n    bgColor.blue = maxValue;\n  }\n\n  function getRGBA() {\n    let red;\n    let green;\n    let blue;\n    let alpha = maxValue;\n    switch (options.inputColorType) {\n      case constants.COLORTYPE_COLOR_ALPHA:\n        alpha = data[inIndex + 3];\n        red = data[inIndex];\n        green = data[inIndex + 1];\n        blue = data[inIndex + 2];\n        break;\n      case constants.COLORTYPE_COLOR:\n        red = data[inIndex];\n        green = data[inIndex + 1];\n        blue = data[inIndex + 2];\n        break;\n      case constants.COLORTYPE_ALPHA:\n        alpha = data[inIndex + 1];\n        red = data[inIndex];\n        green = red;\n        blue = red;\n        break;\n      case constants.COLORTYPE_GRAYSCALE:\n        red = data[inIndex];\n        green = red;\n        blue = red;\n        break;\n      default:\n        throw new Error(\n          \"input color type:\" +\n            options.inputColorType +\n            \" is not supported at present\"\n        );\n    }\n\n    if (options.inputHasAlpha) {\n      if (!outHasAlpha) {\n        alpha /= maxValue;\n        red = Math.min(\n          Math.max(Math.round((1 - alpha) * bgColor.red + alpha * red), 0),\n          maxValue\n        );\n        green = Math.min(\n          Math.max(Math.round((1 - alpha) * bgColor.green + alpha * green), 0),\n          maxValue\n        );\n        blue = Math.min(\n          Math.max(Math.round((1 - alpha) * bgColor.blue + alpha * blue), 0),\n          maxValue\n        );\n      }\n    }\n    return { red: red, green: green, blue: blue, alpha: alpha };\n  }\n\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let rgba = getRGBA(data, inIndex);\n\n      switch (options.colorType) {\n        case constants.COLORTYPE_COLOR_ALPHA:\n        case constants.COLORTYPE_COLOR:\n          if (options.bitDepth === 8) {\n            outData[outIndex] = rgba.red;\n            outData[outIndex + 1] = rgba.green;\n            outData[outIndex + 2] = rgba.blue;\n            if (outHasAlpha) {\n              outData[outIndex + 3] = rgba.alpha;\n            }\n          } else {\n            outData.writeUInt16BE(rgba.red, outIndex);\n            outData.writeUInt16BE(rgba.green, outIndex + 2);\n            outData.writeUInt16BE(rgba.blue, outIndex + 4);\n            if (outHasAlpha) {\n              outData.writeUInt16BE(rgba.alpha, outIndex + 6);\n            }\n          }\n          break;\n        case constants.COLORTYPE_ALPHA:\n        case constants.COLORTYPE_GRAYSCALE: {\n          // Convert to grayscale and alpha\n          let grayscale = (rgba.red + rgba.green + rgba.blue) / 3;\n          if (options.bitDepth === 8) {\n            outData[outIndex] = grayscale;\n            if (outHasAlpha) {\n              outData[outIndex + 1] = rgba.alpha;\n            }\n          } else {\n            outData.writeUInt16BE(grayscale, outIndex);\n            if (outHasAlpha) {\n              outData.writeUInt16BE(rgba.alpha, outIndex + 2);\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(\"unrecognised color Type \" + options.colorType);\n      }\n\n      inIndex += inBpp;\n      outIndex += outBpp;\n    }\n  }\n\n  return outData;\n};\n", "\"use strict\";\n\nlet paethPredictor = require(\"./paeth-predictor\");\n\nfunction filterNone(pxData, pxPos, byteWidth, rawData, rawPos) {\n  for (let x = 0; x < byteWidth; x++) {\n    rawData[rawPos + x] = pxData[pxPos + x];\n  }\n}\n\nfunction filterSumNone(pxData, pxPos, byteWidth) {\n  let sum = 0;\n  let length = pxPos + byteWidth;\n\n  for (let i = pxPos; i < length; i++) {\n    sum += Math.abs(pxData[i]);\n  }\n  return sum;\n}\n\nfunction filterSub(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let val = pxData[pxPos + x] - left;\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumSub(pxData, pxPos, byteWidth, bpp) {\n  let sum = 0;\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let val = pxData[pxPos + x] - left;\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterUp(pxData, pxPos, byteWidth, rawData, rawPos) {\n  for (let x = 0; x < byteWidth; x++) {\n    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    let val = pxData[pxPos + x] - up;\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumUp(pxData, pxPos, byteWidth) {\n  let sum = 0;\n  let length = pxPos + byteWidth;\n  for (let x = pxPos; x < length; x++) {\n    let up = pxPos > 0 ? pxData[x - byteWidth] : 0;\n    let val = pxData[x] - up;\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterAvg(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    let val = pxData[pxPos + x] - ((left + up) >> 1);\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumAvg(pxData, pxPos, byteWidth, bpp) {\n  let sum = 0;\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    let val = pxData[pxPos + x] - ((left + up) >> 1);\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterPaeth(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    let upleft =\n      pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;\n    let val = pxData[pxPos + x] - paethPredictor(left, up, upleft);\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumPaeth(pxData, pxPos, byteWidth, bpp) {\n  let sum = 0;\n  for (let x = 0; x < byteWidth; x++) {\n    let left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    let up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    let upleft =\n      pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;\n    let val = pxData[pxPos + x] - paethPredictor(left, up, upleft);\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nlet filters = {\n  0: filterNone,\n  1: filterSub,\n  2: filterUp,\n  3: filterAvg,\n  4: filterPaeth,\n};\n\nlet filterSums = {\n  0: filterSumNone,\n  1: filterSumSub,\n  2: filterSumUp,\n  3: filterSumAvg,\n  4: filterSumPaeth,\n};\n\nmodule.exports = function (pxData, width, height, options, bpp) {\n  let filterTypes;\n  if (!(\"filterType\" in options) || options.filterType === -1) {\n    filterTypes = [0, 1, 2, 3, 4];\n  } else if (typeof options.filterType === \"number\") {\n    filterTypes = [options.filterType];\n  } else {\n    throw new Error(\"unrecognised filter types\");\n  }\n\n  if (options.bitDepth === 16) {\n    bpp *= 2;\n  }\n  let byteWidth = width * bpp;\n  let rawPos = 0;\n  let pxPos = 0;\n  let rawData = Buffer.alloc((byteWidth + 1) * height);\n\n  let sel = filterTypes[0];\n\n  for (let y = 0; y < height; y++) {\n    if (filterTypes.length > 1) {\n      // find best filter for this line (with lowest sum of values)\n      let min = Infinity;\n\n      for (let i = 0; i < filterTypes.length; i++) {\n        let sum = filterSums[filterTypes[i]](pxData, pxPos, byteWidth, bpp);\n        if (sum < min) {\n          sel = filterTypes[i];\n          min = sum;\n        }\n      }\n    }\n\n    rawData[rawPos] = sel;\n    rawPos++;\n    filters[sel](pxData, pxPos, byteWidth, rawData, rawPos, bpp);\n    rawPos += byteWidth;\n    pxPos += byteWidth;\n  }\n  return rawData;\n};\n", "\"use strict\";\n\nlet constants = require(\"./constants\");\nlet CrcStream = require(\"./crc\");\nlet bitPacker = require(\"./bitpacker\");\nlet filter = require(\"./filter-pack\");\nlet zlib = require(\"zlib\");\n\nlet Packer = (module.exports = function (options) {\n  this._options = options;\n\n  options.deflateChunkSize = options.deflateChunkSize || 32 * 1024;\n  options.deflateLevel =\n    options.deflateLevel != null ? options.deflateLevel : 9;\n  options.deflateStrategy =\n    options.deflateStrategy != null ? options.deflateStrategy : 3;\n  options.inputHasAlpha =\n    options.inputHasAlpha != null ? options.inputHasAlpha : true;\n  options.deflateFactory = options.deflateFactory || zlib.createDeflate;\n  options.bitDepth = options.bitDepth || 8;\n  // This is outputColorType\n  options.colorType =\n    typeof options.colorType === \"number\"\n      ? options.colorType\n      : constants.COLORTYPE_COLOR_ALPHA;\n  options.inputColorType =\n    typeof options.inputColorType === \"number\"\n      ? options.inputColorType\n      : constants.COLORTYPE_COLOR_ALPHA;\n\n  if (\n    [\n      constants.COLORTYPE_GRAYSCALE,\n      constants.COLORTYPE_COLOR,\n      constants.COLORTYPE_COLOR_ALPHA,\n      constants.COLORTYPE_ALPHA,\n    ].indexOf(options.colorType) === -1\n  ) {\n    throw new Error(\n      \"option color type:\" + options.colorType + \" is not supported at present\"\n    );\n  }\n  if (\n    [\n      constants.COLORTYPE_GRAYSCALE,\n      constants.COLORTYPE_COLOR,\n      constants.COLORTYPE_COLOR_ALPHA,\n      constants.COLORTYPE_ALPHA,\n    ].indexOf(options.inputColorType) === -1\n  ) {\n    throw new Error(\n      \"option input color type:\" +\n        options.inputColorType +\n        \" is not supported at present\"\n    );\n  }\n  if (options.bitDepth !== 8 && options.bitDepth !== 16) {\n    throw new Error(\n      \"option bit depth:\" + options.bitDepth + \" is not supported at present\"\n    );\n  }\n});\n\nPacker.prototype.getDeflateOptions = function () {\n  return {\n    chunkSize: this._options.deflateChunkSize,\n    level: this._options.deflateLevel,\n    strategy: this._options.deflateStrategy,\n  };\n};\n\nPacker.prototype.createDeflate = function () {\n  return this._options.deflateFactory(this.getDeflateOptions());\n};\n\nPacker.prototype.filterData = function (data, width, height) {\n  // convert to correct format for filtering (e.g. right bpp and bit depth)\n  let packedData = bitPacker(data, width, height, this._options);\n\n  // filter pixel data\n  let bpp = constants.COLORTYPE_TO_BPP_MAP[this._options.colorType];\n  let filteredData = filter(packedData, width, height, this._options, bpp);\n  return filteredData;\n};\n\nPacker.prototype._packChunk = function (type, data) {\n  let len = data ? data.length : 0;\n  let buf = Buffer.alloc(len + 12);\n\n  buf.writeUInt32BE(len, 0);\n  buf.writeUInt32BE(type, 4);\n\n  if (data) {\n    data.copy(buf, 8);\n  }\n\n  buf.writeInt32BE(\n    CrcStream.crc32(buf.slice(4, buf.length - 4)),\n    buf.length - 4\n  );\n  return buf;\n};\n\nPacker.prototype.packGAMA = function (gamma) {\n  let buf = Buffer.alloc(4);\n  buf.writeUInt32BE(Math.floor(gamma * constants.GAMMA_DIVISION), 0);\n  return this._packChunk(constants.TYPE_gAMA, buf);\n};\n\nPacker.prototype.packIHDR = function (width, height) {\n  let buf = Buffer.alloc(13);\n  buf.writeUInt32BE(width, 0);\n  buf.writeUInt32BE(height, 4);\n  buf[8] = this._options.bitDepth; // Bit depth\n  buf[9] = this._options.colorType; // colorType\n  buf[10] = 0; // compression\n  buf[11] = 0; // filter\n  buf[12] = 0; // interlace\n\n  return this._packChunk(constants.TYPE_IHDR, buf);\n};\n\nPacker.prototype.packIDAT = function (data) {\n  return this._packChunk(constants.TYPE_IDAT, data);\n};\n\nPacker.prototype.packIEND = function () {\n  return this._packChunk(constants.TYPE_IEND, null);\n};\n", "\"use strict\";\n\nlet util = require(\"util\");\nlet Stream = require(\"stream\");\nlet constants = require(\"./constants\");\nlet Packer = require(\"./packer\");\n\nlet PackerAsync = (module.exports = function (opt) {\n  Stream.call(this);\n\n  let options = opt || {};\n\n  this._packer = new Packer(options);\n  this._deflate = this._packer.createDeflate();\n\n  this.readable = true;\n});\nutil.inherits(PackerAsync, Stream);\n\nPackerAsync.prototype.pack = function (data, width, height, gamma) {\n  // Signature\n  this.emit(\"data\", Buffer.from(constants.PNG_SIGNATURE));\n  this.emit(\"data\", this._packer.packIHDR(width, height));\n\n  if (gamma) {\n    this.emit(\"data\", this._packer.packGAMA(gamma));\n  }\n\n  let filteredData = this._packer.filterData(data, width, height);\n\n  // compress it\n  this._deflate.on(\"error\", this.emit.bind(this, \"error\"));\n\n  this._deflate.on(\n    \"data\",\n    function (compressedData) {\n      this.emit(\"data\", this._packer.packIDAT(compressedData));\n    }.bind(this)\n  );\n\n  this._deflate.on(\n    \"end\",\n    function () {\n      this.emit(\"data\", this._packer.packIEND());\n      this.emit(\"end\");\n    }.bind(this)\n  );\n\n  this._deflate.end(filteredData);\n};\n", "\"use strict\";\n\nlet assert = require(\"assert\").ok;\nlet zlib = require(\"zlib\");\nlet util = require(\"util\");\n\nlet kMaxLength = require(\"buffer\").kMaxLength;\n\nfunction Inflate(opts) {\n  if (!(this instanceof Inflate)) {\n    return new Inflate(opts);\n  }\n\n  if (opts && opts.chunkSize < zlib.Z_MIN_CHUNK) {\n    opts.chunkSize = zlib.Z_MIN_CHUNK;\n  }\n\n  zlib.Inflate.call(this, opts);\n\n  // Node 8 --> 9 compatibility check\n  this._offset = this._offset === undefined ? this._outOffset : this._offset;\n  this._buffer = this._buffer || this._outBuffer;\n\n  if (opts && opts.maxLength != null) {\n    this._maxLength = opts.maxLength;\n  }\n}\n\nfunction createInflate(opts) {\n  return new Inflate(opts);\n}\n\nfunction _close(engine, callback) {\n  if (callback) {\n    process.nextTick(callback);\n  }\n\n  // Caller may invoke .close after a zlib error (which will null _handle).\n  if (!engine._handle) {\n    return;\n  }\n\n  engine._handle.close();\n  engine._handle = null;\n}\n\nInflate.prototype._processChunk = function (chunk, flushFlag, asyncCb) {\n  if (typeof asyncCb === \"function\") {\n    return zlib.Inflate._processChunk.call(this, chunk, flushFlag, asyncCb);\n  }\n\n  let self = this;\n\n  let availInBefore = chunk && chunk.length;\n  let availOutBefore = this._chunkSize - this._offset;\n  let leftToInflate = this._maxLength;\n  let inOff = 0;\n\n  let buffers = [];\n  let nread = 0;\n\n  let error;\n  this.on(\"error\", function (err) {\n    error = err;\n  });\n\n  function handleChunk(availInAfter, availOutAfter) {\n    if (self._hadError) {\n      return;\n    }\n\n    let have = availOutBefore - availOutAfter;\n    assert(have >= 0, \"have should not go down\");\n\n    if (have > 0) {\n      let out = self._buffer.slice(self._offset, self._offset + have);\n      self._offset += have;\n\n      if (out.length > leftToInflate) {\n        out = out.slice(0, leftToInflate);\n      }\n\n      buffers.push(out);\n      nread += out.length;\n      leftToInflate -= out.length;\n\n      if (leftToInflate === 0) {\n        return false;\n      }\n    }\n\n    if (availOutAfter === 0 || self._offset >= self._chunkSize) {\n      availOutBefore = self._chunkSize;\n      self._offset = 0;\n      self._buffer = Buffer.allocUnsafe(self._chunkSize);\n    }\n\n    if (availOutAfter === 0) {\n      inOff += availInBefore - availInAfter;\n      availInBefore = availInAfter;\n\n      return true;\n    }\n\n    return false;\n  }\n\n  assert(this._handle, \"zlib binding closed\");\n  let res;\n  do {\n    res = this._handle.writeSync(\n      flushFlag,\n      chunk, // in\n      inOff, // in_off\n      availInBefore, // in_len\n      this._buffer, // out\n      this._offset, //out_off\n      availOutBefore\n    ); // out_len\n    // Node 8 --> 9 compatibility check\n    res = res || this._writeState;\n  } while (!this._hadError && handleChunk(res[0], res[1]));\n\n  if (this._hadError) {\n    throw error;\n  }\n\n  if (nread >= kMaxLength) {\n    _close(this);\n    throw new RangeError(\n      \"Cannot create final Buffer. It would be larger than 0x\" +\n        kMaxLength.toString(16) +\n        \" bytes\"\n    );\n  }\n\n  let buf = Buffer.concat(buffers, nread);\n  _close(this);\n\n  return buf;\n};\n\nutil.inherits(Inflate, zlib.Inflate);\n\nfunction zlibBufferSync(engine, buffer) {\n  if (typeof buffer === \"string\") {\n    buffer = Buffer.from(buffer);\n  }\n  if (!(buffer instanceof Buffer)) {\n    throw new TypeError(\"Not a string or buffer\");\n  }\n\n  let flushFlag = engine._finishFlushFlag;\n  if (flushFlag == null) {\n    flushFlag = zlib.Z_FINISH;\n  }\n\n  return engine._processChunk(buffer, flushFlag);\n}\n\nfunction inflateSync(buffer, opts) {\n  return zlibBufferSync(new Inflate(opts), buffer);\n}\n\nmodule.exports = exports = inflateSync;\nexports.Inflate = Inflate;\nexports.createInflate = createInflate;\nexports.inflateSync = inflateSync;\n", "\"use strict\";\n\nlet SyncReader = (module.exports = function (buffer) {\n  this._buffer = buffer;\n  this._reads = [];\n});\n\nSyncReader.prototype.read = function (length, callback) {\n  this._reads.push({\n    length: Math.abs(length), // if length < 0 then at most this length\n    allowLess: length < 0,\n    func: callback,\n  });\n};\n\nSyncReader.prototype.process = function () {\n  // as long as there is any data and read requests\n  while (this._reads.length > 0 && this._buffer.length) {\n    let read = this._reads[0];\n\n    if (\n      this._buffer.length &&\n      (this._buffer.length >= read.length || read.allowLess)\n    ) {\n      // ok there is any data so that we can satisfy this request\n      this._reads.shift(); // == read\n\n      let buf = this._buffer;\n\n      this._buffer = buf.slice(read.length);\n\n      read.func.call(this, buf.slice(0, read.length));\n    } else {\n      break;\n    }\n  }\n\n  if (this._reads.length > 0) {\n    return new Error(\"There are some read requests waitng on finished stream\");\n  }\n\n  if (this._buffer.length > 0) {\n    return new Error(\"unrecognised content at end of stream\");\n  }\n};\n", "\"use strict\";\n\nlet SyncReader = require(\"./sync-reader\");\nlet Filter = require(\"./filter-parse\");\n\nexports.process = function (inBuffer, bitmapInfo) {\n  let outBuffers = [];\n  let reader = new SyncReader(inBuffer);\n  let filter = new Filter(bitmapInfo, {\n    read: reader.read.bind(reader),\n    write: function (bufferPart) {\n      outBuffers.push(bufferPart);\n    },\n    complete: function () {},\n  });\n\n  filter.start();\n  reader.process();\n\n  return Buffer.concat(outBuffers);\n};\n", "\"use strict\";\n\nlet hasSyncZlib = true;\nlet zlib = require(\"zlib\");\nlet inflateSync = require(\"./sync-inflate\");\nif (!zlib.deflateSync) {\n  hasSyncZlib = false;\n}\nlet SyncReader = require(\"./sync-reader\");\nlet FilterSync = require(\"./filter-parse-sync\");\nlet Parser = require(\"./parser\");\nlet bitmapper = require(\"./bitmapper\");\nlet formatNormaliser = require(\"./format-normaliser\");\n\nmodule.exports = function (buffer, options) {\n  if (!hasSyncZlib) {\n    throw new Error(\n      \"To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0\"\n    );\n  }\n\n  let err;\n  function handleError(_err_) {\n    err = _err_;\n  }\n\n  let metaData;\n  function handleMetaData(_metaData_) {\n    metaData = _metaData_;\n  }\n\n  function handleTransColor(transColor) {\n    metaData.transColor = transColor;\n  }\n\n  function handlePalette(palette) {\n    metaData.palette = palette;\n  }\n\n  function handleSimpleTransparency() {\n    metaData.alpha = true;\n  }\n\n  let gamma;\n  function handleGamma(_gamma_) {\n    gamma = _gamma_;\n  }\n\n  let inflateDataList = [];\n  function handleInflateData(inflatedData) {\n    inflateDataList.push(inflatedData);\n  }\n\n  let reader = new SyncReader(buffer);\n\n  let parser = new Parser(options, {\n    read: reader.read.bind(reader),\n    error: handleError,\n    metadata: handleMetaData,\n    gamma: handleGamma,\n    palette: handlePalette,\n    transColor: handleTransColor,\n    inflateData: handleInflateData,\n    simpleTransparency: handleSimpleTransparency,\n  });\n\n  parser.start();\n  reader.process();\n\n  if (err) {\n    throw err;\n  }\n\n  //join together the inflate datas\n  let inflateData = Buffer.concat(inflateDataList);\n  inflateDataList.length = 0;\n\n  let inflatedData;\n  if (metaData.interlace) {\n    inflatedData = zlib.inflateSync(inflateData);\n  } else {\n    let rowSize =\n      ((metaData.width * metaData.bpp * metaData.depth + 7) >> 3) + 1;\n    let imageSize = rowSize * metaData.height;\n    inflatedData = inflateSync(inflateData, {\n      chunkSize: imageSize,\n      maxLength: imageSize,\n    });\n  }\n  inflateData = null;\n\n  if (!inflatedData || !inflatedData.length) {\n    throw new Error(\"bad png - invalid inflate data response\");\n  }\n\n  let unfilteredData = FilterSync.process(inflatedData, metaData);\n  inflateData = null;\n\n  let bitmapData = bitmapper.dataToBitMap(unfilteredData, metaData);\n  unfilteredData = null;\n\n  let normalisedBitmapData = formatNormaliser(bitmapData, metaData);\n\n  metaData.data = normalisedBitmapData;\n  metaData.gamma = gamma || 0;\n\n  return metaData;\n};\n", "\"use strict\";\n\nlet hasSyncZlib = true;\nlet zlib = require(\"zlib\");\nif (!zlib.deflateSync) {\n  hasSyncZlib = false;\n}\nlet constants = require(\"./constants\");\nlet Packer = require(\"./packer\");\n\nmodule.exports = function (metaData, opt) {\n  if (!hasSyncZlib) {\n    throw new Error(\n      \"To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0\"\n    );\n  }\n\n  let options = opt || {};\n\n  let packer = new Packer(options);\n\n  let chunks = [];\n\n  // Signature\n  chunks.push(Buffer.from(constants.PNG_SIGNATURE));\n\n  // Header\n  chunks.push(packer.packIHDR(metaData.width, metaData.height));\n\n  if (metaData.gamma) {\n    chunks.push(packer.packGAMA(metaData.gamma));\n  }\n\n  let filteredData = packer.filterData(\n    metaData.data,\n    metaData.width,\n    metaData.height\n  );\n\n  // compress it\n  let compressedData = zlib.deflateSync(\n    filteredData,\n    packer.getDeflateOptions()\n  );\n  filteredData = null;\n\n  if (!compressedData || !compressedData.length) {\n    throw new Error(\"bad png - invalid compressed data response\");\n  }\n  chunks.push(packer.packIDAT(compressedData));\n\n  // End\n  chunks.push(packer.packIEND());\n\n  return Buffer.concat(chunks);\n};\n", "\"use strict\";\n\nlet parse = require(\"./parser-sync\");\nlet pack = require(\"./packer-sync\");\n\nexports.read = function (buffer, options) {\n  return parse(buffer, options || {});\n};\n\nexports.write = function (png, options) {\n  return pack(png, options);\n};\n", "\"use strict\";\n\nlet util = require(\"util\");\nlet Stream = require(\"stream\");\nlet Parser = require(\"./parser-async\");\nlet Packer = require(\"./packer-async\");\nlet PNGSync = require(\"./png-sync\");\n\nlet PNG = (exports.PNG = function (options) {\n  Stream.call(this);\n\n  options = options || {}; // eslint-disable-line no-param-reassign\n\n  // coerce pixel dimensions to integers (also coerces undefined -> 0):\n  this.width = options.width | 0;\n  this.height = options.height | 0;\n\n  this.data =\n    this.width > 0 && this.height > 0\n      ? Buffer.alloc(4 * this.width * this.height)\n      : null;\n\n  if (options.fill && this.data) {\n    this.data.fill(0);\n  }\n\n  this.gamma = 0;\n  this.readable = this.writable = true;\n\n  this._parser = new Parser(options);\n\n  this._parser.on(\"error\", this.emit.bind(this, \"error\"));\n  this._parser.on(\"close\", this._handleClose.bind(this));\n  this._parser.on(\"metadata\", this._metadata.bind(this));\n  this._parser.on(\"gamma\", this._gamma.bind(this));\n  this._parser.on(\n    \"parsed\",\n    function (data) {\n      this.data = data;\n      this.emit(\"parsed\", data);\n    }.bind(this)\n  );\n\n  this._packer = new Packer(options);\n  this._packer.on(\"data\", this.emit.bind(this, \"data\"));\n  this._packer.on(\"end\", this.emit.bind(this, \"end\"));\n  this._parser.on(\"close\", this._handleClose.bind(this));\n  this._packer.on(\"error\", this.emit.bind(this, \"error\"));\n});\nutil.inherits(PNG, Stream);\n\nPNG.sync = PNGSync;\n\nPNG.prototype.pack = function () {\n  if (!this.data || !this.data.length) {\n    this.emit(\"error\", \"No data provided\");\n    return this;\n  }\n\n  process.nextTick(\n    function () {\n      this._packer.pack(this.data, this.width, this.height, this.gamma);\n    }.bind(this)\n  );\n\n  return this;\n};\n\nPNG.prototype.parse = function (data, callback) {\n  if (callback) {\n    let onParsed, onError;\n\n    onParsed = function (parsedData) {\n      this.removeListener(\"error\", onError);\n\n      this.data = parsedData;\n      callback(null, this);\n    }.bind(this);\n\n    onError = function (err) {\n      this.removeListener(\"parsed\", onParsed);\n\n      callback(err, null);\n    }.bind(this);\n\n    this.once(\"parsed\", onParsed);\n    this.once(\"error\", onError);\n  }\n\n  this.end(data);\n  return this;\n};\n\nPNG.prototype.write = function (data) {\n  this._parser.write(data);\n  return true;\n};\n\nPNG.prototype.end = function (data) {\n  this._parser.end(data);\n};\n\nPNG.prototype._metadata = function (metadata) {\n  this.width = metadata.width;\n  this.height = metadata.height;\n\n  this.emit(\"metadata\", metadata);\n};\n\nPNG.prototype._gamma = function (gamma) {\n  this.gamma = gamma;\n};\n\nPNG.prototype._handleClose = function () {\n  if (!this._parser.writable && !this._packer.readable) {\n    this.emit(\"close\");\n  }\n};\n\nPNG.bitblt = function (src, dst, srcX, srcY, width, height, deltaX, deltaY) {\n  // eslint-disable-line max-params\n  // coerce pixel dimensions to integers (also coerces undefined -> 0):\n  /* eslint-disable no-param-reassign */\n  srcX |= 0;\n  srcY |= 0;\n  width |= 0;\n  height |= 0;\n  deltaX |= 0;\n  deltaY |= 0;\n  /* eslint-enable no-param-reassign */\n\n  if (\n    srcX > src.width ||\n    srcY > src.height ||\n    srcX + width > src.width ||\n    srcY + height > src.height\n  ) {\n    throw new Error(\"bitblt reading outside image\");\n  }\n\n  if (\n    deltaX > dst.width ||\n    deltaY > dst.height ||\n    deltaX + width > dst.width ||\n    deltaY + height > dst.height\n  ) {\n    throw new Error(\"bitblt writing outside image\");\n  }\n\n  for (let y = 0; y < height; y++) {\n    src.data.copy(\n      dst.data,\n      ((deltaY + y) * dst.width + deltaX) << 2,\n      ((srcY + y) * src.width + srcX) << 2,\n      ((srcY + y) * src.width + srcX + width) << 2\n    );\n  }\n};\n\nPNG.prototype.bitblt = function (\n  dst,\n  srcX,\n  srcY,\n  width,\n  height,\n  deltaX,\n  deltaY\n) {\n  // eslint-disable-line max-params\n\n  PNG.bitblt(this, dst, srcX, srcY, width, height, deltaX, deltaY);\n  return this;\n};\n\nPNG.adjustGamma = function (src) {\n  if (src.gamma) {\n    for (let y = 0; y < src.height; y++) {\n      for (let x = 0; x < src.width; x++) {\n        let idx = (src.width * y + x) << 2;\n\n        for (let i = 0; i < 3; i++) {\n          let sample = src.data[idx + i] / 255;\n          sample = Math.pow(sample, 1 / 2.2 / src.gamma);\n          src.data[idx + i] = Math.round(sample * 255);\n        }\n      }\n    }\n    src.gamma = 0;\n  }\n};\n\nPNG.prototype.adjustGamma = function () {\n  PNG.adjustGamma(this);\n};\n", "function hex2rgba (hex) {\n  if (typeof hex === 'number') {\n    hex = hex.toString()\n  }\n\n  if (typeof hex !== 'string') {\n    throw new Error('Color should be defined as hex string')\n  }\n\n  let hexCode = hex.slice().replace('#', '').split('')\n  if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n    throw new Error('Invalid hex color: ' + hex)\n  }\n\n  // Convert from short to long form (fff -> ffffff)\n  if (hexCode.length === 3 || hexCode.length === 4) {\n    hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n      return [c, c]\n    }))\n  }\n\n  // Add default alpha value\n  if (hexCode.length === 6) hexCode.push('F', 'F')\n\n  const hexValue = parseInt(hexCode.join(''), 16)\n\n  return {\n    r: (hexValue >> 24) & 255,\n    g: (hexValue >> 16) & 255,\n    b: (hexValue >> 8) & 255,\n    a: hexValue & 255,\n    hex: '#' + hexCode.slice(0, 6).join('')\n  }\n}\n\nexports.getOptions = function getOptions (options) {\n  if (!options) options = {}\n  if (!options.color) options.color = {}\n\n  const margin = typeof options.margin === 'undefined' ||\n    options.margin === null ||\n    options.margin < 0\n    ? 4\n    : options.margin\n\n  const width = options.width && options.width >= 21 ? options.width : undefined\n  const scale = options.scale || 4\n\n  return {\n    width: width,\n    scale: width ? 4 : scale,\n    margin: margin,\n    color: {\n      dark: hex2rgba(options.color.dark || '#000000ff'),\n      light: hex2rgba(options.color.light || '#ffffffff')\n    },\n    type: options.type,\n    rendererOpts: options.rendererOpts || {}\n  }\n}\n\nexports.getScale = function getScale (qrSize, opts) {\n  return opts.width && opts.width >= qrSize + opts.margin * 2\n    ? opts.width / (qrSize + opts.margin * 2)\n    : opts.scale\n}\n\nexports.getImageWidth = function getImageWidth (qrSize, opts) {\n  const scale = exports.getScale(qrSize, opts)\n  return Math.floor((qrSize + opts.margin * 2) * scale)\n}\n\nexports.qrToImageData = function qrToImageData (imgData, qr, opts) {\n  const size = qr.modules.size\n  const data = qr.modules.data\n  const scale = exports.getScale(size, opts)\n  const symbolSize = Math.floor((size + opts.margin * 2) * scale)\n  const scaledMargin = opts.margin * scale\n  const palette = [opts.color.light, opts.color.dark]\n\n  for (let i = 0; i < symbolSize; i++) {\n    for (let j = 0; j < symbolSize; j++) {\n      let posDst = (i * symbolSize + j) * 4\n      let pxColor = opts.color.light\n\n      if (i >= scaledMargin && j >= scaledMargin &&\n        i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n        const iSrc = Math.floor((i - scaledMargin) / scale)\n        const jSrc = Math.floor((j - scaledMargin) / scale)\n        pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0]\n      }\n\n      imgData[posDst++] = pxColor.r\n      imgData[posDst++] = pxColor.g\n      imgData[posDst++] = pxColor.b\n      imgData[posDst] = pxColor.a\n    }\n  }\n}\n", "const fs = require('fs')\nconst PNG = require('pngjs').PNG\nconst Utils = require('./utils')\n\nexports.render = function render (qrData, options) {\n  const opts = Utils.getOptions(options)\n  const pngOpts = opts.rendererOpts\n  const size = Utils.getImageWidth(qrData.modules.size, opts)\n\n  pngOpts.width = size\n  pngOpts.height = size\n\n  const pngImage = new PNG(pngOpts)\n  Utils.qrToImageData(pngImage.data, qrData, opts)\n\n  return pngImage\n}\n\nexports.renderToDataURL = function renderToDataURL (qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  exports.renderToBuffer(qrData, options, function (err, output) {\n    if (err) cb(err)\n    let url = 'data:image/png;base64,'\n    url += output.toString('base64')\n    cb(null, url)\n  })\n}\n\nexports.renderToBuffer = function renderToBuffer (qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  const png = exports.render(qrData, options)\n  const buffer = []\n\n  png.on('error', cb)\n\n  png.on('data', function (data) {\n    buffer.push(data)\n  })\n\n  png.on('end', function () {\n    cb(null, Buffer.concat(buffer))\n  })\n\n  png.pack()\n}\n\nexports.renderToFile = function renderToFile (path, qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  let called = false\n  const done = (...args) => {\n    if (called) return\n    called = true\n    cb.apply(null, args)\n  }\n  const stream = fs.createWriteStream(path)\n\n  stream.on('error', done)\n  stream.on('close', done)\n\n  exports.renderToFileStream(stream, qrData, options)\n}\n\nexports.renderToFileStream = function renderToFileStream (stream, qrData, options) {\n  const png = exports.render(qrData, options)\n  png.pack().pipe(stream)\n}\n", "const Utils = require('./utils')\n\nconst BLOCK_CHAR = {\n  WW: ' ',\n  WB: '\u2584',\n  BB: '\u2588',\n  BW: '\u2580'\n}\n\nconst INVERTED_BLOCK_CHAR = {\n  BB: ' ',\n  BW: '\u2584',\n  WW: '\u2588',\n  WB: '\u2580'\n}\n\nfunction getBlockChar (top, bottom, blocks) {\n  if (top && bottom) return blocks.BB\n  if (top && !bottom) return blocks.BW\n  if (!top && bottom) return blocks.WB\n  return blocks.WW\n}\n\nexports.render = function (qrData, options, cb) {\n  const opts = Utils.getOptions(options)\n  let blocks = BLOCK_CHAR\n  if (opts.color.dark.hex === '#ffffff' || opts.color.light.hex === '#000000') {\n    blocks = INVERTED_BLOCK_CHAR\n  }\n\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n\n  let output = ''\n  let hMargin = Array(size + (opts.margin * 2) + 1).join(blocks.WW)\n  hMargin = Array((opts.margin / 2) + 1).join(hMargin + '\\n')\n\n  const vMargin = Array(opts.margin + 1).join(blocks.WW)\n\n  output += hMargin\n  for (let i = 0; i < size; i += 2) {\n    output += vMargin\n    for (let j = 0; j < size; j++) {\n      const topModule = data[i * size + j]\n      const bottomModule = data[(i + 1) * size + j]\n\n      output += getBlockChar(topModule, bottomModule, blocks)\n    }\n\n    output += vMargin + '\\n'\n  }\n\n  output += hMargin.slice(0, -1)\n\n  if (typeof cb === 'function') {\n    cb(null, output)\n  }\n\n  return output\n}\n\nexports.renderToFile = function renderToFile (path, qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  const fs = require('fs')\n  const utf8 = exports.render(qrData, options)\n  fs.writeFile(path, utf8, cb)\n}\n", "// let Utils = require('./utils')\n\nexports.render = function (qrData, options, cb) {\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n\n  // let opts = Utils.getOptions(options)\n\n  // use same scheme as https://github.com/gtanner/qrcode-terminal because it actually works! =)\n  const black = '\\x1b[40m  \\x1b[0m'\n  const white = '\\x1b[47m  \\x1b[0m'\n\n  let output = ''\n  const hMargin = Array(size + 3).join(white)\n  const vMargin = Array(2).join(white)\n\n  output += hMargin + '\\n'\n  for (let i = 0; i < size; ++i) {\n    output += white\n    for (let j = 0; j < size; j++) {\n      // let topModule = data[i * size + j]\n      // let bottomModule = data[(i + 1) * size + j]\n\n      output += data[i * size + j] ? black : white// getBlockChar(topModule, bottomModule)\n    }\n    // output += white+'\\n'\n    output += vMargin + '\\n'\n  }\n\n  output += hMargin + '\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, output)\n  }\n\n  return output\n}\n/*\nexports.renderToFile = function renderToFile (path, qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  let fs = require('fs')\n  let utf8 = exports.render(qrData, options)\n  fs.writeFile(path, utf8, cb)\n}\n*/\n", "const backgroundWhite = '\\x1b[47m'\nconst backgroundBlack = '\\x1b[40m'\nconst foregroundWhite = '\\x1b[37m'\nconst foregroundBlack = '\\x1b[30m'\nconst reset = '\\x1b[0m'\nconst lineSetupNormal = backgroundWhite + foregroundBlack // setup colors\nconst lineSetupInverse = backgroundBlack + foregroundWhite // setup colors\n\nconst createPalette = function (lineSetup, foregroundWhite, foregroundBlack) {\n  return {\n    // 1 ... white, 2 ... black, 0 ... transparent (default)\n\n    '00': reset + ' ' + lineSetup,\n    '01': reset + foregroundWhite + '\u2584' + lineSetup,\n    '02': reset + foregroundBlack + '\u2584' + lineSetup,\n    10: reset + foregroundWhite + '\u2580' + lineSetup,\n    11: ' ',\n    12: '\u2584',\n    20: reset + foregroundBlack + '\u2580' + lineSetup,\n    21: '\u2580',\n    22: '\u2588'\n  }\n}\n\n/**\n * Returns code for QR pixel\n * @param {boolean[][]} modules\n * @param {number} size\n * @param {number} x\n * @param {number} y\n * @return {'0' | '1' | '2'}\n */\nconst mkCodePixel = function (modules, size, x, y) {\n  const sizePlus = size + 1\n  if ((x >= sizePlus) || (y >= sizePlus) || (y < -1) || (x < -1)) return '0'\n  if ((x >= size) || (y >= size) || (y < 0) || (x < 0)) return '1'\n  const idx = (y * size) + x\n  return modules[idx] ? '2' : '1'\n}\n\n/**\n * Returns code for four QR pixels. Suitable as key in palette.\n * @param {boolean[][]} modules\n * @param {number} size\n * @param {number} x\n * @param {number} y\n * @return {keyof palette}\n */\nconst mkCode = function (modules, size, x, y) {\n  return (\n    mkCodePixel(modules, size, x, y) +\n    mkCodePixel(modules, size, x, y + 1)\n  )\n}\n\nexports.render = function (qrData, options, cb) {\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n\n  const inverse = !!(options && options.inverse)\n  const lineSetup = options && options.inverse ? lineSetupInverse : lineSetupNormal\n  const white = inverse ? foregroundBlack : foregroundWhite\n  const black = inverse ? foregroundWhite : foregroundBlack\n\n  const palette = createPalette(lineSetup, white, black)\n  const newLine = reset + '\\n' + lineSetup\n\n  let output = lineSetup // setup colors\n\n  for (let y = -1; y < size + 1; y += 2) {\n    for (let x = -1; x < size; x++) {\n      output += palette[mkCode(data, size, x, y)]\n    }\n\n    output += palette[mkCode(data, size, size, y)] + newLine\n  }\n\n  output += reset\n\n  if (typeof cb === 'function') {\n    cb(null, output)\n  }\n\n  return output\n}\n", "const big = require('./terminal/terminal')\nconst small = require('./terminal/terminal-small')\n\nexports.render = function (qrData, options, cb) {\n  if (options && options.small) {\n    return small.render(qrData, options, cb)\n  }\n  return big.render(qrData, options, cb)\n}\n", "const Utils = require('./utils')\n\nfunction getColorAttrib (color, attrib) {\n  const alpha = color.a / 255\n  const str = attrib + '=\"' + color.hex + '\"'\n\n  return alpha < 1\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n    : str\n}\n\nfunction svgCmd (cmd, x, y) {\n  let str = cmd + x\n  if (typeof y !== 'undefined') str += ' ' + y\n\n  return str\n}\n\nfunction qrToPath (data, size, margin) {\n  let path = ''\n  let moveBy = 0\n  let newRow = false\n  let lineLength = 0\n\n  for (let i = 0; i < data.length; i++) {\n    const col = Math.floor(i % size)\n    const row = Math.floor(i / size)\n\n    if (!col && !newRow) newRow = true\n\n    if (data[i]) {\n      lineLength++\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\n          : svgCmd('m', moveBy, 0)\n\n        moveBy = 0\n        newRow = false\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength)\n        lineLength = 0\n      }\n    } else {\n      moveBy++\n    }\n  }\n\n  return path\n}\n\nexports.render = function render (qrData, options, cb) {\n  const opts = Utils.getOptions(options)\n  const size = qrData.modules.size\n  const data = qrData.modules.data\n  const qrcodesize = size + opts.margin * 2\n\n  const bg = !opts.color.light.a\n    ? ''\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\n\n  const path =\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\n\n  const viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\n\n  const width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\n\n  const svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag)\n  }\n\n  return svgTag\n}\n", "const svgTagRenderer = require('./svg-tag')\n\nexports.render = svgTagRenderer.render\n\nexports.renderToFile = function renderToFile (path, qrData, options, cb) {\n  if (typeof cb === 'undefined') {\n    cb = options\n    options = undefined\n  }\n\n  const fs = require('fs')\n  const svgTag = exports.render(qrData, options)\n\n  const xmlStr = '<?xml version=\"1.0\" encoding=\"utf-8\"?>' +\n    '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">' +\n    svgTag\n\n  fs.writeFile(path, xmlStr, cb)\n}\n", "const Utils = require('./utils')\n\nfunction clearCanvas (ctx, canvas, size) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (!canvas.style) canvas.style = {}\n  canvas.height = size\n  canvas.width = size\n  canvas.style.height = size + 'px'\n  canvas.style.width = size + 'px'\n}\n\nfunction getCanvasElement () {\n  try {\n    return document.createElement('canvas')\n  } catch (e) {\n    throw new Error('You need to specify a canvas element')\n  }\n}\n\nexports.render = function render (qrData, canvas, options) {\n  let opts = options\n  let canvasEl = canvas\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!canvas) {\n    canvasEl = getCanvasElement()\n  }\n\n  opts = Utils.getOptions(opts)\n  const size = Utils.getImageWidth(qrData.modules.size, opts)\n\n  const ctx = canvasEl.getContext('2d')\n  const image = ctx.createImageData(size, size)\n  Utils.qrToImageData(image.data, qrData, opts)\n\n  clearCanvas(ctx, canvasEl, size)\n  ctx.putImageData(image, 0, 0)\n\n  return canvasEl\n}\n\nexports.renderToDataURL = function renderToDataURL (qrData, canvas, options) {\n  let opts = options\n\n  if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n    opts = canvas\n    canvas = undefined\n  }\n\n  if (!opts) opts = {}\n\n  const canvasEl = exports.render(qrData, canvas, opts)\n\n  const type = opts.type || 'image/png'\n  const rendererOpts = opts.rendererOpts || {}\n\n  return canvasEl.toDataURL(type, rendererOpts.quality)\n}\n", "\nconst canPromise = require('./can-promise')\n\nconst QRCode = require('./core/qrcode')\nconst CanvasRenderer = require('./renderer/canvas')\nconst SvgRenderer = require('./renderer/svg-tag.js')\n\nfunction renderCanvas (renderFunc, canvas, text, opts, cb) {\n  const args = [].slice.call(arguments, 1)\n  const argsNum = args.length\n  const isLastArgCb = typeof args[argsNum - 1] === 'function'\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument')\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 2) {\n      cb = text\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts\n        opts = undefined\n      } else {\n        cb = opts\n        opts = text\n        text = canvas\n        canvas = undefined\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided')\n    }\n\n    if (argsNum === 1) {\n      text = canvas\n      canvas = opts = undefined\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text\n      text = canvas\n      canvas = undefined\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, opts)\n        resolve(renderFunc(data, canvas, opts))\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  try {\n    const data = QRCode.create(text, opts)\n    cb(null, renderFunc(data, canvas, opts))\n  } catch (e) {\n    cb(e)\n  }\n}\n\nexports.create = QRCode.create\nexports.toCanvas = renderCanvas.bind(null, CanvasRenderer.render)\nexports.toDataURL = renderCanvas.bind(null, CanvasRenderer.renderToDataURL)\n\n// only svg for now.\nexports.toString = renderCanvas.bind(null, function (data, _, opts) {\n  return SvgRenderer.render(data, opts)\n})\n", "const canPromise = require('./can-promise')\nconst QRCode = require('./core/qrcode')\nconst PngRenderer = require('./renderer/png')\nconst Utf8Renderer = require('./renderer/utf8')\nconst TerminalRenderer = require('./renderer/terminal')\nconst SvgRenderer = require('./renderer/svg')\n\nfunction checkParams (text, opts, cb) {\n  if (typeof text === 'undefined') {\n    throw new Error('String required as first argument')\n  }\n\n  if (typeof cb === 'undefined') {\n    cb = opts\n    opts = {}\n  }\n\n  if (typeof cb !== 'function') {\n    if (!canPromise()) {\n      throw new Error('Callback required as last argument')\n    } else {\n      opts = cb || {}\n      cb = null\n    }\n  }\n\n  return {\n    opts: opts,\n    cb: cb\n  }\n}\n\nfunction getTypeFromFilename (path) {\n  return path.slice((path.lastIndexOf('.') - 1 >>> 0) + 2).toLowerCase()\n}\n\nfunction getRendererFromType (type) {\n  switch (type) {\n    case 'svg':\n      return SvgRenderer\n\n    case 'txt':\n    case 'utf8':\n      return Utf8Renderer\n\n    case 'png':\n    case 'image/png':\n    default:\n      return PngRenderer\n  }\n}\n\nfunction getStringRendererFromType (type) {\n  switch (type) {\n    case 'svg':\n      return SvgRenderer\n\n    case 'terminal':\n      return TerminalRenderer\n\n    case 'utf8':\n    default:\n      return Utf8Renderer\n  }\n}\n\nfunction render (renderFunc, text, params) {\n  if (!params.cb) {\n    return new Promise(function (resolve, reject) {\n      try {\n        const data = QRCode.create(text, params.opts)\n        return renderFunc(data, params.opts, function (err, data) {\n          return err ? reject(err) : resolve(data)\n        })\n      } catch (e) {\n        reject(e)\n      }\n    })\n  }\n\n  try {\n    const data = QRCode.create(text, params.opts)\n    return renderFunc(data, params.opts, params.cb)\n  } catch (e) {\n    params.cb(e)\n  }\n}\n\nexports.create = QRCode.create\n\nexports.toCanvas = require('./browser').toCanvas\n\nexports.toString = function toString (text, opts, cb) {\n  const params = checkParams(text, opts, cb)\n  const type = params.opts ? params.opts.type : undefined\n  const renderer = getStringRendererFromType(type)\n  return render(renderer.render, text, params)\n}\n\nexports.toDataURL = function toDataURL (text, opts, cb) {\n  const params = checkParams(text, opts, cb)\n  const renderer = getRendererFromType(params.opts.type)\n  return render(renderer.renderToDataURL, text, params)\n}\n\nexports.toBuffer = function toBuffer (text, opts, cb) {\n  const params = checkParams(text, opts, cb)\n  const renderer = getRendererFromType(params.opts.type)\n  return render(renderer.renderToBuffer, text, params)\n}\n\nexports.toFile = function toFile (path, text, opts, cb) {\n  if (typeof path !== 'string' || !(typeof text === 'string' || typeof text === 'object')) {\n    throw new Error('Invalid argument')\n  }\n\n  if ((arguments.length < 3) && !canPromise()) {\n    throw new Error('Too few arguments provided')\n  }\n\n  const params = checkParams(text, opts, cb)\n  const type = params.opts.type || getTypeFromFilename(path)\n  const renderer = getRendererFromType(type)\n  const renderToFile = renderer.renderToFile.bind(null, path)\n\n  return render(renderToFile, text, params)\n}\n\nexports.toFileStream = function toFileStream (stream, text, opts) {\n  if (arguments.length < 2) {\n    throw new Error('Too few arguments provided')\n  }\n\n  const params = checkParams(text, opts, stream.emit.bind(stream, 'error'))\n  const renderer = getRendererFromType('png') // Only png support for now\n  const renderToFileStream = renderer.renderToFileStream.bind(null, stream)\n  render(renderToFileStream, text, params)\n}\n", "/*\n*copyright Ryan Day 2012\n*\n* Licensed under the MIT license:\n*   http://www.opensource.org/licenses/mit-license.php\n*\n* this is the main server side application file for node-qrcode.\n* these exports use serverside canvas api methods for file IO and buffers\n*\n*/\n\nmodule.exports = require('./server')\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n", "var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n", "const isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nconst path = require('path')\nconst COLON = isWindows ? ';' : ':'\nconst isexe = require('isexe')\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, opt) => {\n  const colon = opt.colon || COLON\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\n    : (\n      [\n        // windows always checks the cwd first\n        ...(isWindows ? [process.cwd()] : []),\n        ...(opt.path || process.env.PATH ||\n          /* istanbul ignore next: very unusual */ '').split(colon),\n      ]\n    )\n  const pathExtExe = isWindows\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\n    : ''\n  const pathExt = isWindows ? pathExtExe.split(colon) : ['']\n\n  if (isWindows) {\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  return {\n    pathEnv,\n    pathExt,\n    pathExtExe,\n  }\n}\n\nconst which = (cmd, opt, cb) => {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n  if (!opt)\n    opt = {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  const step = i => new Promise((resolve, reject) => {\n    if (i === pathEnv.length)\n      return opt.all && found.length ? resolve(found)\n        : reject(getNotFoundError(cmd))\n\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    resolve(subStep(p, i, 0))\n  })\n\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\n    if (ii === pathExt.length)\n      return resolve(step(i + 1))\n    const ext = pathExt[ii]\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\n      if (!er && is) {\n        if (opt.all)\n          found.push(p + ext)\n        else\n          return resolve(p + ext)\n      }\n      return resolve(subStep(p, i, ii + 1))\n    })\n  })\n\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\n}\n\nconst whichSync = (cmd, opt) => {\n  opt = opt || {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (let i = 0; i < pathEnv.length; i ++) {\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    for (let j = 0; j < pathExt.length; j ++) {\n      const cur = p + pathExt[j]\n      try {\n        const is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n", "'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n", "'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst getPathKey = require('path-key');\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const env = parsed.options.env || process.env;\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n    // Worker threads do not have process.chdir()\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (shouldSwitchCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: env[getPathKey({ env })],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        if (shouldSwitchCwd) {\n            process.chdir(cwd);\n        }\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n", "'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n", "'use strict';\nmodule.exports = /^#!(.*)/;\n", "'use strict';\nconst shebangRegex = require('shebang-regex');\n\nmodule.exports = (string = '') => {\n\tconst match = string.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\n\tconst binary = path.split('/').pop();\n\n\tif (binary === 'env') {\n\t\treturn argument;\n\t}\n\n\treturn argument ? `${binary} ${argument}` : binary;\n};\n", "'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    const buffer = Buffer.alloc(size);\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n", "'use strict';\n\nconst path = require('path');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parsed : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n", "'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed, 'spawn');\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n", "'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n", "'use strict';\n\nmodule.exports = input => {\n\tconst LF = typeof input === 'string' ? '\\n' : '\\n'.charCodeAt();\n\tconst CR = typeof input === 'string' ? '\\r' : '\\r'.charCodeAt();\n\n\tif (input[input.length - 1] === LF) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\tif (input[input.length - 1] === CR) {\n\t\tinput = input.slice(0, input.length - 1);\n\t}\n\n\treturn input;\n};\n", "'use strict';\nconst path = require('path');\nconst pathKey = require('path-key');\n\nconst npmRunPath = options => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\tpath: process.env[pathKey()],\n\t\texecPath: process.execPath,\n\t\t...options\n\t};\n\n\tlet previous;\n\tlet cwdPath = path.resolve(options.cwd);\n\tconst result = [];\n\n\twhile (previous !== cwdPath) {\n\t\tresult.push(path.join(cwdPath, 'node_modules/.bin'));\n\t\tprevious = cwdPath;\n\t\tcwdPath = path.resolve(cwdPath, '..');\n\t}\n\n\t// Ensure the running `node` binary is used\n\tconst execPathDir = path.resolve(options.cwd, options.execPath, '..');\n\tresult.push(execPathDir);\n\n\treturn result.concat(options.path).join(path.delimiter);\n};\n\nmodule.exports = npmRunPath;\n// TODO: Remove this for the next major release\nmodule.exports.default = npmRunPath;\n\nmodule.exports.env = options => {\n\toptions = {\n\t\tenv: process.env,\n\t\t...options\n\t};\n\n\tconst env = {...options.env};\n\tconst path = pathKey({env});\n\n\toptions.path = env[path];\n\tenv[path] = module.exports(options);\n\n\treturn env;\n};\n", "'use strict';\n\nconst mimicFn = (to, from) => {\n\tfor (const prop of Reflect.ownKeys(from)) {\n\t\tObject.defineProperty(to, prop, Object.getOwnPropertyDescriptor(from, prop));\n\t}\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n// TODO: Remove this for the next major release\nmodule.exports.default = mimicFn;\n", "'use strict';\nconst mimicFn = require('mimic-fn');\n\nconst calledFunctions = new WeakMap();\n\nconst onetime = (function_, options = {}) => {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\tlet returnValue;\n\tlet callCount = 0;\n\tconst functionName = function_.displayName || function_.name || '<anonymous>';\n\n\tconst onetime = function (...arguments_) {\n\t\tcalledFunctions.set(onetime, ++callCount);\n\n\t\tif (callCount === 1) {\n\t\t\treturnValue = function_.apply(this, arguments_);\n\t\t\tfunction_ = null;\n\t\t} else if (options.throw === true) {\n\t\t\tthrow new Error(`Function \\`${functionName}\\` can only be called once`);\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tmimicFn(onetime, function_);\n\tcalledFunctions.set(onetime, callCount);\n\n\treturn onetime;\n};\n\nmodule.exports = onetime;\n// TODO: Remove this for the next major release\nmodule.exports.default = onetime;\n\nmodule.exports.callCount = function_ => {\n\tif (!calledFunctions.has(function_)) {\n\t\tthrow new Error(`The given function \\`${function_.name}\\` is not wrapped by the \\`onetime\\` package`);\n\t}\n\n\treturn calledFunctions.get(function_);\n};\n", "/* eslint-disable max-lines */\n// List of known process signals with information about them\nexport const SIGNALS = [\n  {\n    name: 'SIGHUP',\n    number: 1,\n    action: 'terminate',\n    description: 'Terminal closed',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGINT',\n    number: 2,\n    action: 'terminate',\n    description: 'User interruption with CTRL-C',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGQUIT',\n    number: 3,\n    action: 'core',\n    description: 'User interruption with CTRL-\\\\',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGILL',\n    number: 4,\n    action: 'core',\n    description: 'Invalid machine instruction',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGTRAP',\n    number: 5,\n    action: 'core',\n    description: 'Debugger breakpoint',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGABRT',\n    number: 6,\n    action: 'core',\n    description: 'Aborted',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGIOT',\n    number: 6,\n    action: 'core',\n    description: 'Aborted',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGBUS',\n    number: 7,\n    action: 'core',\n    description:\n      'Bus error due to misaligned, non-existing address or paging error',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGEMT',\n    number: 7,\n    action: 'terminate',\n    description: 'Command should be emulated but is not implemented',\n    standard: 'other',\n  },\n  {\n    name: 'SIGFPE',\n    number: 8,\n    action: 'core',\n    description: 'Floating point arithmetic error',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGKILL',\n    number: 9,\n    action: 'terminate',\n    description: 'Forced termination',\n    standard: 'posix',\n    forced: true,\n  },\n  {\n    name: 'SIGUSR1',\n    number: 10,\n    action: 'terminate',\n    description: 'Application-specific signal',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGSEGV',\n    number: 11,\n    action: 'core',\n    description: 'Segmentation fault',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGUSR2',\n    number: 12,\n    action: 'terminate',\n    description: 'Application-specific signal',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGPIPE',\n    number: 13,\n    action: 'terminate',\n    description: 'Broken pipe or socket',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGALRM',\n    number: 14,\n    action: 'terminate',\n    description: 'Timeout or timer',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGTERM',\n    number: 15,\n    action: 'terminate',\n    description: 'Termination',\n    standard: 'ansi',\n  },\n  {\n    name: 'SIGSTKFLT',\n    number: 16,\n    action: 'terminate',\n    description: 'Stack is empty or overflowed',\n    standard: 'other',\n  },\n  {\n    name: 'SIGCHLD',\n    number: 17,\n    action: 'ignore',\n    description: 'Child process terminated, paused or unpaused',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGCLD',\n    number: 17,\n    action: 'ignore',\n    description: 'Child process terminated, paused or unpaused',\n    standard: 'other',\n  },\n  {\n    name: 'SIGCONT',\n    number: 18,\n    action: 'unpause',\n    description: 'Unpaused',\n    standard: 'posix',\n    forced: true,\n  },\n  {\n    name: 'SIGSTOP',\n    number: 19,\n    action: 'pause',\n    description: 'Paused',\n    standard: 'posix',\n    forced: true,\n  },\n  {\n    name: 'SIGTSTP',\n    number: 20,\n    action: 'pause',\n    description: 'Paused using CTRL-Z or \"suspend\"',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGTTIN',\n    number: 21,\n    action: 'pause',\n    description: 'Background process cannot read terminal input',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGBREAK',\n    number: 21,\n    action: 'terminate',\n    description: 'User interruption with CTRL-BREAK',\n    standard: 'other',\n  },\n  {\n    name: 'SIGTTOU',\n    number: 22,\n    action: 'pause',\n    description: 'Background process cannot write to terminal output',\n    standard: 'posix',\n  },\n  {\n    name: 'SIGURG',\n    number: 23,\n    action: 'ignore',\n    description: 'Socket received out-of-band data',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGXCPU',\n    number: 24,\n    action: 'core',\n    description: 'Process timed out',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGXFSZ',\n    number: 25,\n    action: 'core',\n    description: 'File too big',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGVTALRM',\n    number: 26,\n    action: 'terminate',\n    description: 'Timeout or timer',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGPROF',\n    number: 27,\n    action: 'terminate',\n    description: 'Timeout or timer',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGWINCH',\n    number: 28,\n    action: 'ignore',\n    description: 'Terminal window size changed',\n    standard: 'bsd',\n  },\n  {\n    name: 'SIGIO',\n    number: 29,\n    action: 'terminate',\n    description: 'I/O is available',\n    standard: 'other',\n  },\n  {\n    name: 'SIGPOLL',\n    number: 29,\n    action: 'terminate',\n    description: 'Watched event',\n    standard: 'other',\n  },\n  {\n    name: 'SIGINFO',\n    number: 29,\n    action: 'ignore',\n    description: 'Request for process information',\n    standard: 'other',\n  },\n  {\n    name: 'SIGPWR',\n    number: 30,\n    action: 'terminate',\n    description: 'Device running out of power',\n    standard: 'systemv',\n  },\n  {\n    name: 'SIGSYS',\n    number: 31,\n    action: 'core',\n    description: 'Invalid system call',\n    standard: 'other',\n  },\n  {\n    name: 'SIGUNUSED',\n    number: 31,\n    action: 'terminate',\n    description: 'Invalid system call',\n    standard: 'other',\n  },\n]\n/* eslint-enable max-lines */\n", "// List of realtime signals with information about them\nexport const getRealtimeSignals = function() {\n  const length = SIGRTMAX - SIGRTMIN + 1\n  return Array.from({ length }, getRealtimeSignal)\n}\n\nconst getRealtimeSignal = function(value, index) {\n  return {\n    name: `SIGRT${index + 1}`,\n    number: SIGRTMIN + index,\n    action: 'terminate',\n    description: 'Application-specific signal (realtime)',\n    standard: 'posix',\n  }\n}\n\nconst SIGRTMIN = 34\nexport const SIGRTMAX = 64\n", "import { constants } from 'os'\n\nimport { SIGNALS } from './core.js'\nimport { getRealtimeSignals } from './realtime.js'\n\n// Retrieve list of know signals (including realtime) with information about\n// them\nexport const getSignals = function() {\n  const realtimeSignals = getRealtimeSignals()\n  const signals = [...SIGNALS, ...realtimeSignals].map(normalizeSignal)\n  return signals\n}\n\n// Normalize signal:\n//  - `number`: signal numbers are OS-specific. This is taken into account by\n//    `os.constants.signals`. However we provide a default `number` since some\n//     signals are not defined for some OS.\n//  - `forced`: set default to `false`\n//  - `supported`: set value\nconst normalizeSignal = function({\n  name,\n  number: defaultNumber,\n  description,\n  action,\n  forced = false,\n  standard,\n}) {\n  const {\n    signals: { [name]: constantSignal },\n  } = constants\n  const supported = constantSignal !== undefined\n  const number = supported ? constantSignal : defaultNumber\n  return { name, number, description, supported, action, forced, standard }\n}\n", "import { constants } from 'os'\n\nimport { getSignals } from './signals.js'\nimport { SIGRTMAX } from './realtime.js'\n\n// Retrieve `signalsByName`, an object mapping signal name to signal properties.\n// We make sure the object is sorted by `number`.\nconst getSignalsByName = function() {\n  const signals = getSignals()\n  return signals.reduce(getSignalByName, {})\n}\n\nconst getSignalByName = function(\n  signalByNameMemo,\n  { name, number, description, supported, action, forced, standard },\n) {\n  return {\n    ...signalByNameMemo,\n    [name]: { name, number, description, supported, action, forced, standard },\n  }\n}\n\nexport const signalsByName = getSignalsByName()\n\n// Retrieve `signalsByNumber`, an object mapping signal number to signal\n// properties.\n// We make sure the object is sorted by `number`.\nconst getSignalsByNumber = function() {\n  const signals = getSignals()\n  const length = SIGRTMAX + 1\n  const signalsA = Array.from({ length }, (value, number) =>\n    getSignalByNumber(number, signals),\n  )\n  return Object.assign({}, ...signalsA)\n}\n\nconst getSignalByNumber = function(number, signals) {\n  const signal = findSignalByNumber(number, signals)\n\n  if (signal === undefined) {\n    return {}\n  }\n\n  const { name, description, supported, action, forced, standard } = signal\n  return {\n    [number]: {\n      name,\n      number,\n      description,\n      supported,\n      action,\n      forced,\n      standard,\n    },\n  }\n}\n\n// Several signals might end up sharing the same number because of OS-specific\n// numbers, in which case those prevail.\nconst findSignalByNumber = function(number, signals) {\n  const signal = signals.find(({ name }) => constants.signals[name] === number)\n\n  if (signal !== undefined) {\n    return signal\n  }\n\n  return signals.find(signalA => signalA.number === number)\n}\n\nexport const signalsByNumber = getSignalsByNumber()\n", "'use strict';\nconst {signalsByName} = require('human-signals');\n\nconst getErrorPrefix = ({timedOut, timeout, errorCode, signal, signalDescription, exitCode, isCanceled}) => {\n\tif (timedOut) {\n\t\treturn `timed out after ${timeout} milliseconds`;\n\t}\n\n\tif (isCanceled) {\n\t\treturn 'was canceled';\n\t}\n\n\tif (errorCode !== undefined) {\n\t\treturn `failed with ${errorCode}`;\n\t}\n\n\tif (signal !== undefined) {\n\t\treturn `was killed with ${signal} (${signalDescription})`;\n\t}\n\n\tif (exitCode !== undefined) {\n\t\treturn `failed with exit code ${exitCode}`;\n\t}\n\n\treturn 'failed';\n};\n\nconst makeError = ({\n\tstdout,\n\tstderr,\n\tall,\n\terror,\n\tsignal,\n\texitCode,\n\tcommand,\n\tescapedCommand,\n\ttimedOut,\n\tisCanceled,\n\tkilled,\n\tparsed: {options: {timeout}}\n}) => {\n\t// `signal` and `exitCode` emitted on `spawned.on('exit')` event can be `null`.\n\t// We normalize them to `undefined`\n\texitCode = exitCode === null ? undefined : exitCode;\n\tsignal = signal === null ? undefined : signal;\n\tconst signalDescription = signal === undefined ? undefined : signalsByName[signal].description;\n\n\tconst errorCode = error && error.code;\n\n\tconst prefix = getErrorPrefix({timedOut, timeout, errorCode, signal, signalDescription, exitCode, isCanceled});\n\tconst execaMessage = `Command ${prefix}: ${command}`;\n\tconst isError = Object.prototype.toString.call(error) === '[object Error]';\n\tconst shortMessage = isError ? `${execaMessage}\\n${error.message}` : execaMessage;\n\tconst message = [shortMessage, stderr, stdout].filter(Boolean).join('\\n');\n\n\tif (isError) {\n\t\terror.originalMessage = error.message;\n\t\terror.message = message;\n\t} else {\n\t\terror = new Error(message);\n\t}\n\n\terror.shortMessage = shortMessage;\n\terror.command = command;\n\terror.escapedCommand = escapedCommand;\n\terror.exitCode = exitCode;\n\terror.signal = signal;\n\terror.signalDescription = signalDescription;\n\terror.stdout = stdout;\n\terror.stderr = stderr;\n\n\tif (all !== undefined) {\n\t\terror.all = all;\n\t}\n\n\tif ('bufferedData' in error) {\n\t\tdelete error.bufferedData;\n\t}\n\n\terror.failed = true;\n\terror.timedOut = Boolean(timedOut);\n\terror.isCanceled = isCanceled;\n\terror.killed = killed && !timedOut;\n\n\treturn error;\n};\n\nmodule.exports = makeError;\n", "'use strict';\nconst aliases = ['stdin', 'stdout', 'stderr'];\n\nconst hasAlias = options => aliases.some(alias => options[alias] !== undefined);\n\nconst normalizeStdio = options => {\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tconst {stdio} = options;\n\n\tif (stdio === undefined) {\n\t\treturn aliases.map(alias => options[alias]);\n\t}\n\n\tif (hasAlias(options)) {\n\t\tthrow new Error(`It's not possible to provide \\`stdio\\` in combination with one of ${aliases.map(alias => `\\`${alias}\\``).join(', ')}`);\n\t}\n\n\tif (typeof stdio === 'string') {\n\t\treturn stdio;\n\t}\n\n\tif (!Array.isArray(stdio)) {\n\t\tthrow new TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof stdio}\\``);\n\t}\n\n\tconst length = Math.max(stdio.length, aliases.length);\n\treturn Array.from({length}, (value, index) => stdio[index]);\n};\n\nmodule.exports = normalizeStdio;\n\n// `ipc` is pushed unless it is already present\nmodule.exports.node = options => {\n\tconst stdio = normalizeStdio(options);\n\n\tif (stdio === 'ipc') {\n\t\treturn 'ipc';\n\t}\n\n\tif (stdio === undefined || typeof stdio === 'string') {\n\t\treturn [stdio, stdio, stdio, 'ipc'];\n\t}\n\n\tif (stdio.includes('ipc')) {\n\t\treturn stdio;\n\t}\n\n\treturn [...stdio, 'ipc'];\n};\n", "// This is not the set of all possible signals.\n//\n// It IS, however, the set of all signals that trigger\n// an exit on either Linux or BSD systems.  Linux is a\n// superset of the signal names supported on BSD, and\n// the unknown signals just fail to register, so we can\n// catch that easily enough.\n//\n// Don't bother with SIGKILL.  It's uncatchable, which\n// means that we can't fire any callbacks anyway.\n//\n// If a user does happen to register a handler on a non-\n// fatal signal like SIGWINCH or something, and then\n// exit, it'll end up firing `process.emit('exit')`, so\n// the handler will be fired anyway.\n//\n// SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n// artificially, inherently leave the process in a\n// state from which it is not safe to try and enter JS\n// listeners.\nmodule.exports = [\n  'SIGABRT',\n  'SIGALRM',\n  'SIGHUP',\n  'SIGINT',\n  'SIGTERM'\n]\n\nif (process.platform !== 'win32') {\n  module.exports.push(\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  module.exports.push(\n    'SIGIO',\n    'SIGPOLL',\n    'SIGPWR',\n    'SIGSTKFLT',\n    'SIGUNUSED'\n  )\n}\n", "// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\nvar process = global.process\n\nconst processOk = function (process) {\n  return process &&\n    typeof process === 'object' &&\n    typeof process.removeListener === 'function' &&\n    typeof process.emit === 'function' &&\n    typeof process.reallyExit === 'function' &&\n    typeof process.listeners === 'function' &&\n    typeof process.kill === 'function' &&\n    typeof process.pid === 'number' &&\n    typeof process.on === 'function'\n}\n\n// some kind of non-node environment, just no-op\n/* istanbul ignore if */\nif (!processOk(process)) {\n  module.exports = function () {\n    return function () {}\n  }\n} else {\n  var assert = require('assert')\n  var signals = require('./signals.js')\n  var isWin = /^win/i.test(process.platform)\n\n  var EE = require('events')\n  /* istanbul ignore if */\n  if (typeof EE !== 'function') {\n    EE = EE.EventEmitter\n  }\n\n  var emitter\n  if (process.__signal_exit_emitter__) {\n    emitter = process.__signal_exit_emitter__\n  } else {\n    emitter = process.__signal_exit_emitter__ = new EE()\n    emitter.count = 0\n    emitter.emitted = {}\n  }\n\n  // Because this emitter is a global, we have to check to see if a\n  // previous version of this library failed to enable infinite listeners.\n  // I know what you're about to say.  But literally everything about\n  // signal-exit is a compromise with evil.  Get used to it.\n  if (!emitter.infinite) {\n    emitter.setMaxListeners(Infinity)\n    emitter.infinite = true\n  }\n\n  module.exports = function (cb, opts) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return function () {}\n    }\n    assert.equal(typeof cb, 'function', 'a callback must be provided for exit handler')\n\n    if (loaded === false) {\n      load()\n    }\n\n    var ev = 'exit'\n    if (opts && opts.alwaysLast) {\n      ev = 'afterexit'\n    }\n\n    var remove = function () {\n      emitter.removeListener(ev, cb)\n      if (emitter.listeners('exit').length === 0 &&\n          emitter.listeners('afterexit').length === 0) {\n        unload()\n      }\n    }\n    emitter.on(ev, cb)\n\n    return remove\n  }\n\n  var unload = function unload () {\n    if (!loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = false\n\n    signals.forEach(function (sig) {\n      try {\n        process.removeListener(sig, sigListeners[sig])\n      } catch (er) {}\n    })\n    process.emit = originalProcessEmit\n    process.reallyExit = originalProcessReallyExit\n    emitter.count -= 1\n  }\n  module.exports.unload = unload\n\n  var emit = function emit (event, code, signal) {\n    /* istanbul ignore if */\n    if (emitter.emitted[event]) {\n      return\n    }\n    emitter.emitted[event] = true\n    emitter.emit(event, code, signal)\n  }\n\n  // { <signal>: <listener fn>, ... }\n  var sigListeners = {}\n  signals.forEach(function (sig) {\n    sigListeners[sig] = function listener () {\n      /* istanbul ignore if */\n      if (!processOk(global.process)) {\n        return\n      }\n      // If there are no other listeners, an exit is coming!\n      // Simplest way: remove us and then re-send the signal.\n      // We know that this will kill the process, so we can\n      // safely emit now.\n      var listeners = process.listeners(sig)\n      if (listeners.length === emitter.count) {\n        unload()\n        emit('exit', null, sig)\n        /* istanbul ignore next */\n        emit('afterexit', null, sig)\n        /* istanbul ignore next */\n        if (isWin && sig === 'SIGHUP') {\n          // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n          // so use a supported signal instead\n          sig = 'SIGINT'\n        }\n        /* istanbul ignore next */\n        process.kill(process.pid, sig)\n      }\n    }\n  })\n\n  module.exports.signals = function () {\n    return signals\n  }\n\n  var loaded = false\n\n  var load = function load () {\n    if (loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = true\n\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    emitter.count += 1\n\n    signals = signals.filter(function (sig) {\n      try {\n        process.on(sig, sigListeners[sig])\n        return true\n      } catch (er) {\n        return false\n      }\n    })\n\n    process.emit = processEmit\n    process.reallyExit = processReallyExit\n  }\n  module.exports.load = load\n\n  var originalProcessReallyExit = process.reallyExit\n  var processReallyExit = function processReallyExit (code) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return\n    }\n    process.exitCode = code || /* istanbul ignore next */ 0\n    emit('exit', process.exitCode, null)\n    /* istanbul ignore next */\n    emit('afterexit', process.exitCode, null)\n    /* istanbul ignore next */\n    originalProcessReallyExit.call(process, process.exitCode)\n  }\n\n  var originalProcessEmit = process.emit\n  var processEmit = function processEmit (ev, arg) {\n    if (ev === 'exit' && processOk(global.process)) {\n      /* istanbul ignore else */\n      if (arg !== undefined) {\n        process.exitCode = arg\n      }\n      var ret = originalProcessEmit.apply(this, arguments)\n      /* istanbul ignore next */\n      emit('exit', process.exitCode, null)\n      /* istanbul ignore next */\n      emit('afterexit', process.exitCode, null)\n      /* istanbul ignore next */\n      return ret\n    } else {\n      return originalProcessEmit.apply(this, arguments)\n    }\n  }\n}\n", "'use strict';\nconst os = require('os');\nconst onExit = require('signal-exit');\n\nconst DEFAULT_FORCE_KILL_TIMEOUT = 1000 * 5;\n\n// Monkey-patches `childProcess.kill()` to add `forceKillAfterTimeout` behavior\nconst spawnedKill = (kill, signal = 'SIGTERM', options = {}) => {\n\tconst killResult = kill(signal);\n\tsetKillTimeout(kill, signal, options, killResult);\n\treturn killResult;\n};\n\nconst setKillTimeout = (kill, signal, options, killResult) => {\n\tif (!shouldForceKill(signal, options, killResult)) {\n\t\treturn;\n\t}\n\n\tconst timeout = getForceKillAfterTimeout(options);\n\tconst t = setTimeout(() => {\n\t\tkill('SIGKILL');\n\t}, timeout);\n\n\t// Guarded because there's no `.unref()` when `execa` is used in the renderer\n\t// process in Electron. This cannot be tested since we don't run tests in\n\t// Electron.\n\t// istanbul ignore else\n\tif (t.unref) {\n\t\tt.unref();\n\t}\n};\n\nconst shouldForceKill = (signal, {forceKillAfterTimeout}, killResult) => {\n\treturn isSigterm(signal) && forceKillAfterTimeout !== false && killResult;\n};\n\nconst isSigterm = signal => {\n\treturn signal === os.constants.signals.SIGTERM ||\n\t\t(typeof signal === 'string' && signal.toUpperCase() === 'SIGTERM');\n};\n\nconst getForceKillAfterTimeout = ({forceKillAfterTimeout = true}) => {\n\tif (forceKillAfterTimeout === true) {\n\t\treturn DEFAULT_FORCE_KILL_TIMEOUT;\n\t}\n\n\tif (!Number.isFinite(forceKillAfterTimeout) || forceKillAfterTimeout < 0) {\n\t\tthrow new TypeError(`Expected the \\`forceKillAfterTimeout\\` option to be a non-negative integer, got \\`${forceKillAfterTimeout}\\` (${typeof forceKillAfterTimeout})`);\n\t}\n\n\treturn forceKillAfterTimeout;\n};\n\n// `childProcess.cancel()`\nconst spawnedCancel = (spawned, context) => {\n\tconst killResult = spawned.kill();\n\n\tif (killResult) {\n\t\tcontext.isCanceled = true;\n\t}\n};\n\nconst timeoutKill = (spawned, signal, reject) => {\n\tspawned.kill(signal);\n\treject(Object.assign(new Error('Timed out'), {timedOut: true, signal}));\n};\n\n// `timeout` option handling\nconst setupTimeout = (spawned, {timeout, killSignal = 'SIGTERM'}, spawnedPromise) => {\n\tif (timeout === 0 || timeout === undefined) {\n\t\treturn spawnedPromise;\n\t}\n\n\tlet timeoutId;\n\tconst timeoutPromise = new Promise((resolve, reject) => {\n\t\ttimeoutId = setTimeout(() => {\n\t\t\ttimeoutKill(spawned, killSignal, reject);\n\t\t}, timeout);\n\t});\n\n\tconst safeSpawnedPromise = spawnedPromise.finally(() => {\n\t\tclearTimeout(timeoutId);\n\t});\n\n\treturn Promise.race([timeoutPromise, safeSpawnedPromise]);\n};\n\nconst validateTimeout = ({timeout}) => {\n\tif (timeout !== undefined && (!Number.isFinite(timeout) || timeout < 0)) {\n\t\tthrow new TypeError(`Expected the \\`timeout\\` option to be a non-negative integer, got \\`${timeout}\\` (${typeof timeout})`);\n\t}\n};\n\n// `cleanup` option handling\nconst setExitHandler = async (spawned, {cleanup, detached}, timedPromise) => {\n\tif (!cleanup || detached) {\n\t\treturn timedPromise;\n\t}\n\n\tconst removeExitHandler = onExit(() => {\n\t\tspawned.kill();\n\t});\n\n\treturn timedPromise.finally(() => {\n\t\tremoveExitHandler();\n\t});\n};\n\nmodule.exports = {\n\tspawnedKill,\n\tspawnedCancel,\n\tsetupTimeout,\n\tvalidateTimeout,\n\tsetExitHandler\n};\n", "'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n", "'use strict';\n\nconst { PassThrough } = require('stream');\n\nmodule.exports = function (/*streams...*/) {\n  var sources = []\n  var output  = new PassThrough({objectMode: true})\n\n  output.setMaxListeners(0)\n\n  output.add = add\n  output.isEmpty = isEmpty\n\n  output.on('unpipe', remove)\n\n  Array.prototype.slice.call(arguments).forEach(add)\n\n  return output\n\n  function add (source) {\n    if (Array.isArray(source)) {\n      source.forEach(add)\n      return this\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source))\n    source.once('error', output.emit.bind(output, 'error'))\n    source.pipe(output, {end: false})\n    return this\n  }\n\n  function isEmpty () {\n    return sources.length == 0;\n  }\n\n  function remove (source) {\n    sources = sources.filter(function (it) { return it !== source })\n    if (!sources.length && output.readable) { output.end() }\n  }\n}\n", "'use strict';\nconst isStream = require('is-stream');\nconst getStream = require('get-stream');\nconst mergeStream = require('merge-stream');\n\n// `input` option\nconst handleInput = (spawned, input) => {\n\t// Checking for stdin is workaround for https://github.com/nodejs/node/issues/26852\n\t// @todo remove `|| spawned.stdin === undefined` once we drop support for Node.js <=12.2.0\n\tif (input === undefined || spawned.stdin === undefined) {\n\t\treturn;\n\t}\n\n\tif (isStream(input)) {\n\t\tinput.pipe(spawned.stdin);\n\t} else {\n\t\tspawned.stdin.end(input);\n\t}\n};\n\n// `all` interleaves `stdout` and `stderr`\nconst makeAllStream = (spawned, {all}) => {\n\tif (!all || (!spawned.stdout && !spawned.stderr)) {\n\t\treturn;\n\t}\n\n\tconst mixed = mergeStream();\n\n\tif (spawned.stdout) {\n\t\tmixed.add(spawned.stdout);\n\t}\n\n\tif (spawned.stderr) {\n\t\tmixed.add(spawned.stderr);\n\t}\n\n\treturn mixed;\n};\n\n// On failure, `result.stdout|stderr|all` should contain the currently buffered stream\nconst getBufferedData = async (stream, streamPromise) => {\n\tif (!stream) {\n\t\treturn;\n\t}\n\n\tstream.destroy();\n\n\ttry {\n\t\treturn await streamPromise;\n\t} catch (error) {\n\t\treturn error.bufferedData;\n\t}\n};\n\nconst getStreamPromise = (stream, {encoding, buffer, maxBuffer}) => {\n\tif (!stream || !buffer) {\n\t\treturn;\n\t}\n\n\tif (encoding) {\n\t\treturn getStream(stream, {encoding, maxBuffer});\n\t}\n\n\treturn getStream.buffer(stream, {maxBuffer});\n};\n\n// Retrieve result of child process: exit code, signal, error, streams (stdout/stderr/all)\nconst getSpawnedResult = async ({stdout, stderr, all}, {encoding, buffer, maxBuffer}, processDone) => {\n\tconst stdoutPromise = getStreamPromise(stdout, {encoding, buffer, maxBuffer});\n\tconst stderrPromise = getStreamPromise(stderr, {encoding, buffer, maxBuffer});\n\tconst allPromise = getStreamPromise(all, {encoding, buffer, maxBuffer: maxBuffer * 2});\n\n\ttry {\n\t\treturn await Promise.all([processDone, stdoutPromise, stderrPromise, allPromise]);\n\t} catch (error) {\n\t\treturn Promise.all([\n\t\t\t{error, signal: error.signal, timedOut: error.timedOut},\n\t\t\tgetBufferedData(stdout, stdoutPromise),\n\t\t\tgetBufferedData(stderr, stderrPromise),\n\t\t\tgetBufferedData(all, allPromise)\n\t\t]);\n\t}\n};\n\nconst validateInputSync = ({input}) => {\n\tif (isStream(input)) {\n\t\tthrow new TypeError('The `input` option cannot be a stream in sync mode');\n\t}\n};\n\nmodule.exports = {\n\thandleInput,\n\tmakeAllStream,\n\tgetSpawnedResult,\n\tvalidateInputSync\n};\n\n", "'use strict';\n\nconst nativePromisePrototype = (async () => {})().constructor.prototype;\nconst descriptors = ['then', 'catch', 'finally'].map(property => [\n\tproperty,\n\tReflect.getOwnPropertyDescriptor(nativePromisePrototype, property)\n]);\n\n// The return value is a mixin of `childProcess` and `Promise`\nconst mergePromise = (spawned, promise) => {\n\tfor (const [property, descriptor] of descriptors) {\n\t\t// Starting the main `promise` is deferred to avoid consuming streams\n\t\tconst value = typeof promise === 'function' ?\n\t\t\t(...args) => Reflect.apply(descriptor.value, promise(), args) :\n\t\t\tdescriptor.value.bind(promise);\n\n\t\tReflect.defineProperty(spawned, property, {...descriptor, value});\n\t}\n\n\treturn spawned;\n};\n\n// Use promises instead of `child_process` events\nconst getSpawnedPromise = spawned => {\n\treturn new Promise((resolve, reject) => {\n\t\tspawned.on('exit', (exitCode, signal) => {\n\t\t\tresolve({exitCode, signal});\n\t\t});\n\n\t\tspawned.on('error', error => {\n\t\t\treject(error);\n\t\t});\n\n\t\tif (spawned.stdin) {\n\t\t\tspawned.stdin.on('error', error => {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t}\n\t});\n};\n\nmodule.exports = {\n\tmergePromise,\n\tgetSpawnedPromise\n};\n\n", "'use strict';\nconst normalizeArgs = (file, args = []) => {\n\tif (!Array.isArray(args)) {\n\t\treturn [file];\n\t}\n\n\treturn [file, ...args];\n};\n\nconst NO_ESCAPE_REGEXP = /^[\\w.-]+$/;\nconst DOUBLE_QUOTES_REGEXP = /\"/g;\n\nconst escapeArg = arg => {\n\tif (typeof arg !== 'string' || NO_ESCAPE_REGEXP.test(arg)) {\n\t\treturn arg;\n\t}\n\n\treturn `\"${arg.replace(DOUBLE_QUOTES_REGEXP, '\\\\\"')}\"`;\n};\n\nconst joinCommand = (file, args) => {\n\treturn normalizeArgs(file, args).join(' ');\n};\n\nconst getEscapedCommand = (file, args) => {\n\treturn normalizeArgs(file, args).map(arg => escapeArg(arg)).join(' ');\n};\n\nconst SPACES_REGEXP = / +/g;\n\n// Handle `execa.command()`\nconst parseCommand = command => {\n\tconst tokens = [];\n\tfor (const token of command.trim().split(SPACES_REGEXP)) {\n\t\t// Allow spaces to be escaped by a backslash if not meant as a delimiter\n\t\tconst previousToken = tokens[tokens.length - 1];\n\t\tif (previousToken && previousToken.endsWith('\\\\')) {\n\t\t\t// Merge previous token with current one\n\t\t\ttokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n\t\t} else {\n\t\t\ttokens.push(token);\n\t\t}\n\t}\n\n\treturn tokens;\n};\n\nmodule.exports = {\n\tjoinCommand,\n\tgetEscapedCommand,\n\tparseCommand\n};\n", "'use strict';\nconst path = require('path');\nconst childProcess = require('child_process');\nconst crossSpawn = require('cross-spawn');\nconst stripFinalNewline = require('strip-final-newline');\nconst npmRunPath = require('npm-run-path');\nconst onetime = require('onetime');\nconst makeError = require('./lib/error');\nconst normalizeStdio = require('./lib/stdio');\nconst {spawnedKill, spawnedCancel, setupTimeout, validateTimeout, setExitHandler} = require('./lib/kill');\nconst {handleInput, getSpawnedResult, makeAllStream, validateInputSync} = require('./lib/stream');\nconst {mergePromise, getSpawnedPromise} = require('./lib/promise');\nconst {joinCommand, parseCommand, getEscapedCommand} = require('./lib/command');\n\nconst DEFAULT_MAX_BUFFER = 1000 * 1000 * 100;\n\nconst getEnv = ({env: envOption, extendEnv, preferLocal, localDir, execPath}) => {\n\tconst env = extendEnv ? {...process.env, ...envOption} : envOption;\n\n\tif (preferLocal) {\n\t\treturn npmRunPath.env({env, cwd: localDir, execPath});\n\t}\n\n\treturn env;\n};\n\nconst handleArguments = (file, args, options = {}) => {\n\tconst parsed = crossSpawn._parse(file, args, options);\n\tfile = parsed.command;\n\targs = parsed.args;\n\toptions = parsed.options;\n\n\toptions = {\n\t\tmaxBuffer: DEFAULT_MAX_BUFFER,\n\t\tbuffer: true,\n\t\tstripFinalNewline: true,\n\t\textendEnv: true,\n\t\tpreferLocal: false,\n\t\tlocalDir: options.cwd || process.cwd(),\n\t\texecPath: process.execPath,\n\t\tencoding: 'utf8',\n\t\treject: true,\n\t\tcleanup: true,\n\t\tall: false,\n\t\twindowsHide: true,\n\t\t...options\n\t};\n\n\toptions.env = getEnv(options);\n\n\toptions.stdio = normalizeStdio(options);\n\n\tif (process.platform === 'win32' && path.basename(file, '.exe') === 'cmd') {\n\t\t// #116\n\t\targs.unshift('/q');\n\t}\n\n\treturn {file, args, options, parsed};\n};\n\nconst handleOutput = (options, value, error) => {\n\tif (typeof value !== 'string' && !Buffer.isBuffer(value)) {\n\t\t// When `execa.sync()` errors, we normalize it to '' to mimic `execa()`\n\t\treturn error === undefined ? undefined : '';\n\t}\n\n\tif (options.stripFinalNewline) {\n\t\treturn stripFinalNewline(value);\n\t}\n\n\treturn value;\n};\n\nconst execa = (file, args, options) => {\n\tconst parsed = handleArguments(file, args, options);\n\tconst command = joinCommand(file, args);\n\tconst escapedCommand = getEscapedCommand(file, args);\n\n\tvalidateTimeout(parsed.options);\n\n\tlet spawned;\n\ttry {\n\t\tspawned = childProcess.spawn(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\t// Ensure the returned error is always both a promise and a child process\n\t\tconst dummySpawned = new childProcess.ChildProcess();\n\t\tconst errorPromise = Promise.reject(makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t}));\n\t\treturn mergePromise(dummySpawned, errorPromise);\n\t}\n\n\tconst spawnedPromise = getSpawnedPromise(spawned);\n\tconst timedPromise = setupTimeout(spawned, parsed.options, spawnedPromise);\n\tconst processDone = setExitHandler(spawned, parsed.options, timedPromise);\n\n\tconst context = {isCanceled: false};\n\n\tspawned.kill = spawnedKill.bind(null, spawned.kill.bind(spawned));\n\tspawned.cancel = spawnedCancel.bind(null, spawned, context);\n\n\tconst handlePromise = async () => {\n\t\tconst [{error, exitCode, signal, timedOut}, stdoutResult, stderrResult, allResult] = await getSpawnedResult(spawned, parsed.options, processDone);\n\t\tconst stdout = handleOutput(parsed.options, stdoutResult);\n\t\tconst stderr = handleOutput(parsed.options, stderrResult);\n\t\tconst all = handleOutput(parsed.options, allResult);\n\n\t\tif (error || exitCode !== 0 || signal !== null) {\n\t\t\tconst returnedError = makeError({\n\t\t\t\terror,\n\t\t\t\texitCode,\n\t\t\t\tsignal,\n\t\t\t\tstdout,\n\t\t\t\tstderr,\n\t\t\t\tall,\n\t\t\t\tcommand,\n\t\t\t\tescapedCommand,\n\t\t\t\tparsed,\n\t\t\t\ttimedOut,\n\t\t\t\tisCanceled: context.isCanceled,\n\t\t\t\tkilled: spawned.killed\n\t\t\t});\n\n\t\t\tif (!parsed.options.reject) {\n\t\t\t\treturn returnedError;\n\t\t\t}\n\n\t\t\tthrow returnedError;\n\t\t}\n\n\t\treturn {\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\texitCode: 0,\n\t\t\tstdout,\n\t\t\tstderr,\n\t\t\tall,\n\t\t\tfailed: false,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t};\n\t};\n\n\tconst handlePromiseOnce = onetime(handlePromise);\n\n\thandleInput(spawned, parsed.options.input);\n\n\tspawned.all = makeAllStream(spawned, parsed.options);\n\n\treturn mergePromise(spawned, handlePromiseOnce);\n};\n\nmodule.exports = execa;\n\nmodule.exports.sync = (file, args, options) => {\n\tconst parsed = handleArguments(file, args, options);\n\tconst command = joinCommand(file, args);\n\tconst escapedCommand = getEscapedCommand(file, args);\n\n\tvalidateInputSync(parsed.options);\n\n\tlet result;\n\ttry {\n\t\tresult = childProcess.spawnSync(parsed.file, parsed.args, parsed.options);\n\t} catch (error) {\n\t\tthrow makeError({\n\t\t\terror,\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t});\n\t}\n\n\tconst stdout = handleOutput(parsed.options, result.stdout, result.error);\n\tconst stderr = handleOutput(parsed.options, result.stderr, result.error);\n\n\tif (result.error || result.status !== 0 || result.signal !== null) {\n\t\tconst error = makeError({\n\t\t\tstdout,\n\t\t\tstderr,\n\t\t\terror: result.error,\n\t\t\tsignal: result.signal,\n\t\t\texitCode: result.status,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tparsed,\n\t\t\ttimedOut: result.error && result.error.code === 'ETIMEDOUT',\n\t\t\tisCanceled: false,\n\t\t\tkilled: result.signal !== null\n\t\t});\n\n\t\tif (!parsed.options.reject) {\n\t\t\treturn error;\n\t\t}\n\n\t\tthrow error;\n\t}\n\n\treturn {\n\t\tcommand,\n\t\tescapedCommand,\n\t\texitCode: 0,\n\t\tstdout,\n\t\tstderr,\n\t\tfailed: false,\n\t\ttimedOut: false,\n\t\tisCanceled: false,\n\t\tkilled: false\n\t};\n};\n\nmodule.exports.command = (command, options) => {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execa(file, args, options);\n};\n\nmodule.exports.commandSync = (command, options) => {\n\tconst [file, ...args] = parseCommand(command);\n\treturn execa.sync(file, args, options);\n};\n\nmodule.exports.node = (scriptPath, args, options = {}) => {\n\tif (args && !Array.isArray(args) && typeof args === 'object') {\n\t\toptions = args;\n\t\targs = [];\n\t}\n\n\tconst stdio = normalizeStdio.node(options);\n\tconst defaultExecArgv = process.execArgv.filter(arg => !arg.startsWith('--inspect'));\n\n\tconst {\n\t\tnodePath = process.execPath,\n\t\tnodeOptions = defaultExecArgv\n\t} = options;\n\n\treturn execa(\n\t\tnodePath,\n\t\t[\n\t\t\t...nodeOptions,\n\t\t\tscriptPath,\n\t\t\t...(Array.isArray(args) ? args : [])\n\t\t],\n\t\t{\n\t\t\t...options,\n\t\t\tstdin: undefined,\n\t\t\tstdout: undefined,\n\t\t\tstderr: undefined,\n\t\t\tstdio,\n\t\t\tshell: false\n\t\t}\n\t);\n};\n", "import { formatUrl } from \"./utils\";\nimport { checkLogin, getDynamicFeed } from \"./apis\";\n\nimport { spawnSync } from \"child_process\";\nimport { runAppleScript } from \"run-applescript\";\nimport { getPreferenceValues, LocalStorage } from \"@raycast/api\";\n\ninterface Preferences {\n  justNotifyVideos: boolean;\n  terminalNotifierPath: string;\n}\nconst preference: Preferences = getPreferenceValues();\n\nfunction doNotify(title: string, type: Bilibili.DynamicType, subtitle: string, link: string) {\n  if (preference.justNotifyVideos && type !== \"DYNAMIC_TYPE_AV\") return;\n  if (!preference.terminalNotifierPath) {\n    runAppleScript(`display notification \"${subtitle}\" with title \"${title} - Bilibili\"`);\n    return;\n  }\n\n  const { status } = spawnSync(preference.terminalNotifierPath, [\n    \"-title\",\n    `${title} - Bilibili`,\n    \"-subtitle\",\n    subtitle,\n    \"-open\",\n    formatUrl(link),\n    \"-sound\",\n    \"default\",\n  ]);\n\n  if (status) {\n    runAppleScript(`display notification \"${subtitle}\" with title \"${title} - Bilibili\"`);\n  }\n}\n\nfunction notify(item: Bilibili.DynamicItem) {\n  switch (item.type) {\n    case \"DYNAMIC_TYPE_AV\":\n      doNotify(\n        item.modules.module_author.name,\n        item.type,\n        item.modules.module_dynamic.major.archive.title,\n        item.modules.module_dynamic.major.archive.jump_url\n      );\n      break;\n    case \"DYNAMIC_TYPE_FORWARD\":\n    case \"DYNAMIC_TYPE_WORD\":\n    case \"DYNAMIC_TYPE_DRAW\":\n      doNotify(\n        item.modules.module_author.name,\n        item.type,\n        item.modules.module_dynamic.desc.text,\n        `https://www.bilibili.com/opus/${item.id_str}`\n      );\n      break;\n    case \"DYNAMIC_TYPE_MUSIC\":\n      doNotify(\n        item.modules.module_author.name,\n        item.type,\n        item.modules.module_dynamic.major.music.title,\n        formatUrl(item.modules.module_dynamic.major.music.jump_url)\n      );\n      break;\n    case \"DYNAMIC_TYPE_LIVE_RCMD\":\n      // eslint-disable-next-line no-case-declarations\n      const liveDate = JSON.parse(item.modules.module_dynamic.major.live_rcmd.content);\n\n      doNotify(\n        item.modules.module_author.name,\n        item.type,\n        liveDate.live_play_info.title,\n        formatUrl(liveDate.live_play_info.link)\n      );\n      break;\n  }\n}\n\nfunction sleep(time: number) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport default async function Command() {\n  if (!checkLogin()) return;\n\n  console.log(\"running\");\n  const items = await getDynamicFeed();\n  const newNotifications = items.map((item) => item.id_str);\n  const oldNotifications: string[] = JSON.parse((await LocalStorage.getItem(\"notifications\")) || \"[]\");\n\n  if (oldNotifications.length !== 0) {\n    const startNotifyIndex = oldNotifications\n      .map((oldNotifyId) => newNotifications.findIndex((newNotifyId) => newNotifyId === oldNotifyId))\n      .filter((item) => item >= 0)[0];\n\n    const unNotifies = newNotifications.slice(0, startNotifyIndex);\n    for (const unNotify of unNotifies) {\n      items.map(async (item) => {\n        if (item.id_str === unNotify) {\n          notify(item);\n          await sleep(500);\n        }\n      });\n    }\n  }\n\n  await LocalStorage.setItem(\"notifications\", JSON.stringify(newNotifications));\n}\n", "export function formatUrl(url: string) {\n  return url.replace(\"http://\", \"https://\").replace(/^\\/\\//, \"https://\");\n}\n\nexport function secondToDate(second: number) {\n  const h = Math.floor(second / 3600);\n  const m = Math.floor((second / 60) % 60);\n  const s = Math.floor(second % 60);\n\n  return `${h ? String(h).padStart(2, \"0\") + \":\" : \"\"}${String(m).padStart(2, \"0\")}:${String(s).padStart(2, \"0\")}`;\n}\n\nexport function formatNumber(number: number | undefined) {\n  return number ? (number > 9999 ? `${(number / 1000).toFixed(1)}K` : String(number)) : \"\";\n}\n\nexport function removeEmHTMLTag(str: string) {\n  return str.replace(/<em class=[\"']keyword[\"']>(.+?)<\\/em>/g, \"$1\");\n}\n\nexport function generateRemainderScript(title: string, uploaderName: string, url: string) {\n  return `\n    tell application \"Reminders\"\n      try\n        get list \"Raycast Bilibili\"\n        set mylist to list \"Raycast Bilibili\"\n        tell mylist\n          make new reminder with properties {name:\"${title} - ${uploaderName}\", body:\"${formatUrl(url)}\"}\n        end tell\n      on error\n        make new list with properties {name:\"Raycast Bilibili\"}\n        set mylist to list \"Raycast Bilibili\"\n        tell mylist\n          make new reminder with properties {name:\"${title} - ${uploaderName}\", body:\"${formatUrl(url)}\"}\n        end tell\n      end try\n    end tell`;\n}\n", "const typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array',\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Blob',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'WeakRef',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    'NaN',\n    ...typedArrayTypeNames,\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol',\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isOfType(type) {\n    return (value) => typeof value === type;\n}\nconst { toString } = Object.prototype;\nconst getObjectType = (value) => {\n    const objectTypeName = toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && is.domElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nconst isObjectOfType = (type) => (value) => getObjectType(value) === type;\nfunction is(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined': {\n            return 'undefined';\n        }\n        case 'string': {\n            return 'string';\n        }\n        case 'number': {\n            return Number.isNaN(value) ? 'NaN' : 'number';\n        }\n        case 'boolean': {\n            return 'boolean';\n        }\n        case 'function': {\n            return 'Function';\n        }\n        case 'bigint': {\n            return 'bigint';\n        }\n        case 'symbol': {\n            return 'symbol';\n        }\n        default:\n    }\n    if (is.observable(value)) {\n        return 'Observable';\n    }\n    if (is.array(value)) {\n        return 'Array';\n    }\n    if (is.buffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType) {\n        return tagType;\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nis.undefined = isOfType('undefined');\nis.string = isOfType('string');\nconst isNumberType = isOfType('number');\nis.number = (value) => isNumberType(value) && !is.nan(value);\nis.positiveNumber = (value) => is.number(value) && value > 0;\nis.negativeNumber = (value) => is.number(value) && value < 0;\nis.bigint = isOfType('bigint');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.function_ = isOfType('function');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.null_ = (value) => value === null;\nis.class_ = (value) => is.function_(value) && value.toString().startsWith('class ');\nis.boolean = (value) => value === true || value === false;\nis.symbol = isOfType('symbol');\nis.numericString = (value) => is.string(value) && !is.emptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\nis.array = (value, assertion) => {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!is.function_(assertion)) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return value.every(element => assertion(element));\n};\n// eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call\nis.buffer = (value) => value?.constructor?.isBuffer?.(value) ?? false;\nis.blob = (value) => isObjectOfType('Blob')(value);\nis.nullOrUndefined = (value) => is.null_(value) || is.undefined(value); // eslint-disable-line @typescript-eslint/ban-types\nis.object = (value) => !is.null_(value) && (typeof value === 'object' || is.function_(value)); // eslint-disable-line @typescript-eslint/ban-types\nis.iterable = (value) => is.function_(value?.[Symbol.iterator]);\nis.asyncIterable = (value) => is.function_(value?.[Symbol.asyncIterator]);\nis.generator = (value) => is.iterable(value) && is.function_(value?.next) && is.function_(value?.throw);\nis.asyncGenerator = (value) => is.asyncIterable(value) && is.function_(value.next) && is.function_(value.throw);\nis.nativePromise = (value) => isObjectOfType('Promise')(value);\nconst hasPromiseApi = (value) => is.function_(value?.then)\n    && is.function_(value?.catch);\nis.promise = (value) => is.nativePromise(value) || hasPromiseApi(value);\nis.generatorFunction = isObjectOfType('GeneratorFunction');\nis.asyncGeneratorFunction = (value) => getObjectType(value) === 'AsyncGeneratorFunction';\nis.asyncFunction = (value) => getObjectType(value) === 'AsyncFunction';\n// eslint-disable-next-line no-prototype-builtins, @typescript-eslint/ban-types\nis.boundFunction = (value) => is.function_(value) && !value.hasOwnProperty('prototype');\nis.regExp = isObjectOfType('RegExp');\nis.date = isObjectOfType('Date');\nis.error = isObjectOfType('Error');\nis.map = (value) => isObjectOfType('Map')(value);\nis.set = (value) => isObjectOfType('Set')(value);\nis.weakMap = (value) => isObjectOfType('WeakMap')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakSet = (value) => isObjectOfType('WeakSet')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakRef = (value) => isObjectOfType('WeakRef')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.int8Array = isObjectOfType('Int8Array');\nis.uint8Array = isObjectOfType('Uint8Array');\nis.uint8ClampedArray = isObjectOfType('Uint8ClampedArray');\nis.int16Array = isObjectOfType('Int16Array');\nis.uint16Array = isObjectOfType('Uint16Array');\nis.int32Array = isObjectOfType('Int32Array');\nis.uint32Array = isObjectOfType('Uint32Array');\nis.float32Array = isObjectOfType('Float32Array');\nis.float64Array = isObjectOfType('Float64Array');\nis.bigInt64Array = isObjectOfType('BigInt64Array');\nis.bigUint64Array = isObjectOfType('BigUint64Array');\nis.arrayBuffer = isObjectOfType('ArrayBuffer');\nis.sharedArrayBuffer = isObjectOfType('SharedArrayBuffer');\nis.dataView = isObjectOfType('DataView');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\nis.enumCase = (value, targetEnum) => Object.values(targetEnum).includes(value);\nis.directInstanceOf = (instance, class_) => Object.getPrototypeOf(instance) === class_.prototype;\nis.urlInstance = (value) => isObjectOfType('URL')(value);\nis.urlString = (value) => {\n    if (!is.string(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\nis.truthy = (value) => Boolean(value); // eslint-disable-line unicorn/prefer-native-coercion-functions\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nis.falsy = (value) => !value;\nis.nan = (value) => Number.isNaN(value);\nis.primitive = (value) => is.null_(value) || isPrimitiveTypeName(typeof value);\nis.integer = (value) => Number.isInteger(value);\nis.safeInteger = (value) => Number.isSafeInteger(value);\nis.plainObject = (value) => {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const prototype = Object.getPrototypeOf(value);\n    return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n};\nis.typedArray = (value) => isTypedArrayName(getObjectType(value));\nconst isValidLength = (value) => is.safeInteger(value) && value >= 0;\nis.arrayLike = (value) => !is.nullOrUndefined(value) && !is.function_(value) && isValidLength(value.length);\nis.tupleLike = (value, guards) => {\n    if (is.array(guards) && is.array(value) && guards.length === value.length) {\n        return guards.every((guard, index) => guard(value[index]));\n    }\n    return false;\n};\nis.inRange = (value, range) => {\n    if (is.number(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (is.array(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n};\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst NODE_TYPE_ELEMENT = 1;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue',\n];\nis.domElement = (value) => is.object(value)\n    && value.nodeType === NODE_TYPE_ELEMENT\n    && is.string(value.nodeName)\n    && !is.plainObject(value)\n    && DOM_PROPERTIES_TO_CHECK.every(property => property in value);\nis.observable = (value) => {\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native, @typescript-eslint/no-unsafe-call\n    if (value === value[Symbol.observable]?.()) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    if (value === value['@@observable']?.()) {\n        return true;\n    }\n    return false;\n};\nis.nodeStream = (value) => is.object(value) && is.function_(value.pipe) && !is.observable(value);\nis.infinite = (value) => value === Number.POSITIVE_INFINITY || value === Number.NEGATIVE_INFINITY;\nconst isAbsoluteMod2 = (remainder) => (value) => is.integer(value) && Math.abs(value % 2) === remainder;\nis.evenInteger = isAbsoluteMod2(0);\nis.oddInteger = isAbsoluteMod2(1);\nis.emptyArray = (value) => is.array(value) && value.length === 0;\nis.nonEmptyArray = (value) => is.array(value) && value.length > 0;\nis.emptyString = (value) => is.string(value) && value.length === 0;\nconst isWhiteSpaceString = (value) => is.string(value) && !/\\S/.test(value);\nis.emptyStringOrWhitespace = (value) => is.emptyString(value) || isWhiteSpaceString(value);\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyString = (value) => is.string(value) && value.length > 0;\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyStringAndNotWhitespace = (value) => is.string(value) && !is.emptyStringOrWhitespace(value);\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length === 0;\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length > 0;\nis.emptySet = (value) => is.set(value) && value.size === 0;\nis.nonEmptySet = (value) => is.set(value) && value.size > 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyMap = (value) => is.map(value) && value.size === 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyMap = (value) => is.map(value) && value.size > 0;\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nis.propertyKey = (value) => is.any([is.string, is.number, is.symbol], value);\nis.formData = (value) => isObjectOfType('FormData')(value);\nis.urlSearchParams = (value) => isObjectOfType('URLSearchParams')(value);\nconst predicateOnArray = (method, predicate, values) => {\n    if (!is.function_(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n};\nis.any = (predicate, ...values) => {\n    const predicates = is.array(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n};\nis.all = (predicate, ...values) => predicateOnArray(Array.prototype.every, predicate, values);\nconst assertType = (condition, description, value, options = {}) => {\n    if (!condition) {\n        const { multipleValues } = options;\n        const valuesMessage = multipleValues\n            ? `received values of types ${[\n                ...new Set(value.map(singleValue => `\\`${is(singleValue)}\\``)),\n            ].join(', ')}`\n            : `received value of type \\`${is(value)}\\``;\n        throw new TypeError(`Expected value which is \\`${description}\\`, ${valuesMessage}.`);\n    }\n};\n/* eslint-disable @typescript-eslint/no-confusing-void-expression */\nexport const assert = {\n    // Unknowns.\n    undefined: (value) => assertType(is.undefined(value), 'undefined', value),\n    string: (value) => assertType(is.string(value), 'string', value),\n    number: (value) => assertType(is.number(value), 'number', value),\n    positiveNumber: (value) => assertType(is.positiveNumber(value), \"positive number\" /* AssertionTypeDescription.positiveNumber */, value),\n    negativeNumber: (value) => assertType(is.negativeNumber(value), \"negative number\" /* AssertionTypeDescription.negativeNumber */, value),\n    bigint: (value) => assertType(is.bigint(value), 'bigint', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function_: (value) => assertType(is.function_(value), 'Function', value),\n    null_: (value) => assertType(is.null_(value), 'null', value),\n    class_: (value) => assertType(is.class_(value), \"Class\" /* AssertionTypeDescription.class_ */, value),\n    boolean: (value) => assertType(is.boolean(value), 'boolean', value),\n    symbol: (value) => assertType(is.symbol(value), 'symbol', value),\n    numericString: (value) => assertType(is.numericString(value), \"string with a number\" /* AssertionTypeDescription.numericString */, value),\n    array: (value, assertion) => {\n        const assert = assertType;\n        assert(is.array(value), 'Array', value);\n        if (assertion) {\n            // eslint-disable-next-line unicorn/no-array-for-each, unicorn/no-array-callback-reference\n            value.forEach(assertion);\n        }\n    },\n    buffer: (value) => assertType(is.buffer(value), 'Buffer', value),\n    blob: (value) => assertType(is.blob(value), 'Blob', value),\n    nullOrUndefined: (value) => assertType(is.nullOrUndefined(value), \"null or undefined\" /* AssertionTypeDescription.nullOrUndefined */, value),\n    object: (value) => assertType(is.object(value), 'Object', value),\n    iterable: (value) => assertType(is.iterable(value), \"Iterable\" /* AssertionTypeDescription.iterable */, value),\n    asyncIterable: (value) => assertType(is.asyncIterable(value), \"AsyncIterable\" /* AssertionTypeDescription.asyncIterable */, value),\n    generator: (value) => assertType(is.generator(value), 'Generator', value),\n    asyncGenerator: (value) => assertType(is.asyncGenerator(value), 'AsyncGenerator', value),\n    nativePromise: (value) => assertType(is.nativePromise(value), \"native Promise\" /* AssertionTypeDescription.nativePromise */, value),\n    promise: (value) => assertType(is.promise(value), 'Promise', value),\n    generatorFunction: (value) => assertType(is.generatorFunction(value), 'GeneratorFunction', value),\n    asyncGeneratorFunction: (value) => assertType(is.asyncGeneratorFunction(value), 'AsyncGeneratorFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    asyncFunction: (value) => assertType(is.asyncFunction(value), 'AsyncFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    boundFunction: (value) => assertType(is.boundFunction(value), 'Function', value),\n    regExp: (value) => assertType(is.regExp(value), 'RegExp', value),\n    date: (value) => assertType(is.date(value), 'Date', value),\n    error: (value) => assertType(is.error(value), 'Error', value),\n    map: (value) => assertType(is.map(value), 'Map', value),\n    set: (value) => assertType(is.set(value), 'Set', value),\n    weakMap: (value) => assertType(is.weakMap(value), 'WeakMap', value),\n    weakSet: (value) => assertType(is.weakSet(value), 'WeakSet', value),\n    weakRef: (value) => assertType(is.weakRef(value), 'WeakRef', value),\n    int8Array: (value) => assertType(is.int8Array(value), 'Int8Array', value),\n    uint8Array: (value) => assertType(is.uint8Array(value), 'Uint8Array', value),\n    uint8ClampedArray: (value) => assertType(is.uint8ClampedArray(value), 'Uint8ClampedArray', value),\n    int16Array: (value) => assertType(is.int16Array(value), 'Int16Array', value),\n    uint16Array: (value) => assertType(is.uint16Array(value), 'Uint16Array', value),\n    int32Array: (value) => assertType(is.int32Array(value), 'Int32Array', value),\n    uint32Array: (value) => assertType(is.uint32Array(value), 'Uint32Array', value),\n    float32Array: (value) => assertType(is.float32Array(value), 'Float32Array', value),\n    float64Array: (value) => assertType(is.float64Array(value), 'Float64Array', value),\n    bigInt64Array: (value) => assertType(is.bigInt64Array(value), 'BigInt64Array', value),\n    bigUint64Array: (value) => assertType(is.bigUint64Array(value), 'BigUint64Array', value),\n    arrayBuffer: (value) => assertType(is.arrayBuffer(value), 'ArrayBuffer', value),\n    sharedArrayBuffer: (value) => assertType(is.sharedArrayBuffer(value), 'SharedArrayBuffer', value),\n    dataView: (value) => assertType(is.dataView(value), 'DataView', value),\n    enumCase: (value, targetEnum) => assertType(is.enumCase(value, targetEnum), 'EnumCase', value),\n    urlInstance: (value) => assertType(is.urlInstance(value), 'URL', value),\n    urlString: (value) => assertType(is.urlString(value), \"string with a URL\" /* AssertionTypeDescription.urlString */, value),\n    truthy: (value) => assertType(is.truthy(value), \"truthy\" /* AssertionTypeDescription.truthy */, value),\n    falsy: (value) => assertType(is.falsy(value), \"falsy\" /* AssertionTypeDescription.falsy */, value),\n    nan: (value) => assertType(is.nan(value), \"NaN\" /* AssertionTypeDescription.nan */, value),\n    primitive: (value) => assertType(is.primitive(value), \"primitive\" /* AssertionTypeDescription.primitive */, value),\n    integer: (value) => assertType(is.integer(value), \"integer\" /* AssertionTypeDescription.integer */, value),\n    safeInteger: (value) => assertType(is.safeInteger(value), \"integer\" /* AssertionTypeDescription.safeInteger */, value),\n    plainObject: (value) => assertType(is.plainObject(value), \"plain object\" /* AssertionTypeDescription.plainObject */, value),\n    typedArray: (value) => assertType(is.typedArray(value), \"TypedArray\" /* AssertionTypeDescription.typedArray */, value),\n    arrayLike: (value) => assertType(is.arrayLike(value), \"array-like\" /* AssertionTypeDescription.arrayLike */, value),\n    tupleLike: (value, guards) => assertType(is.tupleLike(value, guards), \"tuple-like\" /* AssertionTypeDescription.tupleLike */, value),\n    domElement: (value) => assertType(is.domElement(value), \"HTMLElement\" /* AssertionTypeDescription.domElement */, value),\n    observable: (value) => assertType(is.observable(value), 'Observable', value),\n    nodeStream: (value) => assertType(is.nodeStream(value), \"Node.js Stream\" /* AssertionTypeDescription.nodeStream */, value),\n    infinite: (value) => assertType(is.infinite(value), \"infinite number\" /* AssertionTypeDescription.infinite */, value),\n    emptyArray: (value) => assertType(is.emptyArray(value), \"empty array\" /* AssertionTypeDescription.emptyArray */, value),\n    nonEmptyArray: (value) => assertType(is.nonEmptyArray(value), \"non-empty array\" /* AssertionTypeDescription.nonEmptyArray */, value),\n    emptyString: (value) => assertType(is.emptyString(value), \"empty string\" /* AssertionTypeDescription.emptyString */, value),\n    emptyStringOrWhitespace: (value) => assertType(is.emptyStringOrWhitespace(value), \"empty string or whitespace\" /* AssertionTypeDescription.emptyStringOrWhitespace */, value),\n    nonEmptyString: (value) => assertType(is.nonEmptyString(value), \"non-empty string\" /* AssertionTypeDescription.nonEmptyString */, value),\n    nonEmptyStringAndNotWhitespace: (value) => assertType(is.nonEmptyStringAndNotWhitespace(value), \"non-empty string and not whitespace\" /* AssertionTypeDescription.nonEmptyStringAndNotWhitespace */, value),\n    emptyObject: (value) => assertType(is.emptyObject(value), \"empty object\" /* AssertionTypeDescription.emptyObject */, value),\n    nonEmptyObject: (value) => assertType(is.nonEmptyObject(value), \"non-empty object\" /* AssertionTypeDescription.nonEmptyObject */, value),\n    emptySet: (value) => assertType(is.emptySet(value), \"empty set\" /* AssertionTypeDescription.emptySet */, value),\n    nonEmptySet: (value) => assertType(is.nonEmptySet(value), \"non-empty set\" /* AssertionTypeDescription.nonEmptySet */, value),\n    emptyMap: (value) => assertType(is.emptyMap(value), \"empty map\" /* AssertionTypeDescription.emptyMap */, value),\n    nonEmptyMap: (value) => assertType(is.nonEmptyMap(value), \"non-empty map\" /* AssertionTypeDescription.nonEmptyMap */, value),\n    propertyKey: (value) => assertType(is.propertyKey(value), 'PropertyKey', value),\n    formData: (value) => assertType(is.formData(value), 'FormData', value),\n    urlSearchParams: (value) => assertType(is.urlSearchParams(value), 'URLSearchParams', value),\n    // Numbers.\n    evenInteger: (value) => assertType(is.evenInteger(value), \"even integer\" /* AssertionTypeDescription.evenInteger */, value),\n    oddInteger: (value) => assertType(is.oddInteger(value), \"odd integer\" /* AssertionTypeDescription.oddInteger */, value),\n    // Two arguments.\n    directInstanceOf: (instance, class_) => assertType(is.directInstanceOf(instance, class_), \"T\" /* AssertionTypeDescription.directInstanceOf */, instance),\n    inRange: (value, range) => assertType(is.inRange(value, range), \"in range\" /* AssertionTypeDescription.inRange */, value),\n    // Variadic functions.\n    any: (predicate, ...values) => assertType(is.any(predicate, ...values), \"predicate returns truthy for any value\" /* AssertionTypeDescription.any */, values, { multipleValues: true }),\n    all: (predicate, ...values) => assertType(is.all(predicate, ...values), \"predicate returns truthy for all values\" /* AssertionTypeDescription.all */, values, { multipleValues: true }),\n};\n/* eslint-enable @typescript-eslint/no-confusing-void-expression */\n// Some few keywords are reserved, but we'll populate them for Node.js users\n// See https://github.com/Microsoft/TypeScript/issues/2536\nObject.defineProperties(is, {\n    class: {\n        value: is.class_,\n    },\n    function: {\n        value: is.function_,\n    },\n    null: {\n        value: is.null_,\n    },\n});\nObject.defineProperties(assert, {\n    class: {\n        value: assert.class_,\n    },\n    function: {\n        value: assert.function_,\n    },\n    null: {\n        value: assert.null_,\n    },\n});\nexport default is;\n", "import { EventEmitter } from 'node:events';\nimport is from '@sindresorhus/is';\nimport PCancelable from 'p-cancelable';\nimport { HTTPError, RetryError, } from '../core/errors.js';\nimport Request from '../core/index.js';\nimport { parseBody, isResponseOk } from '../core/response.js';\nimport proxyEvents from '../core/utils/proxy-events.js';\nimport { CancelError } from './types.js';\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress',\n];\nexport default function asPromise(firstRequest) {\n    let globalRequest;\n    let globalResponse;\n    let normalizedOptions;\n    const emitter = new EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        onCancel(() => {\n            globalRequest.destroy();\n        });\n        onCancel.shouldReject = false;\n        onCancel(() => {\n            reject(new CancelError(globalRequest));\n        });\n        const makeRequest = (retryCount) => {\n            // Errors when a new request is made after the promise settles.\n            // Used to detect a race condition.\n            // See https://github.com/sindresorhus/got/issues/1489\n            onCancel(() => { });\n            const request = firstRequest ?? new Request(undefined, undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            globalRequest = request;\n            request.once('response', async (response) => {\n                // Parse body\n                const contentEncoding = (response.headers['content-encoding'] ?? '').toLowerCase();\n                const isCompressed = contentEncoding === 'gzip' || contentEncoding === 'deflate' || contentEncoding === 'br';\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = response.rawBody;\n                }\n                else {\n                    try {\n                        response.body = parseBody(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fall back to `utf8`\n                        response.body = response.rawBody.toString();\n                        if (isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    const hooks = options.hooks.afterResponse;\n                    for (const [index, hook] of hooks.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            options.merge(updatedOptions);\n                            options.prefixUrl = '';\n                            if (updatedOptions.url) {\n                                options.url = updatedOptions.url;\n                            }\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            options.hooks.afterResponse = options.hooks.afterResponse.slice(0, index);\n                            throw new RetryError(request);\n                        });\n                        if (!(is.object(response) && is.number(response.statusCode) && !is.nullOrUndefined(response.body))) {\n                            throw new TypeError('The `afterResponse` hook returned an invalid value');\n                        }\n                    }\n                }\n                catch (error) {\n                    request._beforeError(error);\n                    return;\n                }\n                globalResponse = response;\n                if (!isResponseOk(response)) {\n                    request._beforeError(new HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    request.destroy();\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options?.body;\n            request.once('retry', (newRetryCount, error) => {\n                firstRequest = undefined;\n                const newBody = request.options.body;\n                if (previousBody === newBody && is.nodeStream(newBody)) {\n                    error.message = 'Cannot retry with consumed body stream';\n                    onError(error);\n                    return;\n                }\n                // This is needed! We need to reuse `request.options` because they can get modified!\n                // For example, by calling `promise.json()`.\n                normalizedOptions = request.options;\n                makeRequest(newRetryCount);\n            });\n            proxyEvents(request, emitter, proxiedRequestEvents);\n            if (is.undefined(firstRequest)) {\n                void request.flush();\n            }\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    promise.off = (event, fn) => {\n        emitter.off(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parseBody(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        if (globalRequest.options) {\n            const { headers } = globalRequest.options;\n            if (!globalRequest.writableFinished && !('accept' in headers)) {\n                headers.accept = 'application/json';\n            }\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\n", "export class CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\n// TODO: Use private class fields when ESLint 8 is out.\n\nexport default class PCancelable {\n\tstatic fn(userFunction) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFunction(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\texecutor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n", "import is from '@sindresorhus/is';\n// A hacky check to prevent circular references.\nfunction isRequest(x) {\n    return is.object(x) && '_onResponse' in x;\n}\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nexport class RequestError extends Error {\n    constructor(message, error, self) {\n        super(message);\n        Object.defineProperty(this, \"input\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stack\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = error.code ?? 'ERR_GOT_REQUEST_ERROR';\n        this.input = error.input;\n        if (isRequest(self)) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self,\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self.response,\n            });\n            this.options = self.options;\n        }\n        else {\n            this.options = self;\n        }\n        this.timings = this.request?.timings;\n        // Recover the original stacktrace\n        if (is.string(error.stack) && is.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length > 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nexport class MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport class HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nexport class CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nexport class UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nexport class TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nexport class ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\n/**\nAn error which always triggers a new retry when thrown.\n*/\nexport class RetryError extends RequestError {\n    constructor(request) {\n        super('Retrying', {}, request);\n        this.name = 'RetryError';\n        this.code = 'ERR_RETRYING';\n    }\n}\n/**\nAn error to be thrown when the request is aborted by AbortController.\n*/\nexport class AbortError extends RequestError {\n    constructor(request) {\n        super('This operation was aborted.', {}, request);\n        this.code = 'ERR_ABORTED';\n        this.name = 'AbortError';\n    }\n}\n", "import process from 'node:process';\nimport { Buffer } from 'node:buffer';\nimport { Duplex } from 'node:stream';\nimport { URL, URLSearchParams } from 'node:url';\nimport http, { ServerResponse } from 'node:http';\nimport timer from '@szmarczak/http-timer';\nimport CacheableRequest, { CacheError as CacheableCacheError, } from 'cacheable-request';\nimport decompressResponse from 'decompress-response';\nimport is from '@sindresorhus/is';\nimport getStream from 'get-stream';\nimport { FormDataEncoder, isFormData as isFormDataLike } from 'form-data-encoder';\nimport getBodySize from './utils/get-body-size.js';\nimport isFormData from './utils/is-form-data.js';\nimport proxyEvents from './utils/proxy-events.js';\nimport timedOut, { TimeoutError as TimedOutTimeoutError } from './timed-out.js';\nimport urlToOptions from './utils/url-to-options.js';\nimport WeakableMap from './utils/weakable-map.js';\nimport calculateRetryDelay from './calculate-retry-delay.js';\nimport Options from './options.js';\nimport { isResponseOk } from './response.js';\nimport isClientRequest from './utils/is-client-request.js';\nimport isUnixSocketURL from './utils/is-unix-socket-url.js';\nimport { RequestError, ReadError, MaxRedirectsError, HTTPError, TimeoutError, UploadError, CacheError, AbortError, } from './errors.js';\nconst { buffer: getBuffer } = getStream;\nconst supportsBrotli = is.string(process.versions.brotli);\nconst methodsWithoutBody = new Set(['GET', 'HEAD']);\nconst cacheableStore = new WeakableMap();\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n];\nconst noop = () => { };\nexport default class Request extends Duplex {\n    constructor(url, options, defaults) {\n        super({\n            // Don't destroy immediately, as the error may be emitted on unsuccessful retry\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0,\n        });\n        // @ts-expect-error - Ignoring for now.\n        Object.defineProperty(this, 'constructor', {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_noPipe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/9568\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"requestUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"redirectUrls\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retryCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopRetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_downloadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_uploadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopReading\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_pipedServerResponses\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_responseSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_bodySize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_unproxyEvents\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isFromCache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cannotHaveBody\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_triggerRead\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cancelTimeouts\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_removeListeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_nativeResponse\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_flushed\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_aborted\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // We need this because `this._request` if `undefined` when using cache\n        Object.defineProperty(this, \"_requestInitialized\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this._downloadedSize = 0;\n        this._uploadedSize = 0;\n        this._stopReading = false;\n        this._pipedServerResponses = new Set();\n        this._cannotHaveBody = false;\n        this._unproxyEvents = noop;\n        this._triggerRead = false;\n        this._cancelTimeouts = noop;\n        this._removeListeners = noop;\n        this._jobs = [];\n        this._flushed = false;\n        this._requestInitialized = false;\n        this._aborted = false;\n        this.redirectUrls = [];\n        this.retryCount = 0;\n        this._stopRetry = noop;\n        this.on('pipe', (source) => {\n            if (source?.headers) {\n                Object.assign(this.options.headers, source.headers);\n            }\n        });\n        this.on('newListener', event => {\n            if (event === 'retry' && this.listenerCount('retry') > 0) {\n                throw new Error('A retry listener has been attached already.');\n            }\n        });\n        try {\n            this.options = new Options(url, options, defaults);\n            if (!this.options.url) {\n                if (this.options.prefixUrl === '') {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.options.url = '';\n            }\n            this.requestUrl = this.options.url;\n        }\n        catch (error) {\n            const { options } = error;\n            if (options) {\n                this.options = options;\n            }\n            this.flush = async () => {\n                this.flush = async () => { };\n                this.destroy(error);\n            };\n            return;\n        }\n        // Important! If you replace `body` in a handler with another stream, make sure it's readable first.\n        // The below is run only once.\n        const { body } = this.options;\n        if (is.nodeStream(body)) {\n            body.once('error', error => {\n                if (this._flushed) {\n                    this._beforeError(new UploadError(error, this));\n                }\n                else {\n                    this.flush = async () => {\n                        this.flush = async () => { };\n                        this._beforeError(new UploadError(error, this));\n                    };\n                }\n            });\n        }\n        if (this.options.signal) {\n            const abort = () => {\n                this.destroy(new AbortError(this));\n            };\n            if (this.options.signal.aborted) {\n                abort();\n            }\n            else {\n                this.options.signal.addEventListener('abort', abort);\n                this._removeListeners = () => {\n                    this.options.signal.removeEventListener('abort', abort);\n                };\n            }\n        }\n    }\n    async flush() {\n        if (this._flushed) {\n            return;\n        }\n        this._flushed = true;\n        try {\n            await this._finalizeBody();\n            if (this.destroyed) {\n                return;\n            }\n            await this._makeRequest();\n            if (this.destroyed) {\n                this._request?.destroy();\n                return;\n            }\n            // Queued writes etc.\n            for (const job of this._jobs) {\n                job();\n            }\n            // Prevent memory leak\n            this._jobs.length = 0;\n            this._requestInitialized = true;\n        }\n        catch (error) {\n            this._beforeError(error);\n        }\n    }\n    _beforeError(error) {\n        if (this._stopReading) {\n            return;\n        }\n        const { response, options } = this;\n        const attemptCount = this.retryCount + (error.name === 'RetryError' ? 0 : 1);\n        this._stopReading = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        void (async () => {\n            // Node.js parser is really weird.\n            // It emits post-request Parse Errors on the same instance as previous request. WTF.\n            // Therefore we need to check if it has been destroyed as well.\n            //\n            // Furthermore, Node.js 16 `response.destroy()` doesn't immediately destroy the socket,\n            // but makes the response unreadable. So we additionally need to check `response.readable`.\n            if (response?.readable && !response.rawBody && !this._request?.socket?.destroyed) {\n                // @types/node has incorrect typings. `setEncoding` accepts `null` as well.\n                response.setEncoding(this.readableEncoding);\n                const success = await this._setRawBody(response);\n                if (success) {\n                    response.body = response.rawBody.toString();\n                }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    const retryOptions = options.retry;\n                    backoff = await retryOptions.calculateDelay({\n                        attemptCount,\n                        retryOptions,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculateRetryDelay({\n                            attemptCount,\n                            retryOptions,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: retryOptions.maxRetryAfter ?? options.timeout.request ?? Number.POSITIVE_INFINITY,\n                        }),\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    await new Promise(resolve => {\n                        const timeout = setTimeout(resolve, backoff);\n                        this._stopRetry = () => {\n                            clearTimeout(timeout);\n                            resolve();\n                        };\n                    });\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    try {\n                        for (const hook of this.options.hooks.beforeRetry) {\n                            // eslint-disable-next-line no-await-in-loop\n                            await hook(typedError, this.retryCount + 1);\n                        }\n                    }\n                    catch (error_) {\n                        void this._error(new RequestError(error_.message, error, this));\n                        return;\n                    }\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    this.destroy();\n                    this.emit('retry', this.retryCount + 1, error, (updatedOptions) => {\n                        const request = new Request(options.url, updatedOptions, options);\n                        request.retryCount = this.retryCount + 1;\n                        process.nextTick(() => {\n                            void request.flush();\n                        });\n                        return request;\n                    });\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this._triggerRead = true;\n        const { response } = this;\n        if (response && !this._stopReading) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this._triggerRead = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this._downloadedSize += data.length; // eslint-disable-line @typescript-eslint/restrict-plus-operands\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this._requestInitialized) {\n            write();\n        }\n        else {\n            this._jobs.push(write);\n        }\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // We need to check if `this._request` is present,\n            // because it isn't when we use cache.\n            if (!this._request || this._request.destroyed) {\n                callback();\n                return;\n            }\n            this._request.end((error) => {\n                // The request has been destroyed before `_final` finished.\n                // See https://github.com/nodejs/node/issues/39356\n                if (this._request._writableState?.errored) {\n                    return;\n                }\n                if (!error) {\n                    this._bodySize = this._uploadedSize;\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this._request.emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this._requestInitialized) {\n            endRequest();\n        }\n        else {\n            this._jobs.push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        this._stopReading = true;\n        this.flush = async () => { };\n        // Prevent further retries\n        this._stopRetry();\n        this._cancelTimeouts();\n        this._removeListeners();\n        if (this.options) {\n            const { body } = this.options;\n            if (is.nodeStream(body)) {\n                body.destroy();\n            }\n        }\n        if (this._request) {\n            this._request.destroy();\n        }\n        if (error !== null && !is.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    pipe(destination, options) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is.undefined(options.form);\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const isJSON = !is.undefined(options.json);\n        const isBody = !is.undefined(options.body);\n        const cannotHaveBody = methodsWithoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (isForm || isJSON || isBody) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            // Serialize body\n            const noContentType = !is.string(headers['content-type']);\n            if (isBody) {\n                // Body is spec-compliant FormData\n                if (isFormDataLike(options.body)) {\n                    const encoder = new FormDataEncoder(options.body);\n                    if (noContentType) {\n                        headers['content-type'] = encoder.headers['Content-Type'];\n                    }\n                    if ('Content-Length' in encoder.headers) {\n                        headers['content-length'] = encoder.headers['Content-Length'];\n                    }\n                    options.body = encoder.encode();\n                }\n                // Special case for https://github.com/form-data/form-data\n                if (isFormData(options.body) && noContentType) {\n                    headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                }\n            }\n            else if (isForm) {\n                if (noContentType) {\n                    headers['content-type'] = 'application/x-www-form-urlencoded';\n                }\n                const { form } = options;\n                options.form = undefined;\n                options.body = (new URLSearchParams(form)).toString();\n            }\n            else {\n                if (noContentType) {\n                    headers['content-type'] = 'application/json';\n                }\n                const { json } = options;\n                options.json = undefined;\n                options.body = options.stringifyJson(json);\n            }\n            const uploadBodySize = await getBodySize(options.body, options.headers);\n            // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n            // A user agent SHOULD send a Content-Length in a request message when\n            // no Transfer-Encoding is sent and the request method defines a meaning\n            // for an enclosed payload body.  For example, a Content-Length header\n            // field is normally sent in a POST request even when the value is 0\n            // (indicating an empty payload body).  A user agent SHOULD NOT send a\n            // Content-Length header field when the request message does not contain\n            // a payload body and the method semantics do not anticipate such a\n            // body.\n            if (is.undefined(headers['content-length']) && is.undefined(headers['transfer-encoding']) && !cannotHaveBody && !is.undefined(uploadBodySize)) {\n                headers['content-length'] = String(uploadBodySize);\n            }\n        }\n        if (options.responseType === 'json' && !('accept' in options.headers)) {\n            options.headers.accept = 'application/json';\n        }\n        this._bodySize = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        // This will be called e.g. when using cache so we need to check if this request has been aborted.\n        if (this.isAborted) {\n            return;\n        }\n        const { options } = this;\n        const { url } = options;\n        this._nativeResponse = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ?? http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirectUrls;\n        typedResponse.request = this;\n        typedResponse.isFromCache = this._nativeResponse.fromCache ?? false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        typedResponse.ok = isResponseOk(typedResponse);\n        this._isFromCache = typedResponse.isFromCache;\n        this._responseSize = Number(response.headers['content-length']) || undefined;\n        this.response = typedResponse;\n        response.once('end', () => {\n            this._responseSize = this._downloadedSize;\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._aborted = true;\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET',\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (promise) => {\n                    try {\n                        await promise;\n                    }\n                    catch { }\n                });\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        // The above is running a promise, therefore we need to check if this request has been aborted yet again.\n        if (this.isAborted) {\n            return;\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            this._cancelTimeouts();\n            this._unproxyEvents();\n            if (this.redirectUrls.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            this._request = undefined;\n            const updatedOptions = new Options(undefined, undefined, this.options);\n            const serverRequestedGet = statusCode === 303 && updatedOptions.method !== 'GET' && updatedOptions.method !== 'HEAD';\n            const canRewrite = statusCode !== 307 && statusCode !== 308;\n            const userRequestedGet = updatedOptions.methodRewriting && canRewrite;\n            if (serverRequestedGet || userRequestedGet) {\n                updatedOptions.method = 'GET';\n                updatedOptions.body = undefined;\n                updatedOptions.json = undefined;\n                updatedOptions.form = undefined;\n                delete updatedOptions.headers['content-length'];\n            }\n            try {\n                // We need this in order to support UTF-8\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                const redirectUrl = new URL(redirectBuffer, url);\n                if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                    this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in updatedOptions.headers) {\n                        delete updatedOptions.headers.host;\n                    }\n                    if ('cookie' in updatedOptions.headers) {\n                        delete updatedOptions.headers.cookie;\n                    }\n                    if ('authorization' in updatedOptions.headers) {\n                        delete updatedOptions.headers.authorization;\n                    }\n                    if (updatedOptions.username || updatedOptions.password) {\n                        updatedOptions.username = '';\n                        updatedOptions.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = updatedOptions.username;\n                    redirectUrl.password = updatedOptions.password;\n                }\n                this.redirectUrls.push(redirectUrl);\n                updatedOptions.prefixUrl = '';\n                updatedOptions.url = redirectUrl;\n                for (const hook of updatedOptions.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(updatedOptions, typedResponse);\n                }\n                this.emit('redirect', updatedOptions, typedResponse);\n                this.options = updatedOptions;\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        // `HTTPError`s always have `error.response.body` defined.\n        // Therefore we cannot retry if `options.throwHttpErrors` is false.\n        // On the last retry, if `options.throwHttpErrors` is false, we would need to return the body,\n        // but that wouldn't be possible since the body would be already read in `error.response.body`.\n        if (options.isStream && options.throwHttpErrors && !isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this._triggerRead) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        if (this._noPipe) {\n            const success = await this._setRawBody();\n            if (success) {\n                this.emit('response', response);\n            }\n            return;\n        }\n        this.emit('response', response);\n        for (const destination of this._pipedServerResponses) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _setRawBody(from = this) {\n        if (from.readableEnded) {\n            return false;\n        }\n        try {\n            // Errors are emitted via the `error` event\n            const rawBody = await getBuffer(from);\n            // On retry Request is destroyed with no error, therefore the above will successfully resolve.\n            // So in order to check if this was really successfull, we need to check if it has been properly ended.\n            if (!this.isAborted) {\n                this.response.rawBody = rawBody;\n                return true;\n            }\n        }\n        catch { }\n        return false;\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        timer(request);\n        if (this.options.http2) {\n            // Unset stream timeout, as the `timeout` option was used only for connection timeout.\n            request.setTimeout(0);\n        }\n        this._cancelTimeouts = timedOut(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            error = error instanceof TimedOutTimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this._unproxyEvents = proxyEvents(request, this, proxiedRequestEvents);\n        this._request = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        this._sendBody();\n        this.emit('request', request);\n    }\n    async _asyncWrite(chunk) {\n        return new Promise((resolve, reject) => {\n            super.write(chunk, error => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve();\n            });\n        });\n    }\n    _sendBody() {\n        // Send body\n        const { body } = this.options;\n        const currentRequest = this.redirectUrls.length === 0 ? this : this._request ?? this;\n        if (is.nodeStream(body)) {\n            body.pipe(currentRequest);\n        }\n        else if (is.generator(body) || is.asyncGenerator(body)) {\n            (async () => {\n                try {\n                    for await (const chunk of body) {\n                        await this._asyncWrite(chunk);\n                    }\n                    super.end();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                }\n            })();\n        }\n        else if (!is.undefined(body)) {\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (this._cannotHaveBody || this._noPipe) {\n            currentRequest.end();\n        }\n    }\n    _prepareCache(cache) {\n        if (!cacheableStore.has(cache)) {\n            const cacheableRequest = new CacheableRequest(((requestOptions, handler) => {\n                const result = requestOptions._request(requestOptions, handler);\n                // TODO: remove this when `cacheable-request` supports async request functions.\n                if (is.promise(result)) {\n                    // We only need to implement the error handler in order to support HTTP2 caching.\n                    // The result will be a promise anyway.\n                    // @ts-expect-error ignore\n                    // eslint-disable-next-line @typescript-eslint/promise-function-async\n                    result.once = (event, handler) => {\n                        if (event === 'error') {\n                            (async () => {\n                                try {\n                                    await result;\n                                }\n                                catch (error) {\n                                    handler(error);\n                                }\n                            })();\n                        }\n                        else if (event === 'abort') {\n                            // The empty catch is needed here in case when\n                            // it rejects before it's `await`ed in `_makeRequest`.\n                            (async () => {\n                                try {\n                                    const request = (await result);\n                                    request.once('abort', handler);\n                                }\n                                catch { }\n                            })();\n                        }\n                        else {\n                            /* istanbul ignore next: safety check */\n                            throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                        }\n                        return result;\n                    };\n                }\n                return result;\n            }), cache);\n            cacheableStore.set(cache, cacheableRequest.request());\n        }\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, urlToOptions(url));\n            let request;\n            // TODO: Fix `cacheable-response`. This is ugly.\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    const fix = () => {\n                        if (response.req) {\n                            response.complete = response.req.res.complete;\n                        }\n                    };\n                    response.prependOnceListener('end', fix);\n                    fix();\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        const { options } = this;\n        const { headers, username, password } = options;\n        const cookieJar = options.cookieJar;\n        for (const key in headers) {\n            if (is.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        if (username || password) {\n            const credentials = Buffer.from(`${username}:${password}`).toString('base64');\n            headers.authorization = `Basic ${credentials}`;\n        }\n        // Set cookies\n        if (cookieJar) {\n            const cookieString = await cookieJar.getCookieString(options.url.toString());\n            if (is.nonEmptyString(cookieString)) {\n                headers.cookie = cookieString;\n            }\n        }\n        // Reset `prefixUrl`\n        options.prefixUrl = '';\n        let request;\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                request = () => result;\n                break;\n            }\n        }\n        if (!request) {\n            request = options.getRequestFunction();\n        }\n        const url = options.url;\n        this._requestOptions = options.createNativeRequestOptions();\n        if (options.cache) {\n            this._requestOptions._request = request;\n            this._requestOptions.cache = options.cache;\n            this._requestOptions.body = options.body;\n            this._prepareCache(options.cache);\n        }\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : request;\n        try {\n            // We can't do `await fn(...)`,\n            // because stream `error` event can be emitted before `Promise.resolve()`.\n            let requestOrResponse = fn(url, this._requestOptions);\n            if (is.promise(requestOrResponse)) {\n                requestOrResponse = await requestOrResponse;\n            }\n            // Fallback\n            if (is.undefined(requestOrResponse)) {\n                requestOrResponse = options.getFallbackRequestFunction()(url, this._requestOptions);\n                if (is.promise(requestOrResponse)) {\n                    requestOrResponse = await requestOrResponse;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._sendBody();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableCacheError) {\n                throw new CacheError(error, this);\n            }\n            throw error;\n        }\n    }\n    async _error(error) {\n        try {\n            if (error instanceof HTTPError && !this.options.throwHttpErrors) {\n                // This branch can be reached only when using the Promise API\n                // Skip calling the hooks on purpose.\n                // See https://github.com/sindresorhus/got/issues/2103\n            }\n            else {\n                for (const hook of this.options.hooks.beforeError) {\n                    // eslint-disable-next-line no-await-in-loop\n                    error = await hook(error);\n                }\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (!this._request || this._request.destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._request.write(chunk, encoding, (error) => {\n            // The `!destroyed` check is required to prevent `uploadProgress` being emitted after the stream was destroyed\n            if (!error && !this._request.destroyed) {\n                this._uploadedSize += Buffer.byteLength(chunk, encoding);\n                const progress = this.uploadProgress;\n                if (progress.percent < 1) {\n                    this.emit('uploadProgress', progress);\n                }\n            }\n            callback(error);\n        });\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        return this.socket?.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get isAborted() {\n        return this._aborted;\n    }\n    get socket() {\n        return this._request?.socket ?? undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this._responseSize) {\n            percent = this._downloadedSize / this._responseSize;\n        }\n        else if (this._responseSize === this._downloadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._downloadedSize,\n            total: this._responseSize,\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this._bodySize) {\n            percent = this._uploadedSize / this._bodySize;\n        }\n        else if (this._bodySize === this._uploadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._uploadedSize,\n            total: this._bodySize,\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        return this._request?.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this._isFromCache;\n    }\n    get reusedSocket() {\n        return this._request?.reusedSocket;\n    }\n}\n", "import { errorMonitor } from 'events';\nimport { types } from 'util';\nimport deferToConnect from 'defer-to-connect';\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined,\n        },\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        origin.once(errorMonitor, () => {\n            timings.error = Date.now();\n            timings.phases.total = timings.error - timings.start;\n        });\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        timings.phases.total = timings.abort - timings.start;\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        deferToConnect(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            },\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - (timings.secureConnect ?? timings.connect);\n    };\n    if (request.writableFinished) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            request.off('abort', onAbort);\n            response.off('aborted', onAbort);\n            if (timings.phases.total) {\n                // Aborted or errored\n                return;\n            }\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexport default timer;\n", "import EventEmitter from 'node:events';\nimport urlLib from 'node:url';\nimport crypto from 'node:crypto';\nimport stream, {PassThrough as PassThroughStream} from 'node:stream';\nimport {IncomingMessage} from 'node:http';\nimport normalizeUrl from 'normalize-url';\nimport getStream from 'get-stream';\nimport CachePolicy from 'http-cache-semantics';\nimport Response from 'responselike';\nimport Keyv from 'keyv';\nimport mimicResponse from 'mimic-response';\nimport {RequestFn, StorageAdapter, CacheResponse, CacheValue, CacheableOptions, UrlOption, CacheError, RequestError, Emitter, CacheableRequestFunction} from './types.js';\n\ntype Func = (...args: any[]) => any;\n\nclass CacheableRequest {\n\tcache: StorageAdapter;\n\tcacheRequest: RequestFn;\n\thooks: Map<string, Func> = new Map<string, Func>();\n\tconstructor(cacheRequest: RequestFn, cacheAdapter?: StorageAdapter | string) {\n\t\tif (cacheAdapter instanceof Keyv) {\n\t\t\tthis.cache = cacheAdapter;\n\t\t} else if (typeof cacheAdapter === 'string') {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\turi: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\tstore: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t}\n\n\t\tthis.request = this.request.bind(this);\n\t\tthis.cacheRequest = cacheRequest;\n\t}\n\n\trequest = () => (options: CacheableOptions,\n\t\tcb?: (response: CacheResponse) => void): Emitter => {\n\t\tlet url;\n\t\tif (typeof options === 'string') {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options));\n\t\t\toptions = {};\n\t\t} else if (options instanceof urlLib.URL) {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options.toString()));\n\t\t\toptions = {};\n\t\t} else {\n\t\t\tconst [pathname, ...searchParts] = (options.path ?? '').split('?');\n\t\t\tconst search = searchParts.length > 0\n\t\t\t\t? `?${searchParts.join('?')}`\n\t\t\t\t: '';\n\t\t\turl = normalizeUrlObject({...options, pathname, search});\n\t\t}\n\n\t\toptions = {\n\t\t\theaders: {},\n\t\t\tmethod: 'GET',\n\t\t\tcache: true,\n\t\t\tstrictTtl: false,\n\t\t\tautomaticFailover: false,\n\t\t\t...options,\n\t\t\t...urlObjectToRequestOptions(url),\n\t\t};\n\t\toptions.headers = Object.fromEntries(entries(options.headers).map(([key, value]) => [(key as string).toLowerCase(), value]));\n\t\tconst ee: Emitter = new EventEmitter() as Emitter;\n\t\tconst normalizedUrlString = normalizeUrl(urlLib.format(url), {\n\t\t\tstripWWW: false, // eslint-disable-line @typescript-eslint/naming-convention\n\t\t\tremoveTrailingSlash: false,\n\t\t\tstripAuthentication: false,\n\t\t});\n\t\tlet key = `${options.method}:${normalizedUrlString}`;\n\t\t// POST, PATCH, and PUT requests may be cached, depending on the response\n\t\t// cache-control headers. As a result, the body of the request should be\n\t\t// added to the cache key in order to avoid collisions.\n\t\tif (options.body && options.method !== undefined && ['POST', 'PATCH', 'PUT'].includes(options.method)) {\n\t\t\tif (options.body instanceof stream.Readable) {\n\t\t\t\t// Streamed bodies should completely skip the cache because they may\n\t\t\t\t// or may not be hashable and in either case the stream would need to\n\t\t\t\t// close before the cache key could be generated.\n\t\t\t\toptions.cache = false;\n\t\t\t} else {\n\t\t\t\tkey += `:${crypto.createHash('md5').update(options.body).digest('hex')}`;\n\t\t\t}\n\t\t}\n\n\t\tlet revalidate: any = false;\n\t\tlet madeRequest = false;\n\t\tconst makeRequest = (options_: any) => {\n\t\t\tmadeRequest = true;\n\t\t\tlet requestErrored = false;\n\t\t\tlet requestErrorCallback: (...args: any[]) => void = () => {/* do nothing */};\n\n\t\t\tconst requestErrorPromise = new Promise<void>(resolve => {\n\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t\tconst handler = async (response: any) => {\n\t\t\t\tif (revalidate) {\n\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(options_, response);\n\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\tresponse.resume();\n\t\t\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\t\t\t// Skipping 'error' handler cause 'error' event should't be emitted for 304 response\n\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t\t\t.once('end', resolve);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst headers = convertHeaders(revalidatedPolicy.policy.responseHeaders());\n\t\t\t\t\t\tresponse = new Response({statusCode: revalidate.statusCode, headers, body: revalidate.body, url: revalidate.url});\n\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\tresponse.cachePolicy = new CachePolicy(options_, response, options_);\n\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t}\n\n\t\t\t\tlet clonedResponse;\n\t\t\t\tif (options_.cache && response.cachePolicy.storable()) {\n\t\t\t\t\tclonedResponse = cloneResponse(response);\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('close', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\tconst body = await bodyPromise;\n\t\t\t\t\t\t\tlet value: CacheValue = {\n\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet ttl = options_.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\tif (options_.maxTtl) {\n\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, options_.maxTtl) : options_.maxTtl;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.hooks.size > 0) {\n\t\t\t\t\t\t\t\t/* eslint-disable no-await-in-loop */\n\t\t\t\t\t\t\t\tfor (const key_ of this.hooks.keys()) {\n\t\t\t\t\t\t\t\t\tvalue = await this.runHook(key_, value, response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* eslint-enable no-await-in-loop */\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t} else if (options_.cache && revalidate) {\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\n\t\t\t\tee.emit('response', clonedResponse ?? response);\n\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\tcb(clonedResponse ?? response);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconst request_ = this.cacheRequest(options_, handler);\n\t\t\t\trequest_.once('error', requestErrorCallback);\n\t\t\t\trequest_.once('abort', requestErrorCallback);\n\t\t\t\trequest_.once('destroy', requestErrorCallback);\n\t\t\t\tee.emit('request', request_);\n\t\t\t} catch (error: any) {\n\t\t\t\tee.emit('error', new RequestError(error));\n\t\t\t}\n\t\t};\n\n\t\t(async () => {\n\t\t\tconst get = async (options_: any) => {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tconst cacheEntry = options_.cache ? await this.cache.get(key) : undefined;\n\n\t\t\t\tif (cacheEntry === undefined && !options_.forceRefresh) {\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\tif (policy.satisfiesWithoutRevalidation(options_) && !options_.forceRefresh) {\n\t\t\t\t\tconst headers = convertHeaders(policy.responseHeaders());\n\t\t\t\t\tconst response: any = new Response({statusCode: cacheEntry.statusCode, headers, body: cacheEntry.body, url: cacheEntry.url});\n\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(response);\n\t\t\t\t\t}\n\t\t\t\t} else if (policy.satisfiesWithoutRevalidation(options_) && Date.now() >= policy.timeToLive() && options_.forceRefresh) {\n\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t} else {\n\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst errorHandler = (error: Error) => ee.emit('error', new CacheError(error));\n\t\t\tif (this.cache instanceof Keyv) {\n\t\t\t\tconst cachek = this.cache;\n\t\t\t\tcachek.once('error', errorHandler);\n\t\t\t\tee.on('error', () => cachek.removeListener('error', errorHandler));\n\t\t\t\tee.on('response', () => cachek.removeListener('error', errorHandler));\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait get(options);\n\t\t\t} catch (error: any) {\n\t\t\t\tif (options.automaticFailover && !madeRequest) {\n\t\t\t\t\tmakeRequest(options);\n\t\t\t\t}\n\n\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t}\n\t\t})();\n\n\t\treturn ee;\n\t};\n\n\taddHook = (name: string, fn: Func) => {\n\t\tif (!this.hooks.has(name)) {\n\t\t\tthis.hooks.set(name, fn);\n\t\t}\n\t};\n\n\tremoveHook = (name: string) => this.hooks.delete(name);\n\n\tgetHook = (name: string) => this.hooks.get(name);\n\n\trunHook = async (name: string, ...args: any[]): Promise<CacheValue> => this.hooks.get(name)?.(...args);\n}\n\nconst entries = Object.entries as <T>(object: T) => Array<[keyof T, T[keyof T]]>;\n\nconst cloneResponse = (response: IncomingMessage) => {\n\tconst clone = new PassThroughStream({autoDestroy: false});\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nconst urlObjectToRequestOptions = (url: any) => {\n\tconst options: UrlOption = {...url};\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n};\n\nconst normalizeUrlObject = (url: any) =>\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\t({\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search,\n\t});\n\nconst convertHeaders = (headers: CachePolicy.Headers) => {\n\tconst result: any = [];\n\tfor (const name of Object.keys(headers)) {\n\t\tresult[name.toLowerCase()] = headers[name];\n\t}\n\n\treturn result;\n};\n\nexport default CacheableRequest;\nexport * from './types.js';\nexport const onResponse = 'onResponse';\n", "// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n\nconst supportedProtocols = new Set([\n\t'https:',\n\t'http:',\n\t'file:',\n]);\n\nconst hasCustomProtocol = urlString => {\n\ttry {\n\t\tconst {protocol} = new URL(urlString);\n\t\treturn protocol.endsWith(':') && !supportedProtocols.has(protocol);\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = mediaType.shift()?.toLowerCase() ?? '';\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes,\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length > 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nexport default function normalizeUrl(urlString, options) {\n\toptions = {\n\t\tdefaultProtocol: 'http',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tremoveExplicitPort: false,\n\t\tsortQueryParameters: true,\n\t\t...options,\n\t};\n\n\t// Legacy: Append `:` to the protocol if missing.\n\tif (typeof options.defaultProtocol === 'string' && !options.defaultProtocol.endsWith(':')) {\n\t\toptions.defaultProtocol = `${options.defaultProtocol}:`;\n\t}\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (hasCustomProtocol(urlString)) {\n\t\treturn urlString;\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObject = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObject.protocol === 'https:') {\n\t\turlObject.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObject.protocol === 'http:') {\n\t\turlObject.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObject.username = '';\n\t\turlObject.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObject.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObject.hash = urlObject.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\t// NOTE: This could be implemented using a single negative lookbehind\n\t// regex, but we avoid that to maintain compatibility with older js engines\n\t// which do not have support for that feature.\n\tif (urlObject.pathname) {\n\t\t// TODO: Replace everything below with `urlObject.pathname = urlObject.pathname.replace(/(?<!\\b[a-z][a-z\\d+\\-.]{1,50}:)\\/{2,}/g, '/');` when Safari supports negative lookbehind.\n\n\t\t// Split the string by occurrences of this protocol regex, and perform\n\t\t// duplicate-slash replacement on the strings between those occurrences\n\t\t// (if any).\n\t\tconst protocolRegex = /\\b[a-z][a-z\\d+\\-.]{1,50}:\\/\\//g;\n\n\t\tlet lastIndex = 0;\n\t\tlet result = '';\n\t\tfor (;;) {\n\t\t\tconst match = protocolRegex.exec(urlObject.pathname);\n\t\t\tif (!match) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst protocol = match[0];\n\t\t\tconst protocolAtIndex = match.index;\n\t\t\tconst intermediate = urlObject.pathname.slice(lastIndex, protocolAtIndex);\n\n\t\t\tresult += intermediate.replace(/\\/{2,}/g, '/');\n\t\t\tresult += protocol;\n\t\t\tlastIndex = protocolAtIndex + protocol.length;\n\t\t}\n\n\t\tconst remnant = urlObject.pathname.slice(lastIndex, urlObject.pathname.length);\n\t\tresult += remnant.replace(/\\/{2,}/g, '/');\n\n\t\turlObject.pathname = result;\n\t}\n\n\t// Decode URI octets\n\tif (urlObject.pathname) {\n\t\ttry {\n\t\t\turlObject.pathname = decodeURI(urlObject.pathname);\n\t\t} catch {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObject.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, -1);\n\t\t\turlObject.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\tif (urlObject.hostname) {\n\t\t// Remove trailing dot\n\t\turlObject.hostname = urlObject.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)[a-z\\-\\d]{1,63}\\.[a-z.\\-\\d]{2,63}$/.test(urlObject.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObject.hostname = urlObject.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!Array.isArray(options.keepQueryParameters) && options.removeQueryParameters === true) {\n\t\turlObject.search = '';\n\t}\n\n\t// Keep wanted query parameters\n\tif (Array.isArray(options.keepQueryParameters) && options.keepQueryParameters.length > 0) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (!testParameter(key, options.keepQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\turlObject.searchParams.sort();\n\n\t\t// Calling `.sort()` encodes the search parameters, so we need to decode them again.\n\t\ttry {\n\t\t\turlObject.search = decodeURIComponent(urlObject.search);\n\t\t} catch {}\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObject.pathname = urlObject.pathname.replace(/\\/$/, '');\n\t}\n\n\t// Remove an explicit port number, excluding a default port number, if applicable\n\tif (options.removeExplicitPort && urlObject.port) {\n\t\turlObject.port = '';\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObject.toString();\n\n\tif (!options.removeSingleSlash && urlObject.pathname === '/' && !oldUrlString.endsWith('/') && urlObject.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObject.pathname === '/') && urlObject.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n}\n", "import {Readable as ReadableStream} from 'node:stream';\nimport lowercaseKeys from 'lowercase-keys';\n\nexport default class Response extends ReadableStream {\n\tstatusCode;\n\theaders;\n\tbody;\n\turl;\n\n\tconstructor({statusCode, headers, body, url}) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\n\t\tif (!(body instanceof Uint8Array)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tsuper({\n\t\t\tread() {\n\t\t\t\tthis.push(body);\n\t\t\t\tthis.push(null);\n\t\t\t},\n\t\t});\n\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t}\n}\n", "export default function lowercaseKeys(object) {\n\treturn Object.fromEntries(Object.entries(object).map(([key, value]) => [key.toLowerCase(), value]));\n}\n", "// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url',\n];\n\nexport default function mimicResponse(fromStream, toStream) {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set([...Object.keys(fromStream), ...knownProperties]);\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n}\n", "// Type definitions for cacheable-request 6.0\n// Project: https://github.com/lukechilds/cacheable-request#readme\n// Definitions by: BendingBender <https://github.com/BendingBender>\n//                 Paul Melnikow <https://github.com/paulmelnikow>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 2.3\n\n/// <reference types=\"node\" />\n\nimport {request, RequestOptions, ClientRequest, ServerResponse} from 'node:http';\nimport {URL} from 'node:url';\nimport {EventEmitter} from 'node:events';\nimport {Buffer} from 'node:buffer';\nimport {Store} from 'keyv';\nimport ResponseLike from 'responselike';\nimport {CachePolicyObject} from 'http-cache-semantics';\n\nexport type RequestFn = typeof request;\nexport type RequestFunction = typeof request;\nexport type CacheResponse = ServerResponse | typeof ResponseLike;\n\nexport type CacheableRequestFunction = (\n\toptions: CacheableOptions,\n\tcb?: (response: CacheResponse) => void\n) => Emitter;\n\nexport type CacheableOptions = Options & RequestOptions | string | URL;\n\nexport type StorageAdapter = Store<any>;\n\nexport interface Options {\n\t/**\n\t\t\t * If the cache should be used. Setting this to `false` will completely bypass the cache for the current request.\n\t\t\t * @default true\n\t\t\t */\n\tcache?: boolean | undefined;\n\n\t/**\n\t\t\t * If set to `true` once a cached resource has expired it is deleted and will have to be re-requested.\n\t\t\t *\n\t\t\t * If set to `false`, after a cached resource's TTL expires it is kept in the cache and will be revalidated\n\t\t\t * on the next request with `If-None-Match`/`If-Modified-Since` headers.\n\t\t\t * @default false\n\t\t\t */\n\tstrictTtl?: boolean | undefined;\n\n\t/**\n\t\t\t * Limits TTL. The `number` represents milliseconds.\n\t\t\t * @default undefined\n\t\t\t */\n\tmaxTtl?: number | undefined;\n\n\t/**\n\t\t\t * When set to `true`, if the DB connection fails we will automatically fallback to a network request.\n\t\t\t * DB errors will still be emitted to notify you of the problem even though the request callback may succeed.\n\t\t\t * @default false\n\t\t\t */\n\tautomaticFailover?: boolean | undefined;\n\n\t/**\n * Forces refreshing the cache. If the response could be retrieved from the cache, it will perform a\n * new request and override the cache instead.\n * @default false\n */\n\tforceRefresh?: boolean | undefined;\n\tremoteAddress?: boolean | undefined;\n\n\turl?: string | undefined;\n\n\theaders?: Record<string, string | string[] | undefined>;\n\n\tbody?: Buffer;\n}\n\nexport interface CacheValue extends Record<string, any> {\n\turl: string;\n\tstatusCode: number;\n\tbody: Buffer | string;\n\tcachePolicy: CachePolicyObject;\n}\n\nexport interface Emitter extends EventEmitter {\n\taddListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\taddListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\taddListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\ton(event: 'request', listener: (request: ClientRequest) => void): this;\n\ton(event: 'response', listener: (response: CacheResponse) => void): this;\n\ton(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tonce(event: 'request', listener: (request: ClientRequest) => void): this;\n\tonce(event: 'response', listener: (response: CacheResponse) => void): this;\n\tonce(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependOnceListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependOnceListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependOnceListener(\n\t\tevent: 'error',\n\t\tlistener: (error: RequestError | CacheError) => void\n\t): this;\n\tremoveListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tremoveListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tremoveListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\toff(event: 'request', listener: (request: ClientRequest) => void): this;\n\toff(event: 'response', listener: (response: CacheResponse) => void): this;\n\toff(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tremoveAllListeners(event?: 'request' | 'response' | 'error'): this;\n\tlisteners(event: 'request'): Array<(request: ClientRequest) => void>;\n\tlisteners(event: 'response'): Array<(response: CacheResponse) => void>;\n\tlisteners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\trawListeners(event: 'request'): Array<(request: ClientRequest) => void>;\n\trawListeners(event: 'response'): Array<(response: CacheResponse) => void>;\n\trawListeners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\temit(event: 'request', request: ClientRequest): boolean;\n\temit(event: 'response', response: CacheResponse): boolean;\n\temit(event: 'error', error: RequestError | CacheError): boolean;\n\teventNames(): Array<'request' | 'response' | 'error'>;\n\tlistenerCount(type: 'request' | 'response' | 'error'): number;\n}\n\nexport class RequestError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\nexport class CacheError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\n\nexport interface UrlOption {\n\tpath: string;\n\tpathname?: string;\n\tsearch?: string;\n}\n", "export const isFunction = (value) => (typeof value === \"function\");\n", "import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = (value) => (isFunction(value[Symbol.asyncIterator]));\nasync function* readStream(readable) {\n    const reader = readable.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield value;\n    }\n}\nexport const getStreamIterator = (source) => {\n    if (isAsyncIterable(source)) {\n        return source;\n    }\n    if (isFunction(source.getReader)) {\n        return readStream(source);\n    }\n    throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};\n", "const alphabet = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nexport function createBoundary() {\n    let size = 16;\n    let res = \"\";\n    while (size--) {\n        res += alphabet[(Math.random() * alphabet.length) << 0];\n    }\n    return res;\n}\n", "export const normalizeValue = (value) => String(value)\n    .replace(/\\r|\\n/g, (match, i, str) => {\n    if ((match === \"\\r\" && str[i + 1] !== \"\\n\")\n        || (match === \"\\n\" && str[i - 1] !== \"\\r\")) {\n        return \"\\r\\n\";\n    }\n    return match;\n});\n", "const getType = (value) => (Object.prototype.toString.call(value).slice(8, -1).toLowerCase());\nexport function isPlainObject(value) {\n    if (getType(value) !== \"object\") {\n        return false;\n    }\n    const pp = Object.getPrototypeOf(value);\n    if (pp === null || pp === undefined) {\n        return true;\n    }\n    const Ctor = pp.constructor && pp.constructor.toString();\n    return Ctor === Object.toString();\n}\n", "function getProperty(target, prop) {\n    if (typeof prop === \"string\") {\n        for (const [name, value] of Object.entries(target)) {\n            if (prop.toLowerCase() === name.toLowerCase()) {\n                return value;\n            }\n        }\n    }\n    return undefined;\n}\nexport const proxyHeaders = (object) => new Proxy(object, {\n    get: (target, prop) => getProperty(target, prop),\n    has: (target, prop) => getProperty(target, prop) !== undefined\n});\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFormData = (value) => Boolean(value\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"FormData\"\n    && isFunction(value.append)\n    && isFunction(value.getAll)\n    && isFunction(value.entries)\n    && isFunction(value[Symbol.iterator]));\n", "export const escapeName = (name) => String(name)\n    .replace(/\\r/g, \"%0D\")\n    .replace(/\\n/g, \"%0A\")\n    .replace(/\"/g, \"%22\");\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFile = (value) => Boolean(value\n    && typeof value === \"object\"\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"File\"\n    && isFunction(value.stream)\n    && value.name != null);\nexport const isFileLike = isFile;\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormDataEncoder_instances, _FormDataEncoder_CRLF, _FormDataEncoder_CRLF_BYTES, _FormDataEncoder_CRLF_BYTES_LENGTH, _FormDataEncoder_DASHES, _FormDataEncoder_encoder, _FormDataEncoder_footer, _FormDataEncoder_form, _FormDataEncoder_options, _FormDataEncoder_getFieldHeader, _FormDataEncoder_getContentLength;\nimport { getStreamIterator } from \"./util/getStreamIterator.js\";\nimport { createBoundary } from \"./util/createBoundary.js\";\nimport { normalizeValue } from \"./util/normalizeValue.js\";\nimport { isPlainObject } from \"./util/isPlainObject.js\";\nimport { proxyHeaders } from \"./util/proxyHeaders.js\";\nimport { isFormData } from \"./util/isFormData.js\";\nimport { escapeName } from \"./util/escapeName.js\";\nimport { isFile } from \"./util/isFile.js\";\nconst defaultOptions = {\n    enableAdditionalHeaders: false\n};\nconst readonlyProp = { writable: false, configurable: false };\nexport class FormDataEncoder {\n    constructor(form, boundaryOrOptions, options) {\n        _FormDataEncoder_instances.add(this);\n        _FormDataEncoder_CRLF.set(this, \"\\r\\n\");\n        _FormDataEncoder_CRLF_BYTES.set(this, void 0);\n        _FormDataEncoder_CRLF_BYTES_LENGTH.set(this, void 0);\n        _FormDataEncoder_DASHES.set(this, \"-\".repeat(2));\n        _FormDataEncoder_encoder.set(this, new TextEncoder());\n        _FormDataEncoder_footer.set(this, void 0);\n        _FormDataEncoder_form.set(this, void 0);\n        _FormDataEncoder_options.set(this, void 0);\n        if (!isFormData(form)) {\n            throw new TypeError(\"Expected first argument to be a FormData instance.\");\n        }\n        let boundary;\n        if (isPlainObject(boundaryOrOptions)) {\n            options = boundaryOrOptions;\n        }\n        else {\n            boundary = boundaryOrOptions;\n        }\n        if (!boundary) {\n            boundary = createBoundary();\n        }\n        if (typeof boundary !== \"string\") {\n            throw new TypeError(\"Expected boundary argument to be a string.\");\n        }\n        if (options && !isPlainObject(options)) {\n            throw new TypeError(\"Expected options argument to be an object.\");\n        }\n        __classPrivateFieldSet(this, _FormDataEncoder_form, Array.from(form.entries()), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_options, { ...defaultOptions, ...options }, \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\").byteLength, \"f\");\n        this.boundary = `form-data-boundary-${boundary}`;\n        this.contentType = `multipart/form-data; boundary=${this.boundary}`;\n        __classPrivateFieldSet(this, _FormDataEncoder_footer, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`), \"f\");\n        const headers = {\n            \"Content-Type\": this.contentType\n        };\n        const contentLength = __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getContentLength).call(this);\n        if (contentLength) {\n            this.contentLength = contentLength;\n            headers[\"Content-Length\"] = contentLength;\n        }\n        this.headers = proxyHeaders(Object.freeze(headers));\n        Object.defineProperties(this, {\n            boundary: readonlyProp,\n            contentType: readonlyProp,\n            contentLength: readonlyProp,\n            headers: readonlyProp\n        });\n    }\n    getContentLength() {\n        return this.contentLength == null ? undefined : Number(this.contentLength);\n    }\n    *values() {\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            yield __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value);\n            yield value;\n            yield __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\");\n        }\n        yield __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\");\n    }\n    async *encode() {\n        for (const part of this.values()) {\n            if (isFile(part)) {\n                yield* getStreamIterator(part.stream());\n            }\n            else {\n                yield part;\n            }\n        }\n    }\n    [(_FormDataEncoder_CRLF = new WeakMap(), _FormDataEncoder_CRLF_BYTES = new WeakMap(), _FormDataEncoder_CRLF_BYTES_LENGTH = new WeakMap(), _FormDataEncoder_DASHES = new WeakMap(), _FormDataEncoder_encoder = new WeakMap(), _FormDataEncoder_footer = new WeakMap(), _FormDataEncoder_form = new WeakMap(), _FormDataEncoder_options = new WeakMap(), _FormDataEncoder_instances = new WeakSet(), _FormDataEncoder_getFieldHeader = function _FormDataEncoder_getFieldHeader(name, value) {\n        let header = \"\";\n        header += `${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n        header += `Content-Disposition: form-data; name=\"${escapeName(name)}\"`;\n        if (isFile(value)) {\n            header += `; filename=\"${escapeName(value.name)}\"${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n            header += `Content-Type: ${value.type || \"application/octet-stream\"}`;\n        }\n        const size = isFile(value) ? value.size : value.byteLength;\n        if (__classPrivateFieldGet(this, _FormDataEncoder_options, \"f\").enableAdditionalHeaders === true\n            && size != null\n            && !isNaN(size)) {\n            header += `${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}Content-Length: ${isFile(value) ? value.size : value.byteLength}`;\n        }\n        return __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${header}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`);\n    }, _FormDataEncoder_getContentLength = function _FormDataEncoder_getContentLength() {\n        let length = 0;\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            const size = isFile(value) ? value.size : value.byteLength;\n            if (size == null || isNaN(size)) {\n                return undefined;\n            }\n            length += __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value).byteLength;\n            length += size;\n            length += __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, \"f\");\n        }\n        return String(length + __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\").byteLength);\n    }, Symbol.iterator)]() {\n        return this.values();\n    }\n    [Symbol.asyncIterator]() {\n        return this.encode();\n    }\n}\n", "import { Buffer } from 'node:buffer';\nimport { promisify } from 'node:util';\nimport is from '@sindresorhus/is';\nimport isFormData from './is-form-data.js';\nexport default async function getBodySize(body, headers) {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is.buffer(body)) {\n        return body.length;\n    }\n    if (isFormData(body)) {\n        return promisify(body.getLength.bind(body))();\n    }\n    return undefined;\n}\n", "import is from '@sindresorhus/is';\nexport default function isFormData(body) {\n    return is.nodeStream(body) && is.function_(body.getBoundary);\n}\n", "export default function proxyEvents(from, to, events) {\n    const eventFunctions = {};\n    for (const event of events) {\n        const eventFunction = (...args) => {\n            to.emit(event, ...args);\n        };\n        eventFunctions[event] = eventFunction;\n        from.on(event, eventFunction);\n    }\n    return () => {\n        for (const [event, eventFunction] of Object.entries(eventFunctions)) {\n            from.off(event, eventFunction);\n        }\n    };\n}\n", "import net from 'node:net';\nimport unhandler from './utils/unhandle.js';\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nexport class TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: event\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexport default function timedOut(request, delays, options) {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandler();\n    const addTimeout = (delay, callback, event) => {\n        const timeout = setTimeout(callback, delay, delay, event);\n        timeout.unref?.();\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    if (typeof delays.request !== 'undefined') {\n        const cancelTimeout = addTimeout(delays.request, timeoutHandler, 'request');\n        once(request, 'response', (response) => {\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    if (typeof delays.socket !== 'undefined') {\n        const { socket } = delays;\n        const socketTimeoutHandler = () => {\n            timeoutHandler(socket, 'socket');\n        };\n        request.setTimeout(socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    const hasLookup = typeof delays.lookup !== 'undefined';\n    const hasConnect = typeof delays.connect !== 'undefined';\n    const hasSecureConnect = typeof delays.secureConnect !== 'undefined';\n    const hasSend = typeof delays.send !== 'undefined';\n    if (hasLookup || hasConnect || hasSecureConnect || hasSend) {\n        once(request, 'socket', (socket) => {\n            const { socketPath } = request;\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                const hasPath = Boolean(socketPath ?? net.isIP(hostname ?? host ?? '') !== 0);\n                if (hasLookup && !hasPath && typeof socket.address().address === 'undefined') {\n                    const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                    once(socket, 'lookup', cancelTimeout);\n                }\n                if (hasConnect) {\n                    const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                    if (hasPath) {\n                        once(socket, 'connect', timeConnect());\n                    }\n                    else {\n                        once(socket, 'lookup', (error) => {\n                            if (error === null) {\n                                once(socket, 'connect', timeConnect());\n                            }\n                        });\n                    }\n                }\n                if (hasSecureConnect && options.protocol === 'https:') {\n                    once(socket, 'connect', () => {\n                        const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                        once(socket, 'secureConnect', cancelTimeout);\n                    });\n                }\n            }\n            if (hasSend) {\n                const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n                /* istanbul ignore next: hard to test */\n                if (socket.connecting) {\n                    once(socket, 'connect', () => {\n                        once(request, 'upload-complete', timeRequest());\n                    });\n                }\n                else {\n                    once(request, 'upload-complete', timeRequest());\n                }\n            }\n        });\n    }\n    if (typeof delays.response !== 'undefined') {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    if (typeof delays.read !== 'undefined') {\n        once(request, 'response', (response) => {\n            const cancelTimeout = addTimeout(delays.read, timeoutHandler, 'read');\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n}\n", "// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexport default function unhandle() {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        },\n    };\n}\n", "import is from '@sindresorhus/is';\nexport default function urlToOptions(url) {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`,\n    };\n    if (is.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n}\n", "export default class WeakableMap {\n    constructor() {\n        Object.defineProperty(this, \"weakMap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"map\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\n", "const calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter, computedValue, }) => {\n    if (error.name === 'RetryError') {\n        return 1;\n    }\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            // In this case `computedValue` is `options.request.timeout`\n            if (retryAfter > computedValue) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * retryOptions.noise;\n    return Math.min(((2 ** (attemptCount - 1)) * 1000), retryOptions.backoffLimit) + noise;\n};\nexport default calculateRetryDelay;\n", "import process from 'node:process';\nimport { promisify, inspect } from 'node:util';\nimport { URL, URLSearchParams } from 'node:url';\nimport { checkServerIdentity } from 'node:tls';\n// DO NOT use destructuring for `https.request` and `http.request` as it's not compatible with `nock`.\nimport http from 'node:http';\nimport https from 'node:https';\nimport is, { assert } from '@sindresorhus/is';\nimport lowercaseKeys from 'lowercase-keys';\nimport CacheableLookup from 'cacheable-lookup';\nimport http2wrapper from 'http2-wrapper';\nimport { isFormData } from 'form-data-encoder';\nimport parseLinkHeader from './parse-link-header.js';\nconst [major, minor] = process.versions.node.split('.').map(Number);\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        assert.any([is.string, is.number, is.boolean, is.null_, is.undefined], value);\n    }\n}\nconst globalCache = new Map();\nlet globalDnsCache;\nconst getGlobalDnsCache = () => {\n    if (globalDnsCache) {\n        return globalDnsCache;\n    }\n    globalDnsCache = new CacheableLookup();\n    return globalDnsCache;\n};\nconst defaultInternals = {\n    request: undefined,\n    agent: {\n        http: undefined,\n        https: undefined,\n        http2: undefined,\n    },\n    h2session: undefined,\n    decompress: true,\n    timeout: {\n        connect: undefined,\n        lookup: undefined,\n        read: undefined,\n        request: undefined,\n        response: undefined,\n        secureConnect: undefined,\n        send: undefined,\n        socket: undefined,\n    },\n    prefixUrl: '',\n    body: undefined,\n    form: undefined,\n    json: undefined,\n    cookieJar: undefined,\n    ignoreInvalidCookies: false,\n    searchParams: undefined,\n    dnsLookup: undefined,\n    dnsCache: undefined,\n    context: {},\n    hooks: {\n        init: [],\n        beforeRequest: [],\n        beforeError: [],\n        beforeRedirect: [],\n        beforeRetry: [],\n        afterResponse: [],\n    },\n    followRedirect: true,\n    maxRedirects: 10,\n    cache: undefined,\n    throwHttpErrors: true,\n    username: '',\n    password: '',\n    http2: false,\n    allowGetBody: false,\n    headers: {\n        'user-agent': 'got (https://github.com/sindresorhus/got)',\n    },\n    methodRewriting: false,\n    dnsLookupIpVersion: undefined,\n    parseJson: JSON.parse,\n    stringifyJson: JSON.stringify,\n    retry: {\n        limit: 2,\n        methods: [\n            'GET',\n            'PUT',\n            'HEAD',\n            'DELETE',\n            'OPTIONS',\n            'TRACE',\n        ],\n        statusCodes: [\n            408,\n            413,\n            429,\n            500,\n            502,\n            503,\n            504,\n            521,\n            522,\n            524,\n        ],\n        errorCodes: [\n            'ETIMEDOUT',\n            'ECONNRESET',\n            'EADDRINUSE',\n            'ECONNREFUSED',\n            'EPIPE',\n            'ENOTFOUND',\n            'ENETUNREACH',\n            'EAI_AGAIN',\n        ],\n        maxRetryAfter: undefined,\n        calculateDelay: ({ computedValue }) => computedValue,\n        backoffLimit: Number.POSITIVE_INFINITY,\n        noise: 100,\n    },\n    localAddress: undefined,\n    method: 'GET',\n    createConnection: undefined,\n    cacheOptions: {\n        shared: undefined,\n        cacheHeuristic: undefined,\n        immutableMinTimeToLive: undefined,\n        ignoreCargoCult: undefined,\n    },\n    https: {\n        alpnProtocols: undefined,\n        rejectUnauthorized: undefined,\n        checkServerIdentity: undefined,\n        certificateAuthority: undefined,\n        key: undefined,\n        certificate: undefined,\n        passphrase: undefined,\n        pfx: undefined,\n        ciphers: undefined,\n        honorCipherOrder: undefined,\n        minVersion: undefined,\n        maxVersion: undefined,\n        signatureAlgorithms: undefined,\n        tlsSessionLifetime: undefined,\n        dhparam: undefined,\n        ecdhCurve: undefined,\n        certificateRevocationLists: undefined,\n    },\n    encoding: undefined,\n    resolveBodyOnly: false,\n    isStream: false,\n    responseType: 'text',\n    url: undefined,\n    pagination: {\n        transform(response) {\n            if (response.request.options.responseType === 'json') {\n                return response.body;\n            }\n            return JSON.parse(response.body);\n        },\n        paginate({ response }) {\n            const rawLinkHeader = response.headers.link;\n            if (typeof rawLinkHeader !== 'string' || rawLinkHeader.trim() === '') {\n                return false;\n            }\n            const parsed = parseLinkHeader(rawLinkHeader);\n            const next = parsed.find(entry => entry.parameters.rel === 'next' || entry.parameters.rel === '\"next\"');\n            if (next) {\n                return {\n                    url: new URL(next.reference, response.url),\n                };\n            }\n            return false;\n        },\n        filter: () => true,\n        shouldContinue: () => true,\n        countLimit: Number.POSITIVE_INFINITY,\n        backoff: 0,\n        requestLimit: 10000,\n        stackAllItems: false,\n    },\n    setHost: true,\n    maxHeaderSize: undefined,\n    signal: undefined,\n    enableUnixSockets: true,\n};\nconst cloneInternals = (internals) => {\n    const { hooks, retry } = internals;\n    const result = {\n        ...internals,\n        context: { ...internals.context },\n        cacheOptions: { ...internals.cacheOptions },\n        https: { ...internals.https },\n        agent: { ...internals.agent },\n        headers: { ...internals.headers },\n        retry: {\n            ...retry,\n            errorCodes: [...retry.errorCodes],\n            methods: [...retry.methods],\n            statusCodes: [...retry.statusCodes],\n        },\n        timeout: { ...internals.timeout },\n        hooks: {\n            init: [...hooks.init],\n            beforeRequest: [...hooks.beforeRequest],\n            beforeError: [...hooks.beforeError],\n            beforeRedirect: [...hooks.beforeRedirect],\n            beforeRetry: [...hooks.beforeRetry],\n            afterResponse: [...hooks.afterResponse],\n        },\n        searchParams: internals.searchParams ? new URLSearchParams(internals.searchParams) : undefined,\n        pagination: { ...internals.pagination },\n    };\n    if (result.url !== undefined) {\n        result.prefixUrl = '';\n    }\n    return result;\n};\nconst cloneRaw = (raw) => {\n    const { hooks, retry } = raw;\n    const result = { ...raw };\n    if (is.object(raw.context)) {\n        result.context = { ...raw.context };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...raw.cacheOptions };\n    }\n    if (is.object(raw.https)) {\n        result.https = { ...raw.https };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...result.cacheOptions };\n    }\n    if (is.object(raw.agent)) {\n        result.agent = { ...raw.agent };\n    }\n    if (is.object(raw.headers)) {\n        result.headers = { ...raw.headers };\n    }\n    if (is.object(retry)) {\n        result.retry = { ...retry };\n        if (is.array(retry.errorCodes)) {\n            result.retry.errorCodes = [...retry.errorCodes];\n        }\n        if (is.array(retry.methods)) {\n            result.retry.methods = [...retry.methods];\n        }\n        if (is.array(retry.statusCodes)) {\n            result.retry.statusCodes = [...retry.statusCodes];\n        }\n    }\n    if (is.object(raw.timeout)) {\n        result.timeout = { ...raw.timeout };\n    }\n    if (is.object(hooks)) {\n        result.hooks = {\n            ...hooks,\n        };\n        if (is.array(hooks.init)) {\n            result.hooks.init = [...hooks.init];\n        }\n        if (is.array(hooks.beforeRequest)) {\n            result.hooks.beforeRequest = [...hooks.beforeRequest];\n        }\n        if (is.array(hooks.beforeError)) {\n            result.hooks.beforeError = [...hooks.beforeError];\n        }\n        if (is.array(hooks.beforeRedirect)) {\n            result.hooks.beforeRedirect = [...hooks.beforeRedirect];\n        }\n        if (is.array(hooks.beforeRetry)) {\n            result.hooks.beforeRetry = [...hooks.beforeRetry];\n        }\n        if (is.array(hooks.afterResponse)) {\n            result.hooks.afterResponse = [...hooks.afterResponse];\n        }\n    }\n    // TODO: raw.searchParams\n    if (is.object(raw.pagination)) {\n        result.pagination = { ...raw.pagination };\n    }\n    return result;\n};\nconst getHttp2TimeoutOption = (internals) => {\n    const delays = [internals.timeout.socket, internals.timeout.connect, internals.timeout.lookup, internals.timeout.request, internals.timeout.secureConnect].filter(delay => typeof delay === 'number');\n    if (delays.length > 0) {\n        return Math.min(...delays);\n    }\n    return undefined;\n};\nconst init = (options, withOptions, self) => {\n    const initHooks = options.hooks?.init;\n    if (initHooks) {\n        for (const hook of initHooks) {\n            hook(withOptions, self);\n        }\n    }\n};\nexport default class Options {\n    constructor(input, options, defaults) {\n        Object.defineProperty(this, \"_unixOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_internals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_merging\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_init\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        assert.any([is.string, is.urlInstance, is.object, is.undefined], input);\n        assert.any([is.object, is.undefined], options);\n        assert.any([is.object, is.undefined], defaults);\n        if (input instanceof Options || options instanceof Options) {\n            throw new TypeError('The defaults must be passed as the third argument');\n        }\n        this._internals = cloneInternals(defaults?._internals ?? defaults ?? defaultInternals);\n        this._init = [...(defaults?._init ?? [])];\n        this._merging = false;\n        this._unixOptions = undefined;\n        // This rule allows `finally` to be considered more important.\n        // Meaning no matter the error thrown in the `try` block,\n        // if `finally` throws then the `finally` error will be thrown.\n        //\n        // Yes, we want this. If we set `url` first, then the `url.searchParams`\n        // would get merged. Instead we set the `searchParams` first, then\n        // `url.searchParams` is overwritten as expected.\n        //\n        /* eslint-disable no-unsafe-finally */\n        try {\n            if (is.plainObject(input)) {\n                try {\n                    this.merge(input);\n                    this.merge(options);\n                }\n                finally {\n                    this.url = input.url;\n                }\n            }\n            else {\n                try {\n                    this.merge(options);\n                }\n                finally {\n                    if (options?.url !== undefined) {\n                        if (input === undefined) {\n                            this.url = options.url;\n                        }\n                        else {\n                            throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n                        }\n                    }\n                    else if (input !== undefined) {\n                        this.url = input;\n                    }\n                }\n            }\n        }\n        catch (error) {\n            error.options = this;\n            throw error;\n        }\n        /* eslint-enable no-unsafe-finally */\n    }\n    merge(options) {\n        if (!options) {\n            return;\n        }\n        if (options instanceof Options) {\n            for (const init of options._init) {\n                this.merge(init);\n            }\n            return;\n        }\n        options = cloneRaw(options);\n        init(this, options, this);\n        init(options, options, this);\n        this._merging = true;\n        // Always merge `isStream` first\n        if ('isStream' in options) {\n            this.isStream = options.isStream;\n        }\n        try {\n            let push = false;\n            for (const key in options) {\n                // `got.extend()` options\n                if (key === 'mutableDefaults' || key === 'handlers') {\n                    continue;\n                }\n                // Never merge `url`\n                if (key === 'url') {\n                    continue;\n                }\n                if (!(key in this)) {\n                    throw new Error(`Unexpected option: ${key}`);\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                this[key] = options[key];\n                push = true;\n            }\n            if (push) {\n                this._init.push(options);\n            }\n        }\n        finally {\n            this._merging = false;\n        }\n    }\n    /**\n    Custom request function.\n    The main purpose of this is to [support HTTP2 using a wrapper](https://github.com/szmarczak/http2-wrapper).\n\n    @default http.request | https.request\n    */\n    get request() {\n        return this._internals.request;\n    }\n    set request(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.request = value;\n    }\n    /**\n    An object representing `http`, `https` and `http2` keys for [`http.Agent`](https://nodejs.org/api/http.html#http_class_http_agent), [`https.Agent`](https://nodejs.org/api/https.html#https_class_https_agent) and [`http2wrapper.Agent`](https://github.com/szmarczak/http2-wrapper#new-http2agentoptions) instance.\n    This is necessary because a request to one protocol might redirect to another.\n    In such a scenario, Got will switch over to the right protocol agent for you.\n\n    If a key is not present, it will default to a global agent.\n\n    @example\n    ```\n    import got from 'got';\n    import HttpAgent from 'agentkeepalive';\n\n    const {HttpsAgent} = HttpAgent;\n\n    await got('https://sindresorhus.com', {\n        agent: {\n            http: new HttpAgent(),\n            https: new HttpsAgent()\n        }\n    });\n    ```\n    */\n    get agent() {\n        return this._internals.agent;\n    }\n    set agent(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.agent)) {\n                throw new TypeError(`Unexpected agent option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.object, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.agent, value);\n        }\n        else {\n            this._internals.agent = { ...value };\n        }\n    }\n    get h2session() {\n        return this._internals.h2session;\n    }\n    set h2session(value) {\n        this._internals.h2session = value;\n    }\n    /**\n    Decompress the response automatically.\n\n    This will set the `accept-encoding` header to `gzip, deflate, br` unless you set it yourself.\n\n    If this is disabled, a compressed response is returned as a `Buffer`.\n    This may be useful if you want to handle decompression yourself or stream the raw compressed data.\n\n    @default true\n    */\n    get decompress() {\n        return this._internals.decompress;\n    }\n    set decompress(value) {\n        assert.boolean(value);\n        this._internals.decompress = value;\n    }\n    /**\n    Milliseconds to wait for the server to end the response before aborting the request with `got.TimeoutError` error (a.k.a. `request` property).\n    By default, there's no timeout.\n\n    This also accepts an `object` with the following fields to constrain the duration of each phase of the request lifecycle:\n\n    - `lookup` starts when a socket is assigned and ends when the hostname has been resolved.\n        Does not apply when using a Unix domain socket.\n    - `connect` starts when `lookup` completes (or when the socket is assigned if lookup does not apply to the request) and ends when the socket is connected.\n    - `secureConnect` starts when `connect` completes and ends when the handshaking process completes (HTTPS only).\n    - `socket` starts when the socket is connected. See [request.setTimeout](https://nodejs.org/api/http.html#http_request_settimeout_timeout_callback).\n    - `response` starts when the request has been written to the socket and ends when the response headers are received.\n    - `send` starts when the socket is connected and ends with the request has been written to the socket.\n    - `request` starts when the request is initiated and ends when the response's end event fires.\n    */\n    get timeout() {\n        // We always return `Delays` here.\n        // It has to be `Delays | number`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.timeout;\n    }\n    set timeout(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.timeout)) {\n                throw new Error(`Unexpected timeout option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.number, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.timeout, value);\n        }\n        else {\n            this._internals.timeout = { ...value };\n        }\n    }\n    /**\n    When specified, `prefixUrl` will be prepended to `url`.\n    The prefix can be any valid URL, either relative or absolute.\n    A trailing slash `/` is optional - one will be added automatically.\n\n    __Note__: `prefixUrl` will be ignored if the `url` argument is a URL instance.\n\n    __Note__: Leading slashes in `input` are disallowed when using this option to enforce consistency and avoid confusion.\n    For example, when the prefix URL is `https://example.com/foo` and the input is `/bar`, there's ambiguity whether the resulting URL would become `https://example.com/foo/bar` or `https://example.com/bar`.\n    The latter is used by browsers.\n\n    __Tip__: Useful when used with `got.extend()` to create niche-specific Got instances.\n\n    __Tip__: You can change `prefixUrl` using hooks as long as the URL still includes the `prefixUrl`.\n    If the URL doesn't include it anymore, it will throw.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got('unicorn', {prefixUrl: 'https://cats.com'});\n    //=> 'https://cats.com/unicorn'\n\n    const instance = got.extend({\n        prefixUrl: 'https://google.com'\n    });\n\n    await instance('unicorn', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    options.prefixUrl = 'https://cats.com';\n                }\n            ]\n        }\n    });\n    //=> 'https://cats.com/unicorn'\n    ```\n    */\n    get prefixUrl() {\n        // We always return `string` here.\n        // It has to be `string | URL`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.prefixUrl;\n    }\n    set prefixUrl(value) {\n        assert.any([is.string, is.urlInstance], value);\n        if (value === '') {\n            this._internals.prefixUrl = '';\n            return;\n        }\n        value = value.toString();\n        if (!value.endsWith('/')) {\n            value += '/';\n        }\n        if (this._internals.prefixUrl && this._internals.url) {\n            const { href } = this._internals.url;\n            this._internals.url.href = value + href.slice(this._internals.prefixUrl.length);\n        }\n        this._internals.prefixUrl = value;\n    }\n    /**\n    __Note #1__: The `body` option cannot be used with the `json` or `form` option.\n\n    __Note #2__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #3__: If you provide a payload with the `GET` or `HEAD` method, it will throw a `TypeError` unless the method is `GET` and the `allowGetBody` option is set to `true`.\n\n    __Note #4__: This option is not enumerable and will not be merged with the instance defaults.\n\n    The `content-length` header will be automatically set if `body` is a `string` / `Buffer` / [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) / [`form-data` instance](https://github.com/form-data/form-data), and `content-length` and `transfer-encoding` are not manually set in `options.headers`.\n\n    Since Got 12, the `content-length` is not automatically set when `body` is a `fs.createReadStream`.\n    */\n    get body() {\n        return this._internals.body;\n    }\n    set body(value) {\n        assert.any([is.string, is.buffer, is.nodeStream, is.generator, is.asyncGenerator, isFormData, is.undefined], value);\n        if (is.nodeStream(value)) {\n            assert.truthy(value.readable);\n        }\n        if (value !== undefined) {\n            assert.undefined(this._internals.form);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.body = value;\n    }\n    /**\n    The form body is converted to a query string using [`(new URLSearchParams(object)).toString()`](https://nodejs.org/api/url.html#url_constructor_new_urlsearchparams_obj).\n\n    If the `Content-Type` header is not present, it will be set to `application/x-www-form-urlencoded`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get form() {\n        return this._internals.form;\n    }\n    set form(value) {\n        assert.any([is.plainObject, is.undefined], value);\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.form = value;\n    }\n    /**\n    JSON body. If the `Content-Type` header is not set, it will be set to `application/json`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get json() {\n        return this._internals.json;\n    }\n    set json(value) {\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.form);\n        }\n        this._internals.json = value;\n    }\n    /**\n    The URL to request, as a string, a [`https.request` options object](https://nodejs.org/api/https.html#https_https_request_options_callback), or a [WHATWG `URL`](https://nodejs.org/api/url.html#url_class_url).\n\n    Properties from `options` will override properties in the parsed `url`.\n\n    If no protocol is specified, it will throw a `TypeError`.\n\n    __Note__: The query string is **not** parsed as search params.\n\n    @example\n    ```\n    await got('https://example.com/?query=a b'); //=> https://example.com/?query=a%20b\n    await got('https://example.com/', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n\n    // The query string is overridden by `searchParams`\n    await got('https://example.com/?query=a b', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n    ```\n    */\n    get url() {\n        return this._internals.url;\n    }\n    set url(value) {\n        assert.any([is.string, is.urlInstance, is.undefined], value);\n        if (value === undefined) {\n            this._internals.url = undefined;\n            return;\n        }\n        if (is.string(value) && value.startsWith('/')) {\n            throw new Error('`url` must not start with a slash');\n        }\n        const urlString = `${this.prefixUrl}${value.toString()}`;\n        const url = new URL(urlString);\n        this._internals.url = url;\n        if (url.protocol === 'unix:') {\n            url.href = `http://unix${url.pathname}${url.search}`;\n        }\n        if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n            const error = new Error(`Unsupported protocol: ${url.protocol}`);\n            error.code = 'ERR_UNSUPPORTED_PROTOCOL';\n            throw error;\n        }\n        if (this._internals.username) {\n            url.username = this._internals.username;\n            this._internals.username = '';\n        }\n        if (this._internals.password) {\n            url.password = this._internals.password;\n            this._internals.password = '';\n        }\n        if (this._internals.searchParams) {\n            url.search = this._internals.searchParams.toString();\n            this._internals.searchParams = undefined;\n        }\n        if (url.hostname === 'unix') {\n            if (!this._internals.enableUnixSockets) {\n                throw new Error('Using UNIX domain sockets but option `enableUnixSockets` is not enabled');\n            }\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches?.groups) {\n                const { socketPath, path } = matches.groups;\n                this._unixOptions = {\n                    socketPath,\n                    path,\n                    host: '',\n                };\n            }\n            else {\n                this._unixOptions = undefined;\n            }\n            return;\n        }\n        this._unixOptions = undefined;\n    }\n    /**\n    Cookie support. You don't have to care about parsing or how to store them.\n\n    __Note__: If you provide this option, `options.headers.cookie` will be overridden.\n    */\n    get cookieJar() {\n        return this._internals.cookieJar;\n    }\n    set cookieJar(value) {\n        assert.any([is.object, is.undefined], value);\n        if (value === undefined) {\n            this._internals.cookieJar = undefined;\n            return;\n        }\n        let { setCookie, getCookieString } = value;\n        assert.function_(setCookie);\n        assert.function_(getCookieString);\n        /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n        if (setCookie.length === 4 && getCookieString.length === 0) {\n            setCookie = promisify(setCookie.bind(value));\n            getCookieString = promisify(getCookieString.bind(value));\n            this._internals.cookieJar = {\n                setCookie,\n                getCookieString: getCookieString,\n            };\n        }\n        else {\n            this._internals.cookieJar = value;\n        }\n    }\n    /**\n    You can abort the `request` using [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n\n    *Requires Node.js 16 or later.*\n\n    @example\n    ```\n    import got from 'got';\n\n    const abortController = new AbortController();\n\n    const request = got('https://httpbin.org/anything', {\n        signal: abortController.signal\n    });\n\n    setTimeout(() => {\n        abortController.abort();\n    }, 100);\n    ```\n    */\n    // TODO: Replace `any` with `AbortSignal` when targeting Node 16.\n    get signal() {\n        return this._internals.signal;\n    }\n    // TODO: Replace `any` with `AbortSignal` when targeting Node 16.\n    set signal(value) {\n        assert.object(value);\n        this._internals.signal = value;\n    }\n    /**\n    Ignore invalid cookies instead of throwing an error.\n    Only useful when the `cookieJar` option has been set. Not recommended.\n\n    @default false\n    */\n    get ignoreInvalidCookies() {\n        return this._internals.ignoreInvalidCookies;\n    }\n    set ignoreInvalidCookies(value) {\n        assert.boolean(value);\n        this._internals.ignoreInvalidCookies = value;\n    }\n    /**\n    Query string that will be added to the request URL.\n    This will override the query string in `url`.\n\n    If you need to pass in an array, you can do it using a `URLSearchParams` instance.\n\n    @example\n    ```\n    import got from 'got';\n\n    const searchParams = new URLSearchParams([['key', 'a'], ['key', 'b']]);\n\n    await got('https://example.com', {searchParams});\n\n    console.log(searchParams.toString());\n    //=> 'key=a&key=b'\n    ```\n    */\n    get searchParams() {\n        if (this._internals.url) {\n            return this._internals.url.searchParams;\n        }\n        if (this._internals.searchParams === undefined) {\n            this._internals.searchParams = new URLSearchParams();\n        }\n        return this._internals.searchParams;\n    }\n    set searchParams(value) {\n        assert.any([is.string, is.object, is.undefined], value);\n        const url = this._internals.url;\n        if (value === undefined) {\n            this._internals.searchParams = undefined;\n            if (url) {\n                url.search = '';\n            }\n            return;\n        }\n        const searchParameters = this.searchParams;\n        let updated;\n        if (is.string(value)) {\n            updated = new URLSearchParams(value);\n        }\n        else if (value instanceof URLSearchParams) {\n            updated = value;\n        }\n        else {\n            validateSearchParameters(value);\n            updated = new URLSearchParams();\n            // eslint-disable-next-line guard-for-in\n            for (const key in value) {\n                const entry = value[key];\n                if (entry === null) {\n                    updated.append(key, '');\n                }\n                else if (entry === undefined) {\n                    searchParameters.delete(key);\n                }\n                else {\n                    updated.append(key, entry);\n                }\n            }\n        }\n        if (this._merging) {\n            // These keys will be replaced\n            for (const key of updated.keys()) {\n                searchParameters.delete(key);\n            }\n            for (const [key, value] of updated) {\n                searchParameters.append(key, value);\n            }\n        }\n        else if (url) {\n            url.search = searchParameters.toString();\n        }\n        else {\n            this._internals.searchParams = searchParameters;\n        }\n    }\n    get searchParameters() {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    set searchParameters(_value) {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    get dnsLookup() {\n        return this._internals.dnsLookup;\n    }\n    set dnsLookup(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.dnsLookup = value;\n    }\n    /**\n    An instance of [`CacheableLookup`](https://github.com/szmarczak/cacheable-lookup) used for making DNS lookups.\n    Useful when making lots of requests to different *public* hostnames.\n\n    `CacheableLookup` uses `dns.resolver4(..)` and `dns.resolver6(...)` under the hood and fall backs to `dns.lookup(...)` when the first two fail, which may lead to additional delay.\n\n    __Note__: This should stay disabled when making requests to internal hostnames such as `localhost`, `database.local` etc.\n\n    @default false\n    */\n    get dnsCache() {\n        return this._internals.dnsCache;\n    }\n    set dnsCache(value) {\n        assert.any([is.object, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.dnsCache = getGlobalDnsCache();\n        }\n        else if (value === false) {\n            this._internals.dnsCache = undefined;\n        }\n        else {\n            this._internals.dnsCache = value;\n        }\n    }\n    /**\n    User data. `context` is shallow merged and enumerable. If it contains non-enumerable properties they will NOT be merged.\n\n    @example\n    ```\n    import got from 'got';\n\n    const instance = got.extend({\n        hooks: {\n            beforeRequest: [\n                options => {\n                    if (!options.context || !options.context.token) {\n                        throw new Error('Token required');\n                    }\n\n                    options.headers.token = options.context.token;\n                }\n            ]\n        }\n    });\n\n    const context = {\n        token: 'secret'\n    };\n\n    const response = await instance('https://httpbin.org/headers', {context});\n\n    // Let's see the headers\n    console.log(response.body);\n    ```\n    */\n    get context() {\n        return this._internals.context;\n    }\n    set context(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.context, value);\n        }\n        else {\n            this._internals.context = { ...value };\n        }\n    }\n    /**\n    Hooks allow modifications during the request lifecycle.\n    Hook functions may be async and are run serially.\n    */\n    get hooks() {\n        return this._internals.hooks;\n    }\n    set hooks(value) {\n        assert.object(value);\n        // eslint-disable-next-line guard-for-in\n        for (const knownHookEvent in value) {\n            if (!(knownHookEvent in this._internals.hooks)) {\n                throw new Error(`Unexpected hook event: ${knownHookEvent}`);\n            }\n            const typedKnownHookEvent = knownHookEvent;\n            const hooks = value[typedKnownHookEvent];\n            assert.any([is.array, is.undefined], hooks);\n            if (hooks) {\n                for (const hook of hooks) {\n                    assert.function_(hook);\n                }\n            }\n            if (this._merging) {\n                if (hooks) {\n                    // @ts-expect-error FIXME\n                    this._internals.hooks[typedKnownHookEvent].push(...hooks);\n                }\n            }\n            else {\n                if (!hooks) {\n                    throw new Error(`Missing hook event: ${knownHookEvent}`);\n                }\n                // @ts-expect-error FIXME\n                this._internals.hooks[knownHookEvent] = [...hooks];\n            }\n        }\n    }\n    /**\n    Defines if redirect responses should be followed automatically.\n\n    Note that if a `303` is sent by the server in response to any request type (`POST`, `DELETE`, etc.), Got will automatically request the resource pointed to in the location header via `GET`.\n    This is in accordance with [the spec](https://tools.ietf.org/html/rfc7231#section-6.4.4). You can optionally turn on this behavior also for other redirect codes - see `methodRewriting`.\n\n    @default true\n    */\n    get followRedirect() {\n        return this._internals.followRedirect;\n    }\n    set followRedirect(value) {\n        assert.boolean(value);\n        this._internals.followRedirect = value;\n    }\n    get followRedirects() {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    set followRedirects(_value) {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    /**\n    If exceeded, the request will be aborted and a `MaxRedirectsError` will be thrown.\n\n    @default 10\n    */\n    get maxRedirects() {\n        return this._internals.maxRedirects;\n    }\n    set maxRedirects(value) {\n        assert.number(value);\n        this._internals.maxRedirects = value;\n    }\n    /**\n    A cache adapter instance for storing cached response data.\n\n    @default false\n    */\n    get cache() {\n        return this._internals.cache;\n    }\n    set cache(value) {\n        assert.any([is.object, is.string, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.cache = globalCache;\n        }\n        else if (value === false) {\n            this._internals.cache = undefined;\n        }\n        else {\n            this._internals.cache = value;\n        }\n    }\n    /**\n    Determines if a `got.HTTPError` is thrown for unsuccessful responses.\n\n    If this is disabled, requests that encounter an error status code will be resolved with the `response` instead of throwing.\n    This may be useful if you are checking for resource availability and are expecting error responses.\n\n    @default true\n    */\n    get throwHttpErrors() {\n        return this._internals.throwHttpErrors;\n    }\n    set throwHttpErrors(value) {\n        assert.boolean(value);\n        this._internals.throwHttpErrors = value;\n    }\n    get username() {\n        const url = this._internals.url;\n        const value = url ? url.username : this._internals.username;\n        return decodeURIComponent(value);\n    }\n    set username(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.username = fixedValue;\n        }\n        else {\n            this._internals.username = fixedValue;\n        }\n    }\n    get password() {\n        const url = this._internals.url;\n        const value = url ? url.password : this._internals.password;\n        return decodeURIComponent(value);\n    }\n    set password(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.password = fixedValue;\n        }\n        else {\n            this._internals.password = fixedValue;\n        }\n    }\n    /**\n    If set to `true`, Got will additionally accept HTTP2 requests.\n\n    It will choose either HTTP/1.1 or HTTP/2 depending on the ALPN protocol.\n\n    __Note__: This option requires Node.js 15.10.0 or newer as HTTP/2 support on older Node.js versions is very buggy.\n\n    __Note__: Overriding `options.request` will disable HTTP2 support.\n\n    @default false\n\n    @example\n    ```\n    import got from 'got';\n\n    const {headers} = await got('https://nghttp2.org/httpbin/anything', {http2: true});\n\n    console.log(headers.via);\n    //=> '2 nghttpx'\n    ```\n    */\n    get http2() {\n        return this._internals.http2;\n    }\n    set http2(value) {\n        assert.boolean(value);\n        this._internals.http2 = value;\n    }\n    /**\n    Set this to `true` to allow sending body for the `GET` method.\n    However, the [HTTP/2 specification](https://tools.ietf.org/html/rfc7540#section-8.1.3) says that `An HTTP GET request includes request header fields and no payload body`, therefore when using the HTTP/2 protocol this option will have no effect.\n    This option is only meant to interact with non-compliant servers when you have no other choice.\n\n    __Note__: The [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.1) doesn't specify any particular behavior for the GET method having a payload, therefore __it's considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern)__.\n\n    @default false\n    */\n    get allowGetBody() {\n        return this._internals.allowGetBody;\n    }\n    set allowGetBody(value) {\n        assert.boolean(value);\n        this._internals.allowGetBody = value;\n    }\n    /**\n    Request headers.\n\n    Existing headers will be overwritten. Headers set to `undefined` will be omitted.\n\n    @default {}\n    */\n    get headers() {\n        return this._internals.headers;\n    }\n    set headers(value) {\n        assert.plainObject(value);\n        if (this._merging) {\n            Object.assign(this._internals.headers, lowercaseKeys(value));\n        }\n        else {\n            this._internals.headers = lowercaseKeys(value);\n        }\n    }\n    /**\n    Specifies if the HTTP request method should be [rewritten as `GET`](https://tools.ietf.org/html/rfc7231#section-6.4) on redirects.\n\n    As the [specification](https://tools.ietf.org/html/rfc7231#section-6.4) prefers to rewrite the HTTP method only on `303` responses, this is Got's default behavior.\n    Setting `methodRewriting` to `true` will also rewrite `301` and `302` responses, as allowed by the spec. This is the behavior followed by `curl` and browsers.\n\n    __Note__: Got never performs method rewriting on `307` and `308` responses, as this is [explicitly prohibited by the specification](https://www.rfc-editor.org/rfc/rfc7231#section-6.4.7).\n\n    @default false\n    */\n    get methodRewriting() {\n        return this._internals.methodRewriting;\n    }\n    set methodRewriting(value) {\n        assert.boolean(value);\n        this._internals.methodRewriting = value;\n    }\n    /**\n    Indicates which DNS record family to use.\n\n    Values:\n    - `undefined`: IPv4 (if present) or IPv6\n    - `4`: Only IPv4\n    - `6`: Only IPv6\n\n    @default undefined\n    */\n    get dnsLookupIpVersion() {\n        return this._internals.dnsLookupIpVersion;\n    }\n    set dnsLookupIpVersion(value) {\n        if (value !== undefined && value !== 4 && value !== 6) {\n            throw new TypeError(`Invalid DNS lookup IP version: ${value}`);\n        }\n        this._internals.dnsLookupIpVersion = value;\n    }\n    /**\n    A function used to parse JSON responses.\n\n    @example\n    ```\n    import got from 'got';\n    import Bourne from '@hapi/bourne';\n\n    const parsed = await got('https://example.com', {\n        parseJson: text => Bourne.parse(text)\n    }).json();\n\n    console.log(parsed);\n    ```\n    */\n    get parseJson() {\n        return this._internals.parseJson;\n    }\n    set parseJson(value) {\n        assert.function_(value);\n        this._internals.parseJson = value;\n    }\n    /**\n    A function used to stringify the body of JSON requests.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (key.startsWith('_')) {\n                return;\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            _ignoreMe: 1234\n        }\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (typeof value === 'number') {\n                return value.toString();\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            number: 1\n        }\n    });\n    ```\n    */\n    get stringifyJson() {\n        return this._internals.stringifyJson;\n    }\n    set stringifyJson(value) {\n        assert.function_(value);\n        this._internals.stringifyJson = value;\n    }\n    /**\n    An object representing `limit`, `calculateDelay`, `methods`, `statusCodes`, `maxRetryAfter` and `errorCodes` fields for maximum retry count, retry handler, allowed methods, allowed status codes, maximum [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) time and allowed error codes.\n\n    Delays between retries counts with function `1000 * Math.pow(2, retry) + Math.random() * 100`, where `retry` is attempt number (starts from 1).\n\n    The `calculateDelay` property is a `function` that receives an object with `attemptCount`, `retryOptions`, `error` and `computedValue` properties for current retry count, the retry options, error and default computed value.\n    The function must return a delay in milliseconds (or a Promise resolving with it) (`0` return value cancels retry).\n\n    By default, it retries *only* on the specified methods, status codes, and on these network errors:\n\n    - `ETIMEDOUT`: One of the [timeout](#timeout) limits were reached.\n    - `ECONNRESET`: Connection was forcibly closed by a peer.\n    - `EADDRINUSE`: Could not bind to any free port.\n    - `ECONNREFUSED`: Connection was refused by the server.\n    - `EPIPE`: The remote side of the stream being written has been closed.\n    - `ENOTFOUND`: Couldn't resolve the hostname to an IP address.\n    - `ENETUNREACH`: No internet connection.\n    - `EAI_AGAIN`: DNS lookup timed out.\n\n    __Note__: If `maxRetryAfter` is set to `undefined`, it will use `options.timeout`.\n    __Note__: If [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header is greater than `maxRetryAfter`, it will cancel the request.\n    */\n    get retry() {\n        return this._internals.retry;\n    }\n    set retry(value) {\n        assert.plainObject(value);\n        assert.any([is.function_, is.undefined], value.calculateDelay);\n        assert.any([is.number, is.undefined], value.maxRetryAfter);\n        assert.any([is.number, is.undefined], value.limit);\n        assert.any([is.array, is.undefined], value.methods);\n        assert.any([is.array, is.undefined], value.statusCodes);\n        assert.any([is.array, is.undefined], value.errorCodes);\n        assert.any([is.number, is.undefined], value.noise);\n        if (value.noise && Math.abs(value.noise) > 100) {\n            throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${value.noise}`);\n        }\n        for (const key in value) {\n            if (!(key in this._internals.retry)) {\n                throw new Error(`Unexpected retry option: ${key}`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.retry, value);\n        }\n        else {\n            this._internals.retry = { ...value };\n        }\n        const { retry } = this._internals;\n        retry.methods = [...new Set(retry.methods.map(method => method.toUpperCase()))];\n        retry.statusCodes = [...new Set(retry.statusCodes)];\n        retry.errorCodes = [...new Set(retry.errorCodes)];\n    }\n    /**\n    From `http.RequestOptions`.\n\n    The IP address used to send the request from.\n    */\n    get localAddress() {\n        return this._internals.localAddress;\n    }\n    set localAddress(value) {\n        assert.any([is.string, is.undefined], value);\n        this._internals.localAddress = value;\n    }\n    /**\n    The HTTP method used to make the request.\n\n    @default 'GET'\n    */\n    get method() {\n        return this._internals.method;\n    }\n    set method(value) {\n        assert.string(value);\n        this._internals.method = value.toUpperCase();\n    }\n    get createConnection() {\n        return this._internals.createConnection;\n    }\n    set createConnection(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.createConnection = value;\n    }\n    /**\n    From `http-cache-semantics`\n\n    @default {}\n    */\n    get cacheOptions() {\n        return this._internals.cacheOptions;\n    }\n    set cacheOptions(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.shared);\n        assert.any([is.number, is.undefined], value.cacheHeuristic);\n        assert.any([is.number, is.undefined], value.immutableMinTimeToLive);\n        assert.any([is.boolean, is.undefined], value.ignoreCargoCult);\n        for (const key in value) {\n            if (!(key in this._internals.cacheOptions)) {\n                throw new Error(`Cache option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.cacheOptions, value);\n        }\n        else {\n            this._internals.cacheOptions = { ...value };\n        }\n    }\n    /**\n    Options for the advanced HTTPS API.\n    */\n    get https() {\n        return this._internals.https;\n    }\n    set https(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.rejectUnauthorized);\n        assert.any([is.function_, is.undefined], value.checkServerIdentity);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificateAuthority);\n        assert.any([is.string, is.object, is.array, is.undefined], value.key);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificate);\n        assert.any([is.string, is.undefined], value.passphrase);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.pfx);\n        assert.any([is.array, is.undefined], value.alpnProtocols);\n        assert.any([is.string, is.undefined], value.ciphers);\n        assert.any([is.string, is.buffer, is.undefined], value.dhparam);\n        assert.any([is.string, is.undefined], value.signatureAlgorithms);\n        assert.any([is.string, is.undefined], value.minVersion);\n        assert.any([is.string, is.undefined], value.maxVersion);\n        assert.any([is.boolean, is.undefined], value.honorCipherOrder);\n        assert.any([is.number, is.undefined], value.tlsSessionLifetime);\n        assert.any([is.string, is.undefined], value.ecdhCurve);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.certificateRevocationLists);\n        for (const key in value) {\n            if (!(key in this._internals.https)) {\n                throw new Error(`HTTPS option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.https, value);\n        }\n        else {\n            this._internals.https = { ...value };\n        }\n    }\n    /**\n    [Encoding](https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings) to be used on `setEncoding` of the response data.\n\n    To get a [`Buffer`](https://nodejs.org/api/buffer.html), you need to set `responseType` to `buffer` instead.\n    Don't set this option to `null`.\n\n    __Note__: This doesn't affect streams! Instead, you need to do `got.stream(...).setEncoding(encoding)`.\n\n    @default 'utf-8'\n    */\n    get encoding() {\n        return this._internals.encoding;\n    }\n    set encoding(value) {\n        if (value === null) {\n            throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n        }\n        assert.any([is.string, is.undefined], value);\n        this._internals.encoding = value;\n    }\n    /**\n    When set to `true` the promise will return the Response body instead of the Response object.\n\n    @default false\n    */\n    get resolveBodyOnly() {\n        return this._internals.resolveBodyOnly;\n    }\n    set resolveBodyOnly(value) {\n        assert.boolean(value);\n        this._internals.resolveBodyOnly = value;\n    }\n    /**\n    Returns a `Stream` instead of a `Promise`.\n    This is equivalent to calling `got.stream(url, options?)`.\n\n    @default false\n    */\n    get isStream() {\n        return this._internals.isStream;\n    }\n    set isStream(value) {\n        assert.boolean(value);\n        this._internals.isStream = value;\n    }\n    /**\n    The parsing method.\n\n    The promise also has `.text()`, `.json()` and `.buffer()` methods which return another Got promise for the parsed body.\n\n    It's like setting the options to `{responseType: 'json', resolveBodyOnly: true}` but without affecting the main Got promise.\n\n    __Note__: When using streams, this option is ignored.\n\n    @example\n    ```\n    const responsePromise = got(url);\n    const bufferPromise = responsePromise.buffer();\n    const jsonPromise = responsePromise.json();\n\n    const [response, buffer, json] = Promise.all([responsePromise, bufferPromise, jsonPromise]);\n    // `response` is an instance of Got Response\n    // `buffer` is an instance of Buffer\n    // `json` is an object\n    ```\n\n    @example\n    ```\n    // This\n    const body = await got(url).json();\n\n    // is semantically the same as this\n    const body = await got(url, {responseType: 'json', resolveBodyOnly: true});\n    ```\n    */\n    get responseType() {\n        return this._internals.responseType;\n    }\n    set responseType(value) {\n        if (value === undefined) {\n            this._internals.responseType = 'text';\n            return;\n        }\n        if (value !== 'text' && value !== 'buffer' && value !== 'json') {\n            throw new Error(`Invalid \\`responseType\\` option: ${value}`);\n        }\n        this._internals.responseType = value;\n    }\n    get pagination() {\n        return this._internals.pagination;\n    }\n    set pagination(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.pagination, value);\n        }\n        else {\n            this._internals.pagination = value;\n        }\n    }\n    get auth() {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    set auth(_value) {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    get setHost() {\n        return this._internals.setHost;\n    }\n    set setHost(value) {\n        assert.boolean(value);\n        this._internals.setHost = value;\n    }\n    get maxHeaderSize() {\n        return this._internals.maxHeaderSize;\n    }\n    set maxHeaderSize(value) {\n        assert.any([is.number, is.undefined], value);\n        this._internals.maxHeaderSize = value;\n    }\n    get enableUnixSockets() {\n        return this._internals.enableUnixSockets;\n    }\n    set enableUnixSockets(value) {\n        assert.boolean(value);\n        this._internals.enableUnixSockets = value;\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    toJSON() {\n        return { ...this._internals };\n    }\n    [Symbol.for('nodejs.util.inspect.custom')](_depth, options) {\n        return inspect(this._internals, options);\n    }\n    createNativeRequestOptions() {\n        const internals = this._internals;\n        const url = internals.url;\n        let agent;\n        if (url.protocol === 'https:') {\n            agent = internals.http2 ? internals.agent : internals.agent.https;\n        }\n        else {\n            agent = internals.agent.http;\n        }\n        const { https } = internals;\n        let { pfx } = https;\n        if (is.array(pfx) && is.plainObject(pfx[0])) {\n            pfx = pfx.map(object => ({\n                buf: object.buffer,\n                passphrase: object.passphrase,\n            }));\n        }\n        return {\n            ...internals.cacheOptions,\n            ...this._unixOptions,\n            // HTTPS options\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            ALPNProtocols: https.alpnProtocols,\n            ca: https.certificateAuthority,\n            cert: https.certificate,\n            key: https.key,\n            passphrase: https.passphrase,\n            pfx: https.pfx,\n            rejectUnauthorized: https.rejectUnauthorized,\n            checkServerIdentity: https.checkServerIdentity ?? checkServerIdentity,\n            ciphers: https.ciphers,\n            honorCipherOrder: https.honorCipherOrder,\n            minVersion: https.minVersion,\n            maxVersion: https.maxVersion,\n            sigalgs: https.signatureAlgorithms,\n            sessionTimeout: https.tlsSessionLifetime,\n            dhparam: https.dhparam,\n            ecdhCurve: https.ecdhCurve,\n            crl: https.certificateRevocationLists,\n            // HTTP options\n            lookup: internals.dnsLookup ?? internals.dnsCache?.lookup,\n            family: internals.dnsLookupIpVersion,\n            agent,\n            setHost: internals.setHost,\n            method: internals.method,\n            maxHeaderSize: internals.maxHeaderSize,\n            localAddress: internals.localAddress,\n            headers: internals.headers,\n            createConnection: internals.createConnection,\n            timeout: internals.http2 ? getHttp2TimeoutOption(internals) : undefined,\n            // HTTP/2 options\n            h2session: internals.h2session,\n        };\n    }\n    getRequestFunction() {\n        const url = this._internals.url;\n        const { request } = this._internals;\n        if (!request && url) {\n            return this.getFallbackRequestFunction();\n        }\n        return request;\n    }\n    getFallbackRequestFunction() {\n        const url = this._internals.url;\n        if (!url) {\n            return;\n        }\n        if (url.protocol === 'https:') {\n            if (this._internals.http2) {\n                if (major < 15 || (major === 15 && minor < 10)) {\n                    const error = new Error('To use the `http2` option, install Node.js 15.10.0 or above');\n                    error.code = 'EUNSUPPORTED';\n                    throw error;\n                }\n                return http2wrapper.auto;\n            }\n            return https.request;\n        }\n        return http.request;\n    }\n    freeze() {\n        const options = this._internals;\n        Object.freeze(options);\n        Object.freeze(options.hooks);\n        Object.freeze(options.hooks.afterResponse);\n        Object.freeze(options.hooks.beforeError);\n        Object.freeze(options.hooks.beforeRedirect);\n        Object.freeze(options.hooks.beforeRequest);\n        Object.freeze(options.hooks.beforeRetry);\n        Object.freeze(options.hooks.init);\n        Object.freeze(options.https);\n        Object.freeze(options.cacheOptions);\n        Object.freeze(options.agent);\n        Object.freeze(options.headers);\n        Object.freeze(options.timeout);\n        Object.freeze(options.retry);\n        Object.freeze(options.retry.errorCodes);\n        Object.freeze(options.retry.methods);\n        Object.freeze(options.retry.statusCodes);\n    }\n}\n", "import {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises as dnsPromises,\n\tlookup as dnsLookup\n} from 'node:dns';\nimport {promisify} from 'node:util';\nimport os from 'node:os';\n\nconst {Resolver: AsyncResolver} = dnsPromises;\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ignoreNoResultErrors = dnsPromise => {\n\treturn dnsPromise.catch(error => {\n\t\tif (\n\t\t\terror.code === 'ENODATA' ||\n\t\t\terror.code === 'ENOTFOUND' ||\n\t\t\terror.code === 'ENOENT' // Windows: name exists, but not this record type\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthrow error;\n\t});\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\nconst all4 = {all: true, family: 4};\nconst all6 = {all: true, family: 6};\n\nexport default class CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = lookup && promisify(lookup);\n\t\tthis.stats = {\n\t\t\tcache: 0,\n\t\t\tquery: 0\n\t\t};\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tthis.fallbackDuration = fallbackDuration;\n\n\t\tif (fallbackDuration > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\n\t\t\tthis._fallbackInterval = interval;\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl, result.source);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet source = 'cache';\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (cached) {\n\t\t\tthis.stats.cache++;\n\t\t}\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\t\t\tif (pending) {\n\t\t\t\tthis.stats.cache++;\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tsource = 'query';\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\t\t\t\tthis.stats.query++;\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry, source};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tignoreNoResultErrors(this._resolve4(hostname, ttl)),\n\t\t\tignoreNoResultErrors(this._resolve6(hostname, ttl))\n\t\t]);\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst [A, AAAA] = await Promise.all([\n\t\t\t\t// Passing {all: true} doesn't return all IPv4 and IPv6 entries.\n\t\t\t\t// See https://github.com/szmarczak/cacheable-lookup/issues/42\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all4)),\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all6))\n\t\t\t]);\n\n\t\t\treturn {\n\t\t\t\tentries: [\n\t\t\t\t\t...A,\n\t\t\t\t\t...AAAA\n\t\t\t\t],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._dnsLookup) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0 && this.fallbackDuration > 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n", "export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n", "import { RequestError } from './errors.js';\nexport const isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = 'ERR_BODY_PARSE_FAILURE';\n    }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n", "function isClientRequest(clientRequest) {\n    return clientRequest.writable && !clientRequest.writableEnded;\n}\nexport default isClientRequest;\n", "// eslint-disable-next-line @typescript-eslint/naming-convention\nexport default function isUnixSocketURL(url) {\n    return url.protocol === 'unix:' || url.hostname === 'unix';\n}\n", "import { RequestError } from '../core/errors.js';\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nexport class CancelError extends RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    /**\n    Whether the promise is canceled.\n    */\n    get isCanceled() {\n        return true;\n    }\n}\n", "import is, { assert } from '@sindresorhus/is';\nimport asPromise from './as-promise/index.js';\nimport Request from './core/index.js';\nimport Options from './core/options.js';\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst isGotInstance = (value) => is.function_(value);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete',\n];\nconst create = (defaults) => {\n    defaults = {\n        options: new Options(undefined, undefined, defaults.options),\n        handlers: [...defaults.handlers],\n        mutableDefaults: defaults.mutableDefaults,\n    };\n    Object.defineProperty(defaults, 'mutableDefaults', {\n        enumerable: true,\n        configurable: false,\n        writable: false,\n    });\n    // Got interface\n    const got = ((url, options, defaultOptions = defaults.options) => {\n        const request = new Request(url, options, defaultOptions);\n        let promise;\n        const lastHandler = (normalized) => {\n            // Note: `options` is `undefined` when `new Options(...)` fails\n            request.options = normalized;\n            request._noPipe = !normalized.isStream;\n            void request.flush();\n            if (normalized.isStream) {\n                return request;\n            }\n            if (!promise) {\n                promise = asPromise(request);\n            }\n            return promise;\n        };\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            const handler = defaults.handlers[iteration++] ?? lastHandler;\n            const result = handler(newOptions, iterateHandlers);\n            if (is.promise(result) && !request.options.isStream) {\n                if (!promise) {\n                    promise = asPromise(request);\n                }\n                if (result !== promise) {\n                    const descriptors = Object.getOwnPropertyDescriptors(promise);\n                    for (const key in descriptors) {\n                        if (key in result) {\n                            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                            delete descriptors[key];\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    Object.defineProperties(result, descriptors);\n                    result.cancel = promise.cancel;\n                }\n            }\n            return result;\n        };\n        return iterateHandlers(request.options);\n    });\n    got.extend = (...instancesOrOptions) => {\n        const options = new Options(undefined, undefined, defaults.options);\n        const handlers = [...defaults.handlers];\n        let mutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                options.merge(value.defaults.options);\n                handlers.push(...value.defaults.handlers);\n                mutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                options.merge(value);\n                if (value.handlers) {\n                    handlers.push(...value.handlers);\n                }\n                mutableDefaults = value.mutableDefaults;\n            }\n        }\n        return create({\n            options,\n            handlers,\n            mutableDefaults: Boolean(mutableDefaults),\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        let normalizedOptions = new Options(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const { pagination } = normalizedOptions;\n        assert.function_(pagination.transform);\n        assert.function_(pagination.shouldContinue);\n        assert.function_(pagination.filter);\n        assert.function_(pagination.paginate);\n        assert.number(pagination.countLimit);\n        assert.number(pagination.requestLimit);\n        assert.number(pagination.backoff);\n        const allItems = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // eslint-disable-next-line no-await-in-loop\n            const response = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(response);\n            const currentItems = [];\n            assert.array(parsed);\n            for (const item of parsed) {\n                if (pagination.filter({ item, currentItems, allItems })) {\n                    if (!pagination.shouldContinue({ item, currentItems, allItems })) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        allItems.push(item);\n                    }\n                    currentItems.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate({\n                response,\n                currentItems,\n                allItems,\n            });\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === response.request.options) {\n                normalizedOptions = response.request.options;\n            }\n            else {\n                normalizedOptions.merge(optionsToMerge);\n                assert.any([is.urlInstance, is.undefined], optionsToMerge.url);\n                if (optionsToMerge.url !== undefined) {\n                    normalizedOptions.prefixUrl = '';\n                    normalizedOptions.url = optionsToMerge.url;\n                }\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => got(url, { ...options, method, isStream: true }));\n    }\n    if (!defaults.mutableDefaults) {\n        Object.freeze(defaults.handlers);\n        defaults.options.freeze();\n    }\n    Object.defineProperty(got, 'defaults', {\n        value: defaults,\n        writable: false,\n        configurable: false,\n        enumerable: true,\n    });\n    return got;\n};\nexport default create;\n", "import create from './create.js';\nimport Options from './core/options.js';\nconst defaults = {\n    options: new Options(),\n    handlers: [],\n    mutableDefaults: false,\n};\nconst got = create(defaults);\nexport default got;\nexport { got };\nexport { default as Options } from './core/options.js';\nexport * from './core/options.js';\nexport * from './core/response.js';\nexport * from './core/index.js';\nexport * from './core/errors.js';\nexport { default as calculateRetryDelay } from './core/calculate-retry-delay.js';\nexport * from './as-promise/types.js';\nexport * from './types.js';\nexport { default as create } from './create.js';\nexport { default as parseLinkHeader } from './core/parse-link-header.js';\n", "import got from \"got\";\nimport crypto from \"crypto\";\nimport { Cache } from \"@raycast/api\";\n\nfunction getMixinKey(ae: string) {\n  const oe = [\n    46, 47, 18, 2, 53, 8, 23, 32, 15, 50, 10, 31, 58, 3, 45, 35, 27, 43, 5, 49, 33, 9, 42, 19, 29, 28, 14, 39, 12, 38,\n    41, 13, 37, 48, 7, 16, 24, 55, 40, 61, 26, 17, 0, 1, 60, 51, 30, 4, 22, 25, 54, 21, 56, 59, 6, 63, 57, 62, 11, 36,\n    20, 34, 44, 52,\n  ];\n  const le = oe.reduce((s, i) => s + ae[i], \"\");\n\n  return le.slice(0, 32);\n}\n\nfunction md5(s: string) {\n  return crypto.createHash(\"md5\").update(s, \"utf8\").digest(\"hex\");\n}\n\nfunction split(s: string) {\n  const parts = s.split(\"/\");\n  return parts[parts.length - 1].split(\".\")[0];\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport async function encWbi(params: any) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const resp: any = await got(\"https://api.bilibili.com/x/web-interface/nav\", {\n    headers: {\n      cookie,\n    },\n  }).json();\n  const wbi_img = resp.data.wbi_img;\n  const img_url = wbi_img.img_url || \"\";\n  const sub_url = wbi_img.sub_url || \"\";\n  const img_value = split(img_url);\n  const sub_value = split(sub_url);\n  const me = getMixinKey(img_value + sub_value);\n  const wts = Math.floor(Date.now() / 1000);\n\n  params.wts = wts;\n\n  const Ae = Object.entries(params)\n    .map(([key, value]) => `${key}=${value}`)\n    .join(\"&\");\n  const w_rid = md5(Ae + me);\n\n  return { w_rid, wts };\n}\n", "const BASE_PASSPORT_URL = \"https://passport.bilibili.com\";\nconst BASE_API_URL = \"https://api.bilibili.com\";\n\nexport const API = {\n  gennerateQRCode: () => `${BASE_PASSPORT_URL}/x/passport-login/web/qrcode/generate`,\n  checkQRCodeStatus: () => `${BASE_PASSPORT_URL}/x/passport-login/web/qrcode/poll`,\n  logout: () => `${BASE_PASSPORT_URL}/login/exit/v2`,\n  dynamicFeedAll: (page: number, timeZone: number) =>\n    `${BASE_API_URL}/x/polymer/web-dynamic/v1/feed/all?timezone_offset=${timeZone}&type=all&page=${page}`,\n  popularVideos: (pn: number, ps: number) => `${BASE_API_URL}/x/web-interface/popular?pn=${pn}&ps=${ps}`,\n  rcmdVideos: (fresh_idx_1h: number, fetch_row: number, fresh_idx: number, brush: number) =>\n    `${BASE_API_URL}/x/web-interface/index/top/feed/rcmd?y_num=5&fresh_type=4&feed_version=V9&fetch_row=${fetch_row}&fresh_idx=${fresh_idx}&fresh_idx_1h=${fresh_idx_1h}&brush=${brush}&homepage_ver=1&ps=20`,\n  popularSeriesList: () => `${BASE_API_URL}/x/web-interface/popular/series/list`,\n  popularSeriesVideos: (number: number) => `${BASE_API_URL}/x/web-interface/popular/series/one?number=${number}`,\n  videoInfo: (id: string) => `${BASE_API_URL}/x/web-interface/view?aid=${id}`,\n  playUrl: (bvid: string, cid: string) =>\n    `${BASE_API_URL}/x/player/playurl?bvid=${bvid}&cid=${cid}&qn=112&fnval=0&fnver=0&fourk=1`,\n  bvidGetCid: (bvid: string) => `${BASE_API_URL}/x/player/pagelist?bvid=${bvid}`,\n  conclusion: () => `${BASE_API_URL}/x/web-interface/view/conclusion/get`,\n  heartbeat: () => `${BASE_API_URL}/x/click-interface/web/heartbeat`,\n  searchVideos: () => `${BASE_API_URL}/x/web-interface/search/all/v2`,\n};\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function logout() {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\");\n\n  const response: Bilibili.LogoutResponse = await got\n    .post(API.logout(), {\n      headers: {\n        cookie,\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: `biliCSRF=${cookie?.match(/bili_jct=(.*?);/)?.[1]}`,\n    })\n    .json();\n\n  if (response.code !== 0) throw new Error(response.message);\n\n  cache.remove(\"cookie\");\n  cache.remove(\"expires\");\n\n  return response.status;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function getRcmd(idx: number) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n\n  const fetch_row = idx * 4;\n  const fresh_idx_1h = idx;\n  const fresh_idx = idx;\n  const brush = idx;\n\n  const response: Bilibili.RcmdVideosResponse = await got(API.rcmdVideos(fresh_idx_1h, fetch_row, fresh_idx, brush), {\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (response.code !== 0) throw new Error(response.message);\n\n  return response.data.item;\n}\n", "import { Cache } from \"@raycast/api\";\n\nexport function checkLogin() {\n  const cache = new Cache();\n  const today = new Date().getTime();\n\n  return cache.has(\"cookie\") && new Date(cache.get(\"expires\") || today).getTime() > today;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function getPlayUrl(bvid: string, cid: string) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n\n  const res: Bilibili.PlayUrlResponse = await got(API.playUrl(bvid, cid), {\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  return res.data;\n}\n", "import got from \"got\";\nimport { Cache } from \"@raycast/api\";\nimport { encWbi } from \"../utils\";\nimport { API } from \"./api\";\n\nexport async function getConclsion(bvid: string, cid: number, up_mid: number) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n  const params = {\n    bvid,\n    cid,\n    up_mid,\n  };\n  const { w_rid, wts } = await encWbi(params);\n\n  const res: Bilibili.VideoConclusionResponse = await got(API.conclusion(), {\n    searchParams: {\n      w_rid,\n      wts,\n      ...params,\n    },\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  return res.data;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function getVideoInfo(id: string) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n\n  const res: Bilibili.VideoInfoResponse = await got(API.videoInfo(id), {\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  return res.data;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function postHeartbeat(aid: number, cid: number) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\");\n\n  const response: Bilibili.BaseResponse = await got\n    .post(API.heartbeat(), {\n      headers: {\n        cookie,\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: `played_time=1&aid=${aid}&cid=${cid}&csrf=${cookie?.match(/bili_jct=(.*?);/)?.[1]}`,\n    })\n    .json();\n\n  if (response.code !== 0) throw new Error(response.message);\n\n  return response;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport { Cache } from \"@raycast/api\";\n\nexport async function getDynamicFeed() {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n\n  const res: Bilibili.DynamicFeedAllResponse = await got(API.dynamicFeedAll(1, -480), {\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  return res.data.items;\n}\n", "import { API } from \"./api\";\n\nimport got from \"got\";\nimport QRCode from \"qrcode\";\n\nexport async function gennerateQRCode() {\n  const res: Bilibili.GennerateQRCodeResponse = await got(API.gennerateQRCode()).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  const { url, qrcode_key } = res.data;\n  const qrcode = await QRCode.toDataURL(url);\n\n  return { qrcode, qrcode_key };\n}\n", "import got from \"got\";\nimport { Cache } from \"@raycast/api\";\nimport { API } from \"./api\";\n\nexport async function getSearchVideos(idx: number, keyword: string) {\n  const cache = new Cache();\n  const cookie = cache.get(\"cookie\") || \"{}\";\n\n  const params = {\n    page: idx,\n    page_size: 42,\n    keyword,\n  };\n\n  const res: Bilibili.SearchVideosResponse = await got(API.searchVideos(), {\n    searchParams: {\n      ...params,\n    },\n    headers: {\n      cookie,\n    },\n  }).json();\n\n  if (res.code !== 0) throw new Error(res.message);\n\n  return res.data.result.filter((item) => item.result_type === \"video\")[0].data || [];\n}\n", "import process from 'node:process';\nimport execa from 'execa';\n\nexport async function runAppleScript(script, {humanReadableOutput = true} = {}) {\n\tif (process.platform !== 'darwin') {\n\t\tthrow new Error('macOS only');\n\t}\n\n\tconst outputArguments = humanReadableOutput ? [] : ['-ss'];\n\n\tconst {stdout} = await execa('osascript', ['-e', script, outputArguments]);\n\treturn stdout;\n}\n\nexport function runAppleScriptSync(script, {humanReadableOutput = true} = {}) {\n\tif (process.platform !== 'darwin') {\n\t\tthrow new Error('macOS only');\n\t}\n\n\tconst outputArguments = humanReadableOutput ? [] : ['-ss'];\n\n\tconst {stdout} = execa.sync('osascript', ['-e', script, ...outputArguments]);\n\treturn stdout;\n}\n"],
  "mappings": "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",
  "names": ["require_source", "__commonJSMin", "exports", "module", "isTLSSocket", "socket", "deferToConnect", "fn", "listeners", "hasConnectListener", "hasSecureConnectListener", "hasCloseListener", "onConnect", "require_buffer_stream", "__commonJSMin", "exports", "module", "PassThroughStream", "options", "array", "encoding", "isBuffer", "objectMode", "stream", "length", "chunks", "chunk", "require_get_stream", "__commonJSMin", "exports", "module", "BufferConstants", "stream", "promisify", "bufferStream", "streamPipelinePromisified", "MaxBufferError", "getStream", "inputStream", "options", "maxBuffer", "resolve", "reject", "rejectPromise", "error", "require_http_cache_semantics", "__commonJSMin", "exports", "module", "statusCodeCacheableByDefault", "understoodStatuses", "errorStatusCodes", "hopByHopHeaders", "excludedFromRevalidationUpdate", "toNumberOrZero", "s", "n", "isErrorResponse", "response", "parseCacheControl", "header", "cc", "parts", "part", "k", "v", "formatCacheControl", "req", "res", "shared", "cacheHeuristic", "immutableMinTimeToLive", "ignoreCargoCult", "_fromObject", "requestCC", "allowHeadMethod", "fields", "name", "inHeaders", "headers", "tokens", "warnings", "warning", "age", "serverDate", "residentTime", "defaultMinTtl", "expires", "lastModified", "staleIfErrorAge", "staleWhileRevalidateAge", "obj", "incomingReq", "etags", "etag", "request", "matches", "newResponse", "require_json_buffer", "__commonJSMin", "exports", "stringify", "o", "s", "array", "first", "k", "ignore", "key", "value", "require_src", "__commonJSMin", "exports", "module", "EventEmitter", "JSONB", "loadStore", "options", "adapters", "adapter", "iterableAdapters", "Keyv", "uri", "emitErrors", "adapterOptions", "compression", "error", "generateIterator", "iterator", "key", "raw", "data", "element", "keys", "store", "isArray", "keyPrefixed", "promises", "values", "value", "row", "index", "ttl", "expires", "x", "require_mimic_response", "__commonJSMin", "exports", "module", "knownProperties", "fromStream", "toStream", "fromProperties", "properties", "property", "value", "require_decompress_response", "__commonJSMin", "exports", "module", "Transform", "PassThrough", "zlib", "mimicResponse", "response", "contentEncoding", "isBrotli", "isEmpty", "checker", "data", "_encoding", "callback", "finalStream", "error", "decompressStream", "require_quick_lru", "__commonJSMin", "exports", "module", "QuickLRU", "options", "key", "value", "deleted", "item", "oldCacheSize", "require_delay_async_destroy", "__commonJSMin", "exports", "module", "stream", "args", "callback", "error", "onError", "require_agent", "__commonJSMin", "exports", "module", "URL", "EventEmitter", "tls", "http2", "QuickLRU", "delayAsyncDestroy", "kCurrentStreamCount", "kRequest", "kOriginSet", "kGracefullyClosing", "kLength", "nameKeys", "getSortedIndex", "array", "value", "compare", "low", "high", "mid", "compareSessions", "a", "b", "closeCoveredSessions", "where", "session", "index", "coveredSession", "origin", "gracefullyClose", "closeSessionIfCovered", "Agent", "_Agent", "timeout", "maxSessions", "maxEmptySessions", "maxCachedTlsSessions", "options", "normalized", "key", "normalizedOptions", "normalizedOrigin", "item", "thisStreamCount", "thatStreamCount", "listeners", "resolve", "reject", "servername", "hostname", "error", "sessions", "maxConcurrentStreams", "currentStreamsCount", "optimalSession", "sessionMaxConcurrentStreams", "sessionCurrentStreamsCount", "removeFromQueue", "entry", "name", "receivedSettings", "socket", "computedOptions", "getOriginSet", "originSet", "isFree", "tlsSession", "processListeners", "queue", "completed", "mainOrigin", "headers", "streamOptions", "stream", "port", "host", "maxCount", "closedCount", "thisSessions", "reason", "entries", "require_incoming_message", "__commonJSMin", "exports", "module", "Readable", "IncomingMessage", "socket", "highWaterMark", "value", "error", "callback", "ms", "require_proxy_events", "__commonJSMin", "exports", "module", "from", "to", "events", "event", "args", "require_errors", "__commonJSMin", "exports", "module", "makeError", "Base", "key", "getMessage", "args", "type", "valid", "isManyTypes", "require_is_request_pseudo_header", "__commonJSMin", "exports", "module", "header", "require_validate_header_name", "__commonJSMin", "exports", "module", "ERR_INVALID_HTTP_TOKEN", "isRequestPseudoHeader", "isValidHttpToken", "name", "require_validate_header_value", "__commonJSMin", "exports", "module", "ERR_HTTP_INVALID_HEADER_VALUE", "ERR_INVALID_CHAR", "isInvalidHeaderValue", "name", "value", "require_proxy_socket_handler", "__commonJSMin", "exports", "module", "ERR_HTTP2_NO_SOCKET_MANIPULATION", "proxySocketHandler", "stream", "property", "reference", "session", "value", "require_client_request", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http2", "Writable", "Agent", "globalAgent", "IncomingMessage", "proxyEvents", "ERR_INVALID_ARG_TYPE", "ERR_INVALID_PROTOCOL", "ERR_HTTP_HEADERS_SENT", "validateHeaderName", "validateHeaderValue", "proxySocketHandler", "HTTP2_HEADER_STATUS", "HTTP2_HEADER_METHOD", "HTTP2_HEADER_PATH", "HTTP2_HEADER_AUTHORITY", "HTTP2_METHOD_CONNECT", "kHeaders", "kOrigin", "kSession", "kOptions", "kFlushedHeaders", "kJobs", "kPendingAgentPromise", "ClientRequest", "input", "options", "callback", "timeout", "headers", "header", "reuseSocket", "args", "value", "_value", "chunk", "encoding", "callWrite", "callEnd", "error", "internalError", "isConnectMethod", "onStream", "stream", "res", "onResponse", "flags", "rawHeaders", "response", "trailers", "rawTrailers", "aborted", "finish", "job", "promise", "name", "lowercased", "ms", "applyTimeout", "require_resolve_alpn", "__commonJSMin", "exports", "module", "tls", "options", "connect", "resolve", "reject", "timeout", "socket", "callback", "socketPromise", "onTimeout", "error", "require_calculate_server_name", "__commonJSMin", "exports", "module", "isIP", "assert", "getHost", "host", "idx", "servername", "require_auto", "__commonJSMin", "exports", "module", "URL", "urlToHttpOptions", "http", "https", "resolveALPN", "QuickLRU", "Agent", "globalAgent", "Http2ClientRequest", "calculateServerName", "delayAsyncDestroy", "cache", "queue", "installSocket", "agent", "socket", "options", "onFree", "onClose", "onTimeout", "freeSockets", "sockets", "onRemove", "createResolveProtocol", "connect", "name", "path", "resultPromise", "result", "error", "defaultResolveProtocol", "input", "callback", "isHttps", "resolveProtocol", "alpnProtocol", "timeout", "isHttp2", "defaultCreateConnection", "require_js_stream_socket", "__commonJSMin", "exports", "module", "stream", "tls", "JSStreamSocket", "require_unexpected_status_code_error", "__commonJSMin", "exports", "module", "UnexpectedStatusCodeError", "statusCode", "statusMessage", "require_check_type", "__commonJSMin", "exports", "module", "checkType", "name", "value", "types", "type", "names", "require_initialize", "__commonJSMin", "exports", "module", "URL", "checkType", "self", "proxyOptions", "url", "require_get_auth_headers", "__commonJSMin", "exports", "module", "self", "username", "password", "data", "authorization", "require_h1_over_h2", "__commonJSMin", "exports", "module", "tls", "http", "https", "JSStreamSocket", "globalAgent", "UnexpectedStatusCodeError", "initialize", "getAuthorizationHeaders", "createConnection", "self", "options", "callback", "proxyOptions", "url", "headers", "raw", "stream", "statusCode", "encrypted", "secureStream", "socket", "out", "error", "HttpOverHttp2", "HttpsOverHttp2", "require_h2_over_hx", "__commonJSMin", "exports", "module", "Agent", "JSStreamSocket", "UnexpectedStatusCodeError", "initialize", "Http2OverHttpX", "options", "origin", "authority", "stream", "statusCode", "statusMessage", "socket", "out", "require_h2_over_h2", "__commonJSMin", "exports", "module", "globalAgent", "Http2OverHttpX", "getAuthorizationHeaders", "getStatusCode", "stream", "resolve", "reject", "headers", "Http2OverHttp2", "authority", "proxyOptions", "statusCode", "require_h2_over_h1", "__commonJSMin", "exports", "module", "http", "https", "Http2OverHttpX", "getAuthorizationHeaders", "getStream", "request", "resolve", "reject", "onConnect", "response", "socket", "head", "Http2OverHttp", "authority", "proxyOptions", "url", "headers", "require_source", "__commonJSMin", "exports", "module", "http2", "Agent", "globalAgent", "ClientRequest", "IncomingMessage", "auto", "HttpOverHttp2", "HttpsOverHttp2", "Http2OverHttp2", "Http2OverHttp", "Http2OverHttps", "validateHeaderName", "validateHeaderValue", "request", "url", "options", "callback", "get", "req", "require_can_promise", "__commonJSMin", "exports", "module", "require_utils", "__commonJSMin", "exports", "toSJISFunction", "CODEWORDS_COUNT", "version", "data", "digit", "f", "kanji", "require_error_correction_level", "__commonJSMin", "exports", "fromString", "string", "level", "value", "defaultValue", "require_bit_buffer", "__commonJSMin", "exports", "module", "BitBuffer", "index", "bufIndex", "num", "length", "i", "bit", "require_bit_matrix", "__commonJSMin", "exports", "module", "BitMatrix", "size", "row", "col", "value", "reserved", "index", "require_alignment_pattern", "__commonJSMin", "exports", "getSymbolSize", "version", "posCount", "size", "intervals", "positions", "i", "coords", "pos", "posLength", "j", "require_finder_pattern", "__commonJSMin", "exports", "getSymbolSize", "FINDER_PATTERN_SIZE", "version", "size", "require_mask_pattern", "__commonJSMin", "exports", "PenaltyScores", "mask", "value", "data", "size", "points", "sameCountCol", "sameCountRow", "lastCol", "lastRow", "row", "col", "module", "last", "bitsCol", "bitsRow", "darkCount", "modulesCount", "getMaskAt", "maskPattern", "i", "j", "pattern", "setupFormatFunc", "numPatterns", "bestPattern", "lowerPenalty", "p", "penalty", "require_error_correction_code", "__commonJSMin", "exports", "ECLevel", "EC_BLOCKS_TABLE", "EC_CODEWORDS_TABLE", "version", "errorCorrectionLevel", "require_galois_field", "__commonJSMin", "exports", "EXP_TABLE", "LOG_TABLE", "x", "i", "n", "y", "require_polynomial", "__commonJSMin", "exports", "GF", "p1", "p2", "coeff", "i", "j", "divident", "divisor", "result", "offset", "degree", "poly", "require_reed_solomon_encoder", "__commonJSMin", "exports", "module", "Polynomial", "ReedSolomonEncoder", "degree", "data", "paddedData", "remainder", "start", "buff", "require_version_check", "__commonJSMin", "exports", "version", "require_regex", "__commonJSMin", "exports", "numeric", "alphanumeric", "kanji", "byte", "TEST_KANJI", "TEST_NUMERIC", "TEST_ALPHANUMERIC", "str", "require_mode", "__commonJSMin", "exports", "VersionCheck", "Regex", "mode", "version", "dataStr", "fromString", "string", "value", "defaultValue", "require_version", "__commonJSMin", "exports", "Utils", "ECCode", "ECLevel", "Mode", "VersionCheck", "G18", "G18_BCH", "getBestVersionForDataLength", "mode", "length", "errorCorrectionLevel", "currentVersion", "getReservedBitsCount", "version", "getTotalBitsFromDataArray", "segments", "totalBits", "data", "reservedBits", "getBestVersionForMixedData", "value", "defaultValue", "totalCodewords", "ecTotalCodewords", "dataTotalCodewordsBits", "usableBits", "seg", "ecl", "d", "require_format_info", "__commonJSMin", "exports", "Utils", "G15", "G15_MASK", "G15_BCH", "errorCorrectionLevel", "mask", "data", "d", "require_numeric_data", "__commonJSMin", "exports", "module", "Mode", "NumericData", "data", "length", "bitBuffer", "i", "group", "value", "remainingNum", "require_alphanumeric_data", "__commonJSMin", "exports", "module", "Mode", "ALPHA_NUM_CHARS", "AlphanumericData", "data", "length", "bitBuffer", "i", "value", "require_encode_utf8", "__commonJSMin", "exports", "module", "input", "result", "size", "index", "point", "second", "require_byte_data", "__commonJSMin", "exports", "module", "encodeUtf8", "Mode", "ByteData", "data", "length", "bitBuffer", "i", "l", "require_kanji_data", "__commonJSMin", "exports", "module", "Mode", "Utils", "KanjiData", "data", "length", "bitBuffer", "i", "value", "require_dijkstra", "__commonJSMin", "exports", "module", "dijkstra", "graph", "s", "d", "predecessors", "costs", "open", "closest", "u", "v", "cost_of_s_to_u", "adjacent_nodes", "cost_of_e", "cost_of_s_to_u_plus_cost_of_e", "cost_of_s_to_v", "first_visit", "msg", "nodes", "predecessor", "opts", "T", "t", "key", "a", "b", "value", "cost", "item", "require_segments", "__commonJSMin", "exports", "Mode", "NumericData", "AlphanumericData", "ByteData", "KanjiData", "Regex", "Utils", "dijkstra", "getStringByteLength", "str", "getSegments", "regex", "mode", "segments", "result", "getSegmentsFromString", "dataStr", "numSegs", "alphaNumSegs", "byteSegs", "kanjiSegs", "s1", "s2", "obj", "getSegmentBitsLength", "length", "mergeSegments", "segs", "acc", "curr", "prevSeg", "buildNodes", "nodes", "i", "seg", "buildGraph", "version", "table", "graph", "prevNodeIds", "nodeGroup", "currentNodeIds", "j", "node", "key", "n", "prevNodeId", "buildSingleSegment", "data", "modesHint", "bestMode", "array", "path", "optimizedSegs", "require_qrcode", "__commonJSMin", "exports", "Utils", "ECLevel", "BitBuffer", "BitMatrix", "AlignmentPattern", "FinderPattern", "MaskPattern", "ECCode", "ReedSolomonEncoder", "Version", "FormatInfo", "Mode", "Segments", "setupFinderPattern", "matrix", "version", "size", "pos", "i", "row", "col", "r", "setupTimingPattern", "value", "setupAlignmentPattern", "c", "setupVersionInfo", "bits", "mod", "setupFormatInfo", "errorCorrectionLevel", "maskPattern", "setupData", "data", "inc", "bitIndex", "byteIndex", "dark", "createData", "segments", "buffer", "totalCodewords", "ecTotalCodewords", "dataTotalCodewordsBits", "remainingByte", "createCodewords", "bitBuffer", "dataTotalCodewords", "ecTotalBlocks", "blocksInGroup2", "blocksInGroup1", "totalCodewordsInGroup1", "dataCodewordsInGroup1", "dataCodewordsInGroup2", "ecCount", "rs", "offset", "dcData", "ecData", "maxDataSize", "b", "dataSize", "index", "createSymbol", "estimatedVersion", "rawSegments", "bestVersion", "dataBits", "moduleCount", "modules", "options", "mask", "require_chunkstream", "__commonJSMin", "exports", "module", "util", "Stream", "ChunkStream", "length", "callback", "data", "encoding", "dataBuffer", "read", "smallerBuf", "pos", "count", "buf", "len", "ex", "require_interlace", "__commonJSMin", "exports", "imagePasses", "width", "height", "images", "xLeftOver", "yLeftOver", "xRepeats", "yRepeats", "i", "pass", "passWidth", "passHeight", "j", "x", "y", "outerXLeftOver", "outerX", "outerYLeftOver", "outerY", "require_paeth_predictor", "__commonJSMin", "exports", "module", "left", "above", "upLeft", "paeth", "pLeft", "pAbove", "pUpLeft", "require_filter_parse", "__commonJSMin", "exports", "module", "interlaceUtils", "paethPredictor", "getByteWidth", "width", "bpp", "depth", "byteWidth", "Filter", "bitmapInfo", "dependencies", "height", "interlace", "passes", "i", "rawData", "unfilteredLine", "xComparison", "xBiggerThan", "x", "rawByte", "f1Left", "lastLine", "f2Up", "f3Up", "f3Left", "f3Add", "f4Up", "f4Left", "f4UpLeft", "f4Add", "filter", "currentImage", "require_filter_parse_async", "__commonJSMin", "exports", "module", "util", "ChunkStream", "Filter", "FilterAsync", "bitmapInfo", "buffers", "that", "buffer", "require_constants", "__commonJSMin", "exports", "module", "require_crc", "__commonJSMin", "exports", "module", "crcTable", "i", "currentCrc", "j", "CrcCalculator", "data", "buf", "crc", "require_parser", "__commonJSMin", "exports", "module", "constants", "CrcCalculator", "Parser", "options", "dependencies", "data", "signature", "i", "length", "type", "name", "ancillary", "fileCrc", "calcCrc", "width", "height", "depth", "colorType", "compr", "filter", "interlace", "bpp", "entries", "leftOverLength", "require_bitmapper", "__commonJSMin", "exports", "interlaceUtils", "pixelBppMapper", "pxData", "data", "pxPos", "rawPos", "pixel", "pixelBppCustomMapper", "pixelData", "maxBit", "bitRetriever", "depth", "leftOver", "i", "split", "byte", "byte8", "byte7", "byte6", "byte5", "byte4", "byte3", "byte2", "byte1", "count", "returner", "mapImage8Bit", "image", "getPxPos", "bpp", "imageWidth", "imageHeight", "imagePass", "y", "x", "mapImageCustomBit", "bits", "bitmapInfo", "width", "height", "interlace", "images", "nonInterlacedPxPos", "imageIndex", "require_format_normaliser", "__commonJSMin", "exports", "module", "dePalette", "indata", "outdata", "width", "height", "palette", "pxPos", "y", "x", "color", "i", "replaceTransparentColor", "transColor", "makeTrans", "scaleDepth", "depth", "maxOutSample", "maxInSample", "imageData", "colorType", "require_parser_async", "__commonJSMin", "exports", "module", "util", "zlib", "ChunkStream", "FilterAsync", "Parser", "bitmapper", "formatNormaliser", "ParserAsync", "options", "err", "data", "imageSize", "chunkSize", "leftToInflate", "emitError", "filterWrite", "chunk", "metaData", "transColor", "palette", "filteredData", "normalisedBitmapData", "bitmapData", "ex", "require_bitpacker", "__commonJSMin", "exports", "module", "constants", "dataIn", "width", "height", "options", "outHasAlpha", "bigEndian", "buffer", "data", "maxValue", "inBpp", "outBpp", "outData", "inIndex", "outIndex", "bgColor", "getRGBA", "red", "green", "blue", "alpha", "y", "x", "rgba", "grayscale", "require_filter_pack", "__commonJSMin", "exports", "module", "paethPredictor", "filterNone", "pxData", "pxPos", "byteWidth", "rawData", "rawPos", "x", "filterSumNone", "sum", "length", "filterSub", "bpp", "left", "val", "filterSumSub", "filterUp", "up", "filterSumUp", "filterAvg", "filterSumAvg", "filterPaeth", "upleft", "filterSumPaeth", "filters", "filterSums", "width", "height", "options", "filterTypes", "sel", "y", "min", "i", "require_packer", "__commonJSMin", "exports", "module", "constants", "CrcStream", "bitPacker", "filter", "zlib", "Packer", "options", "data", "width", "height", "packedData", "bpp", "type", "len", "buf", "gamma", "require_packer_async", "__commonJSMin", "exports", "module", "util", "Stream", "constants", "Packer", "PackerAsync", "opt", "options", "data", "width", "height", "gamma", "filteredData", "compressedData", "require_sync_inflate", "__commonJSMin", "exports", "module", "assert", "zlib", "util", "kMaxLength", "Inflate", "opts", "createInflate", "_close", "engine", "callback", "chunk", "flushFlag", "asyncCb", "self", "availInBefore", "availOutBefore", "leftToInflate", "inOff", "buffers", "nread", "error", "err", "handleChunk", "availInAfter", "availOutAfter", "have", "out", "res", "buf", "zlibBufferSync", "buffer", "inflateSync", "require_sync_reader", "__commonJSMin", "exports", "module", "SyncReader", "buffer", "length", "callback", "read", "buf", "require_filter_parse_sync", "__commonJSMin", "exports", "SyncReader", "Filter", "inBuffer", "bitmapInfo", "outBuffers", "reader", "bufferPart", "require_parser_sync", "__commonJSMin", "exports", "module", "hasSyncZlib", "zlib", "inflateSync", "SyncReader", "FilterSync", "Parser", "bitmapper", "formatNormaliser", "buffer", "options", "err", "handleError", "_err_", "metaData", "handleMetaData", "_metaData_", "handleTransColor", "transColor", "handlePalette", "palette", "handleSimpleTransparency", "gamma", "handleGamma", "_gamma_", "inflateDataList", "handleInflateData", "inflatedData", "reader", "inflateData", "imageSize", "unfilteredData", "bitmapData", "normalisedBitmapData", "require_packer_sync", "__commonJSMin", "exports", "module", "hasSyncZlib", "zlib", "constants", "Packer", "metaData", "opt", "options", "packer", "chunks", "filteredData", "compressedData", "require_png_sync", "__commonJSMin", "exports", "parse", "pack", "buffer", "options", "png", "require_png", "__commonJSMin", "exports", "util", "Stream", "Parser", "Packer", "PNGSync", "PNG", "options", "data", "callback", "onParsed", "onError", "parsedData", "err", "metadata", "gamma", "src", "dst", "srcX", "srcY", "width", "height", "deltaX", "deltaY", "y", "x", "idx", "i", "sample", "require_utils", "__commonJSMin", "exports", "hex2rgba", "hex", "hexCode", "c", "hexValue", "options", "margin", "width", "scale", "qrSize", "opts", "imgData", "qr", "size", "data", "symbolSize", "scaledMargin", "palette", "i", "j", "posDst", "pxColor", "iSrc", "jSrc", "require_png", "__commonJSMin", "exports", "fs", "PNG", "Utils", "qrData", "options", "opts", "pngOpts", "size", "pngImage", "cb", "err", "output", "url", "png", "buffer", "data", "path", "called", "done", "args", "stream", "require_utf8", "__commonJSMin", "exports", "Utils", "BLOCK_CHAR", "INVERTED_BLOCK_CHAR", "getBlockChar", "top", "bottom", "blocks", "qrData", "options", "cb", "opts", "size", "data", "output", "hMargin", "vMargin", "i", "j", "topModule", "bottomModule", "path", "fs", "utf8", "require_terminal", "__commonJSMin", "exports", "qrData", "options", "cb", "size", "data", "black", "white", "output", "hMargin", "vMargin", "i", "j", "require_terminal_small", "__commonJSMin", "exports", "backgroundWhite", "backgroundBlack", "foregroundWhite", "foregroundBlack", "reset", "lineSetupNormal", "lineSetupInverse", "createPalette", "lineSetup", "mkCodePixel", "modules", "size", "x", "y", "sizePlus", "idx", "mkCode", "qrData", "options", "cb", "data", "inverse", "palette", "newLine", "output", "require_terminal", "__commonJSMin", "exports", "big", "small", "qrData", "options", "cb", "require_svg_tag", "__commonJSMin", "exports", "Utils", "getColorAttrib", "color", "attrib", "alpha", "str", "svgCmd", "cmd", "x", "y", "qrToPath", "data", "size", "margin", "path", "moveBy", "newRow", "lineLength", "i", "col", "row", "qrData", "options", "cb", "opts", "qrcodesize", "bg", "viewBox", "svgTag", "require_svg", "__commonJSMin", "exports", "svgTagRenderer", "path", "qrData", "options", "cb", "fs", "xmlStr", "require_canvas", "__commonJSMin", "exports", "Utils", "clearCanvas", "ctx", "canvas", "size", "getCanvasElement", "qrData", "options", "opts", "canvasEl", "image", "type", "rendererOpts", "require_browser", "__commonJSMin", "exports", "canPromise", "QRCode", "CanvasRenderer", "SvgRenderer", "renderCanvas", "renderFunc", "canvas", "text", "opts", "cb", "args", "argsNum", "isLastArgCb", "resolve", "reject", "data", "e", "_", "require_server", "__commonJSMin", "exports", "canPromise", "QRCode", "PngRenderer", "Utf8Renderer", "TerminalRenderer", "SvgRenderer", "checkParams", "text", "opts", "cb", "getTypeFromFilename", "path", "getRendererFromType", "type", "getStringRendererFromType", "render", "renderFunc", "params", "resolve", "reject", "data", "err", "e", "renderer", "renderToFile", "stream", "renderToFileStream", "require_lib", "__commonJSMin", "exports", "module", "require_windows", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "checkPathExt", "path", "options", "pathext", "i", "p", "checkStat", "stat", "cb", "er", "require_mode", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "path", "options", "cb", "er", "stat", "checkStat", "checkMode", "mod", "uid", "gid", "myUid", "myGid", "u", "g", "o", "ug", "ret", "require_isexe", "__commonJSMin", "exports", "module", "fs", "core", "isexe", "sync", "path", "options", "cb", "resolve", "reject", "er", "is", "require_which", "__commonJSMin", "exports", "module", "isWindows", "path", "COLON", "isexe", "getNotFoundError", "cmd", "getPathInfo", "opt", "colon", "pathEnv", "pathExtExe", "pathExt", "which", "cb", "found", "step", "i", "resolve", "reject", "ppRaw", "pathPart", "pCmd", "p", "subStep", "ii", "ext", "er", "is", "res", "whichSync", "j", "cur", "require_path_key", "__commonJSMin", "exports", "module", "pathKey", "options", "environment", "key", "require_resolveCommand", "__commonJSMin", "exports", "module", "path", "which", "getPathKey", "resolveCommandAttempt", "parsed", "withoutPathExt", "env", "cwd", "hasCustomCwd", "shouldSwitchCwd", "resolved", "resolveCommand", "require_escape", "__commonJSMin", "exports", "module", "metaCharsRegExp", "escapeCommand", "arg", "escapeArgument", "doubleEscapeMetaChars", "require_shebang_regex", "__commonJSMin", "exports", "module", "require_shebang_command", "__commonJSMin", "exports", "module", "shebangRegex", "string", "match", "path", "argument", "binary", "require_readShebang", "__commonJSMin", "exports", "module", "fs", "shebangCommand", "readShebang", "command", "buffer", "fd", "require_parse", "__commonJSMin", "exports", "module", "path", "resolveCommand", "escape", "readShebang", "isWin", "isExecutableRegExp", "isCmdShimRegExp", "detectShebang", "parsed", "shebang", "parseNonShell", "commandFile", "needsShell", "needsDoubleEscapeMetaChars", "arg", "shellCommand", "parse", "command", "args", "options", "require_enoent", "__commonJSMin", "exports", "module", "isWin", "notFoundError", "original", "syscall", "hookChildProcess", "cp", "parsed", "originalEmit", "name", "arg1", "err", "verifyENOENT", "status", "verifyENOENTSync", "require_cross_spawn", "__commonJSMin", "exports", "module", "cp", "parse", "enoent", "spawn", "command", "args", "options", "parsed", "spawned", "spawnSync", "result", "require_strip_final_newline", "__commonJSMin", "exports", "module", "input", "LF", "CR", "require_npm_run_path", "__commonJSMin", "exports", "module", "path", "pathKey", "npmRunPath", "options", "previous", "cwdPath", "result", "execPathDir", "env", "require_mimic_fn", "__commonJSMin", "exports", "module", "mimicFn", "to", "from", "prop", "require_onetime", "__commonJSMin", "exports", "module", "mimicFn", "calledFunctions", "onetime", "function_", "options", "returnValue", "callCount", "functionName", "arguments_", "SIGNALS", "name", "number", "action", "description", "standard", "forced", "exports", "getRealtimeSignals", "length", "SIGRTMAX", "SIGRTMIN", "Array", "from", "getRealtimeSignal", "exports", "value", "index", "name", "number", "action", "description", "standard", "_os", "_core", "_realtime", "getSignals", "realtimeSignals", "SIGNALS", "map", "normalizeSignal", "exports", "name", "number", "defaultNumber", "description", "action", "forced", "standard", "signals", "constantSignal", "constants", "supported", "undefined", "_os", "_signals", "_realtime", "getSignalsByName", "reduce", "getSignalByName", "signalByNameMemo", "name", "number", "description", "supported", "action", "forced", "standard", "signalsByName", "exports", "getSignalsByNumber", "signals", "length", "SIGRTMAX", "signalsA", "Array", "from", "value", "getSignalByNumber", "Object", "assign", "signal", "findSignalByNumber", "undefined", "find", "constants", "signalA", "signalsByNumber", "require_error", "__commonJSMin", "exports", "module", "signalsByName", "getErrorPrefix", "timedOut", "timeout", "errorCode", "signal", "signalDescription", "exitCode", "isCanceled", "makeError", "stdout", "stderr", "all", "error", "command", "escapedCommand", "killed", "execaMessage", "isError", "shortMessage", "message", "require_stdio", "__commonJSMin", "exports", "module", "aliases", "hasAlias", "options", "alias", "normalizeStdio", "stdio", "length", "value", "index", "require_signals", "__commonJSMin", "exports", "module", "require_signal_exit", "__commonJSMin", "exports", "module", "process", "processOk", "assert", "signals", "isWin", "EE", "emitter", "cb", "opts", "loaded", "load", "ev", "remove", "unload", "sig", "sigListeners", "originalProcessEmit", "originalProcessReallyExit", "emit", "event", "code", "signal", "listeners", "processEmit", "processReallyExit", "arg", "ret", "require_kill", "__commonJSMin", "exports", "module", "os", "onExit", "DEFAULT_FORCE_KILL_TIMEOUT", "spawnedKill", "kill", "signal", "options", "killResult", "setKillTimeout", "shouldForceKill", "timeout", "getForceKillAfterTimeout", "t", "forceKillAfterTimeout", "isSigterm", "spawnedCancel", "spawned", "context", "timeoutKill", "reject", "setupTimeout", "killSignal", "spawnedPromise", "timeoutId", "timeoutPromise", "resolve", "safeSpawnedPromise", "validateTimeout", "setExitHandler", "cleanup", "detached", "timedPromise", "removeExitHandler", "require_is_stream", "__commonJSMin", "exports", "module", "isStream", "stream", "require_merge_stream", "__commonJSMin", "exports", "module", "PassThrough", "sources", "output", "add", "isEmpty", "remove", "source", "it", "require_stream", "__commonJSMin", "exports", "module", "isStream", "getStream", "mergeStream", "handleInput", "spawned", "input", "makeAllStream", "all", "mixed", "getBufferedData", "stream", "streamPromise", "error", "getStreamPromise", "encoding", "buffer", "maxBuffer", "getSpawnedResult", "stdout", "stderr", "processDone", "stdoutPromise", "stderrPromise", "allPromise", "validateInputSync", "require_promise", "__commonJSMin", "exports", "module", "nativePromisePrototype", "descriptors", "property", "mergePromise", "spawned", "promise", "descriptor", "value", "args", "getSpawnedPromise", "resolve", "reject", "exitCode", "signal", "error", "require_command", "__commonJSMin", "exports", "module", "normalizeArgs", "file", "args", "NO_ESCAPE_REGEXP", "DOUBLE_QUOTES_REGEXP", "escapeArg", "arg", "joinCommand", "getEscapedCommand", "SPACES_REGEXP", "parseCommand", "command", "tokens", "token", "previousToken", "require_execa", "__commonJSMin", "exports", "module", "path", "childProcess", "crossSpawn", "stripFinalNewline", "npmRunPath", "onetime", "makeError", "normalizeStdio", "spawnedKill", "spawnedCancel", "setupTimeout", "validateTimeout", "setExitHandler", "handleInput", "getSpawnedResult", "makeAllStream", "validateInputSync", "mergePromise", "getSpawnedPromise", "joinCommand", "parseCommand", "getEscapedCommand", "DEFAULT_MAX_BUFFER", "getEnv", "envOption", "extendEnv", "preferLocal", "localDir", "execPath", "env", "handleArguments", "file", "args", "options", "parsed", "handleOutput", "value", "error", "execa", "command", "escapedCommand", "spawned", "dummySpawned", "errorPromise", "spawnedPromise", "timedPromise", "processDone", "context", "handlePromiseOnce", "exitCode", "signal", "timedOut", "stdoutResult", "stderrResult", "allResult", "stdout", "stderr", "all", "returnedError", "result", "scriptPath", "stdio", "defaultExecArgv", "arg", "nodePath", "nodeOptions", "notifications_exports", "__export", "Command", "__toCommonJS", "formatUrl", "url", "typedArrayTypeNames", "isTypedArrayName", "name", "objectTypeNames", "isObjectTypeName", "primitiveTypeNames", "isPrimitiveTypeName", "isOfType", "type", "value", "toString", "getObjectType", "objectTypeName", "is", "isObjectOfType", "tagType", "isNumberType", "assertion", "element", "hasPromiseApi", "targetEnum", "instance", "class_", "prototype", "isValidLength", "guards", "guard", "index", "range", "NODE_TYPE_ELEMENT", "DOM_PROPERTIES_TO_CHECK", "property", "isAbsoluteMod2", "remainder", "isWhiteSpaceString", "predicateOnArray", "method", "predicate", "values", "singlePredicate", "assertType", "condition", "description", "options", "multipleValues", "valuesMessage", "singleValue", "assert", "dist_default", "import_node_events", "CancelError", "reason", "PCancelable", "_PCancelable", "userFunction", "arguments_", "resolve", "reject", "onCancel", "executor", "onResolve", "value", "onReject", "error", "handler", "boolean", "onFulfilled", "onRejected", "onFinally", "isRequest", "x", "dist_default", "RequestError", "message", "error", "self", "indexOfMessage", "thisStackTrace", "errorStackTrace", "MaxRedirectsError", "request", "HTTPError", "response", "CacheError", "UploadError", "TimeoutError", "timings", "ReadError", "RetryError", "AbortError", "import_node_process", "import_node_buffer", "import_node_stream", "import_node_url", "import_node_http", "import_events", "import_util", "import_defer_to_connect", "timer", "request", "timings", "handleError", "origin", "onAbort", "onSocket", "socket", "lookupListener", "deferToConnect", "onUpload", "response", "source_default", "import_node_events", "import_node_url", "import_node_crypto", "import_node_stream", "DATA_URL_DEFAULT_MIME_TYPE", "DATA_URL_DEFAULT_CHARSET", "testParameter", "name", "filters", "filter", "supportedProtocols", "hasCustomProtocol", "urlString", "protocol", "normalizeDataURL", "stripHash", "match", "type", "data", "hash", "mediaType", "isBase64", "mimeType", "normalizedMediaType", "attribute", "key", "value", "string", "normalizeUrl", "options", "hasRelativeProtocol", "urlObject", "protocolRegex", "lastIndex", "result", "protocolAtIndex", "intermediate", "remnant", "pathComponents", "lastComponent", "oldUrlString", "import_get_stream", "import_http_cache_semantics", "import_node_stream", "lowercaseKeys", "object", "key", "value", "Response", "ReadableStream", "statusCode", "headers", "body", "url", "lowercaseKeys", "import_keyv", "knownProperties", "mimicResponse", "fromStream", "toStream", "fromProperties", "properties", "property", "value", "RequestError", "error", "CacheError", "CacheableRequest", "cacheRequest", "cacheAdapter", "options", "cb", "url", "normalizeUrlObject", "urlLib", "pathname", "searchParts", "search", "urlObjectToRequestOptions", "entries", "key", "value", "ee", "EventEmitter", "normalizedUrlString", "normalizeUrl", "stream", "crypto", "revalidate", "madeRequest", "makeRequest", "options_", "requestErrored", "requestErrorCallback", "requestErrorPromise", "resolve", "handler", "response", "revalidatedPolicy", "CachePolicy", "headers", "convertHeaders", "Response", "clonedResponse", "cloneResponse", "bodyPromise", "getStream", "body", "ttl", "key_", "error", "CacheError", "request_", "RequestError", "get", "cacheEntry", "policy", "errorHandler", "Keyv", "cachek", "name", "fn", "args", "clone", "PassThroughStream", "mimicResponse", "result", "dist_default", "import_decompress_response", "import_get_stream", "isFunction", "value", "isAsyncIterable", "value", "isFunction", "readStream", "readable", "reader", "done", "getStreamIterator", "source", "alphabet", "createBoundary", "size", "res", "normalizeValue", "value", "match", "i", "str", "getType", "value", "isPlainObject", "pp", "getProperty", "target", "prop", "name", "value", "proxyHeaders", "object", "isFormData", "value", "isFunction", "escapeName", "name", "isFile", "value", "isFunction", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_FormDataEncoder_instances", "_FormDataEncoder_CRLF", "_FormDataEncoder_CRLF_BYTES", "_FormDataEncoder_CRLF_BYTES_LENGTH", "_FormDataEncoder_DASHES", "_FormDataEncoder_encoder", "_FormDataEncoder_footer", "_FormDataEncoder_form", "_FormDataEncoder_options", "_FormDataEncoder_getFieldHeader", "_FormDataEncoder_getContentLength", "defaultOptions", "readonlyProp", "FormDataEncoder", "form", "boundaryOrOptions", "options", "isFormData", "boundary", "isPlainObject", "createBoundary", "headers", "contentLength", "proxyHeaders", "name", "raw", "isFile", "normalizeValue", "part", "getStreamIterator", "header", "escapeName", "size", "length", "import_node_buffer", "import_node_util", "isFormData", "body", "dist_default", "getBodySize", "body", "headers", "dist_default", "isFormData", "proxyEvents", "from", "to", "events", "eventFunctions", "event", "eventFunction", "args", "import_node_net", "unhandle", "handlers", "origin", "event", "fn", "handler", "reentry", "noop", "TimeoutError", "threshold", "event", "timedOut", "request", "delays", "options", "cancelers", "once", "unhandleAll", "unhandle", "addTimeout", "delay", "callback", "timeout", "cancel", "host", "hostname", "timeoutHandler", "cancelTimeouts", "error", "cancelTimeout", "response", "socket", "socketTimeoutHandler", "hasLookup", "hasConnect", "hasSecureConnect", "hasSend", "socketPath", "hasPath", "net", "timeConnect", "timeRequest", "urlToOptions", "url", "options", "dist_default", "WeakableMap", "key", "value", "calculateRetryDelay", "attemptCount", "retryOptions", "error", "retryAfter", "computedValue", "hasMethod", "hasErrorCode", "hasStatusCode", "noise", "calculate_retry_delay_default", "import_node_process", "import_node_util", "import_node_url", "import_node_tls", "import_node_http", "import_node_https", "import_node_dns", "import_node_util", "import_node_os", "AsyncResolver", "dnsPromises", "kCacheableLookupCreateConnection", "kCacheableLookupInstance", "kExpires", "supportsALL", "verifyAgent", "agent", "map4to6", "entries", "entry", "getIfaceInfo", "has4", "has6", "device", "os", "iface", "isIterable", "map", "ignoreNoResultErrors", "dnsPromise", "error", "ttl", "all", "all4", "all6", "CacheableLookup", "cache", "maxTtl", "fallbackDuration", "errorTtl", "resolver", "lookup", "dnsLookup", "interval", "servers", "hostname", "options", "callback", "result", "cached", "filtered", "_iface", "source", "pending", "newPromise", "A", "AAAA", "aTtl", "aaaaTtl", "cacheTtl", "now", "data", "cacheError", "query", "ms", "nextRemovalTime", "nextExpiry", "expires", "import_http2_wrapper", "parseLinkHeader", "link", "parsed", "items", "item", "rawUriReference", "rawLinkParameters", "trimmedUriReference", "reference", "parameters", "rawParameter", "trimmedRawParameter", "center", "name", "value", "major", "minor", "process", "validateSearchParameters", "searchParameters", "key", "value", "assert", "dist_default", "globalCache", "globalDnsCache", "getGlobalDnsCache", "CacheableLookup", "defaultInternals", "computedValue", "response", "rawLinkHeader", "next", "parseLinkHeader", "entry", "cloneInternals", "internals", "hooks", "retry", "result", "cloneRaw", "raw", "getHttp2TimeoutOption", "delays", "delay", "init", "options", "withOptions", "self", "initHooks", "hook", "Options", "_Options", "input", "defaults", "error", "push", "href", "isFormData", "urlString", "url", "matches", "socketPath", "path", "setCookie", "getCookieString", "updated", "_value", "knownHookEvent", "typedKnownHookEvent", "fixedValue", "lowercaseKeys", "method", "_depth", "agent", "https", "pfx", "object", "request", "http2wrapper", "http", "isResponseOk", "response", "statusCode", "limitStatusCode", "ParseError", "RequestError", "error", "options", "parseBody", "responseType", "parseJson", "encoding", "rawBody", "isClientRequest", "clientRequest", "is_client_request_default", "isUnixSocketURL", "url", "getBuffer", "getStream", "supportsBrotli", "dist_default", "process", "methodsWithoutBody", "cacheableStore", "WeakableMap", "redirectCodes", "proxiedRequestEvents", "noop", "Request", "_Request", "url", "options", "defaults", "source", "event", "Options", "error", "body", "UploadError", "abort", "AbortError", "job", "response", "attemptCount", "RequestError", "typedError", "backoff", "retryAfter", "retryOptions", "calculate_retry_delay_default", "error_", "resolve", "timeout", "hook", "updatedOptions", "request", "data", "progress", "chunk", "encoding", "callback", "write", "endRequest", "destination", "headers", "isForm", "isJSON", "isBody", "cannotHaveBody", "noContentType", "isFormData", "encoder", "FormDataEncoder", "form", "json", "uploadBodySize", "getBodySize", "decompressResponse", "statusCode", "typedResponse", "http", "isResponseOk", "ReadError", "rawCookies", "promises", "rawCookie", "promise", "MaxRedirectsError", "serverRequestedGet", "canRewrite", "userRequestedGet", "redirectBuffer", "redirectUrl", "isUnixSocketURL", "HTTPError", "key", "isAllowed", "value", "from", "rawBody", "source_default", "timedOut", "responseEventName", "TimeoutError", "proxyEvents", "reject", "currentRequest", "cache", "cacheableRequest", "requestOptions", "handler", "result", "urlToOptions", "cacheRequest", "fix", "requestOrPromise", "username", "password", "cookieJar", "credentials", "cookieString", "fn", "requestOrResponse", "is_client_request_default", "CacheError", "percent", "CancelError", "RequestError", "request", "proxiedRequestEvents", "asPromise", "firstRequest", "globalRequest", "globalResponse", "normalizedOptions", "emitter", "promise", "PCancelable", "resolve", "reject", "onCancel", "CancelError", "makeRequest", "retryCount", "request", "Request", "response", "contentEncoding", "isCompressed", "options", "parseBody", "error", "isResponseOk", "hooks", "index", "hook", "updatedOptions", "RetryError", "dist_default", "HTTPError", "onError", "previousBody", "newRetryCount", "newBody", "proxyEvents", "event", "fn", "shortcut", "responseType", "newPromise", "headers", "delay", "ms", "resolve", "isGotInstance", "value", "dist_default", "aliases", "create", "defaults", "Options", "got", "url", "options", "defaultOptions", "request", "Request", "promise", "lastHandler", "normalized", "asPromise", "iteration", "iterateHandlers", "newOptions", "result", "descriptors", "key", "instancesOrOptions", "handlers", "mutableDefaults", "paginateEach", "normalizedOptions", "pagination", "assert", "allItems", "countLimit", "numberOfRequests", "response", "parsed", "currentItems", "item", "optionsToMerge", "results", "method", "create_default", "defaults", "Options", "got", "create_default", "source_default", "import_api", "BASE_PASSPORT_URL", "BASE_API_URL", "API", "page", "timeZone", "pn", "ps", "fresh_idx_1h", "fetch_row", "fresh_idx", "brush", "number", "id", "bvid", "cid", "import_api", "import_api", "import_api", "checkLogin", "cache", "today", "import_api", "import_api", "import_api", "import_api", "import_api", "getDynamicFeed", "cookie", "res", "source_default", "API", "import_qrcode", "import_api", "import_child_process", "import_node_process", "import_execa", "runAppleScript", "script", "humanReadableOutput", "process", "outputArguments", "stdout", "execa", "import_api", "preference", "doNotify", "title", "type", "subtitle", "link", "runAppleScript", "status", "formatUrl", "notify", "item", "liveDate", "sleep", "time", "resolve", "Command", "checkLogin", "items", "getDynamicFeed", "newNotifications", "oldNotifications", "startNotifyIndex", "oldNotifyId", "newNotifyId", "unNotifies", "unNotify"]
}
